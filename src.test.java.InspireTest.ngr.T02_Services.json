[{"line":2,"elements":[{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":116107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:27.793 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":80504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":154209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":184111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":417224,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":202712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":731742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":156209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":1075262,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"95e2c712-1b91-4f24-9453-c56b95227717","description":"","id":"95e2c712-1b91-4f24-9453-c56b95227717","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":4992389,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":44002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":27501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":24901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '95e2c712-1b91-4f24-9453-c56b95227717'","result":{"duration":26501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":23601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":23601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":612689734,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '95e2c712-1b91-4f24-9453-c56b95227717'","result":{"duration":1274373,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":903152,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":858750,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":833648,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1127465,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1076662,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":171510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":798746,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":919454,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":900152,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":457927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":335519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:28.432 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":866650,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":290117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:28.434 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1076763,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":480028,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:28.435 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":181510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":402923,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:28.436 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":824047,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":443126,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:28.437 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":405223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:28.437 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f2f86edf-ac3a-48e8-9292-0544da2d7645 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":752844,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"95e2c712-1b91-4f24-9453-c56b95227717\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1123665,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"95e2c712-1b91-4f24-9453-c56b95227717\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":861150,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":129808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:27.805 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":82205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":158310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":188711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":407324,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":194411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":1117365,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":144108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":543131,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"fbe544b6-6e6f-43a0-80b9-ced1df78c434","description":"","id":"fbe544b6-6e6f-43a0-80b9-ced1df78c434","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":82405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":40902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":28101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":25401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'fbe544b6-6e6f-43a0-80b9-ced1df78c434'","result":{"duration":27001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":26702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":24201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":569498935,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":9001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'fbe544b6-6e6f-43a0-80b9-ced1df78c434'","result":{"duration":1623694,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1061062,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":918453,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":915753,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1215870,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1084962,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":169309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":930253,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":825147,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":881751,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":530330,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":335420,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:28.389 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1193569,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":764244,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:28.391 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1393180,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":665339,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:28.394 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":353520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":523330,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:28.395 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":980857,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":289717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:28.396 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":344820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:28.396 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ad6caa40-89ab-47e3-85ab-3f8e32024a71#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":903552,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"fbe544b6-6e6f-43a0-80b9-ced1df78c434\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":9039223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"fbe544b6-6e6f-43a0-80b9-ced1df78c434\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1140166,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":122307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:27.794 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":86505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":195211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":188911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":459326,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":190811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":677139,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":171910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":6695287,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"72f30ca1-3b80-4020-b9ed-301b1a88df39","description":"","id":"72f30ca1-3b80-4020-b9ed-301b1a88df39","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":84305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":44202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":28901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":25201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '72f30ca1-3b80-4020-b9ed-301b1a88df39'","result":{"duration":2292533,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":92506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":47902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":664446926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '72f30ca1-3b80-4020-b9ed-301b1a88df39'","result":{"duration":1436883,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":920253,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":817047,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":812947,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1113965,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1070362,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":427725,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":883351,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":859949,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":2827663,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":271116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":621936,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:28.487 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":890052,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":496428,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:28.489 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":852149,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":444626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:28.490 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":191511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":387822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:28.491 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":985457,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":503829,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:28.492 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":398223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:28.492 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=588a4cb1-b442-4ac1-87e4-40401e353166#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":814047,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"72f30ca1-3b80-4020-b9ed-301b1a88df39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1302275,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"72f30ca1-3b80-4020-b9ed-301b1a88df39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":2812762,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":132008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:27.794 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":96606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":181911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":200311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":509030,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":216413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":747743,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":176510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":5301407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0bb27a13-76f1-4374-8d44-76e937198e8d","description":"","id":"0bb27a13-76f1-4374-8d44-76e937198e8d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":92305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":56703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":35702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":29502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0bb27a13-76f1-4374-8d44-76e937198e8d'","result":{"duration":26701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":26601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":25901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":709383925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0bb27a13-76f1-4374-8d44-76e937198e8d'","result":{"duration":1104664,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":835548,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":763145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":757744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":977956,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":920753,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":147108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":849850,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":800346,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":799647,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":1088063,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":919253,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:28.524 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-Maritieme-grenzen-Noordzee.gml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":796346,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":568533,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:28.525 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":839949,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":593834,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:28.526 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":169810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":536431,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:28.527 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":618936,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":636037,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:28.528 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":2522845,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:28.531 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=a5241416-8401-4623-be61-57ef50447a41&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":768544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0bb27a13-76f1-4374-8d44-76e937198e8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1484686,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0bb27a13-76f1-4374-8d44-76e937198e8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":713641,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":35002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:28.410 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":49803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":74604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":101506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":502629,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":99506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":670538,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":73505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":153009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"755d488b-7b94-4883-95be-6aa279604f85","description":"","id":"755d488b-7b94-4883-95be-6aa279604f85","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":29102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":57103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":11301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '755d488b-7b94-4883-95be-6aa279604f85'","result":{"duration":99006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":542003645,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '755d488b-7b94-4883-95be-6aa279604f85'","result":{"duration":1464885,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1001658,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":854549,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":929553,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1220470,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1103963,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":172510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":920753,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":891551,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":741443,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":425125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":295617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:28.965 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":749643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":293217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:28.966 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":960455,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":401824,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:28.968 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":198211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":279916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:28.968 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":871151,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":221112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:28.969 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":233314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:28.970 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=36a7e8cb-8300-4602-93d2-135943365a6f \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":711941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"755d488b-7b94-4883-95be-6aa279604f85\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":791046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"755d488b-7b94-4883-95be-6aa279604f85\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":625036,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":29202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:28.443 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":48103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":60703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":100506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":395422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":76205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":491929,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":63604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":290716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545","description":"","id":"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":47803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9fd2324b-9e02-4eab-bd4a-8e2be4fcd545'","result":{"duration":76805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":544660199,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9fd2324b-9e02-4eab-bd4a-8e2be4fcd545'","result":{"duration":1524288,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":797946,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":735443,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":700340,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":3623809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1009759,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":144408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":781846,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":739943,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":792146,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":257115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":322318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:29.002 [print] https:\/\/inspire.rivm.nl\/geoserver\/airq\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":795145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":315518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:29.003 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":835448,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":284717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:29.004 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":174310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":245614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:29.005 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":758444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":298917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:29.006 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":266316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:29.006 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2cc2c30c-91b8-412a-a060-e84d25272581 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":738843,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":762644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":651738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":30902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:28.500 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":46002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":62504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":95006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":845448,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":89105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":512030,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":64704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":489329,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c47e4ef8-951e-4765-8d01-29150c12a22d","description":"","id":"c47e4ef8-951e-4765-8d01-29150c12a22d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":35202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c47e4ef8-951e-4765-8d01-29150c12a22d'","result":{"duration":117807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":579745928,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":9201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c47e4ef8-951e-4765-8d01-29150c12a22d'","result":{"duration":1943413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1022959,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":744543,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":770444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1010859,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":918453,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":149709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":767144,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":3095479,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":825748,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":914353,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":388622,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:29.096 [print] https:\/\/www.broinspireservices.nl\/atom\/services.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":798546,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":303817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:29.097 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":875250,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":295617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:29.098 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":185510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":253115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:29.099 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":816847,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":6254162,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:29.106 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":310118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:29.106 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=7D35598D-DFBF-C64D-0F1A-92A80A45EB14&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":783046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c47e4ef8-951e-4765-8d01-29150c12a22d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":858849,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c47e4ef8-951e-4765-8d01-29150c12a22d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":666838,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":27802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:28.537 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":65404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":63603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":352820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":58604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":693540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":59404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":343820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"bd14098b-44e6-47e5-959d-f40dda65da5a","description":"","id":"bd14098b-44e6-47e5-959d-f40dda65da5a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":28901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'bd14098b-44e6-47e5-959d-f40dda65da5a'","result":{"duration":60204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":589188874,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bd14098b-44e6-47e5-959d-f40dda65da5a'","result":{"duration":936054,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":864450,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":775145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":805746,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":974957,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":930554,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":140908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":785945,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":825647,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":818847,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":403624,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":352220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:29.137 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":827248,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":336720,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:29.138 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":805846,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":352521,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:29.139 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":157509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":312518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:29.140 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":797146,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":331119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:29.141 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":303118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:29.141 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d9baa847-4652-4588-abe1-0b050f40f27f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":785546,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"bd14098b-44e6-47e5-959d-f40dda65da5a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":722741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"bd14098b-44e6-47e5-959d-f40dda65da5a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":5145298,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":77505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:28.975 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":57603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":152108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":292217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":596735,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":199312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":575433,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":122407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":185110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"777f41ee-8269-4bbc-b0e4-f889c62be099","description":"","id":"777f41ee-8269-4bbc-b0e4-f889c62be099","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":94606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":45602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":28401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":24602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '777f41ee-8269-4bbc-b0e4-f889c62be099'","result":{"duration":26902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":23001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":23701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":553292398,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '777f41ee-8269-4bbc-b0e4-f889c62be099'","result":{"duration":1208870,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":917753,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":780145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":787946,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":892552,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":895352,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":69904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":717841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":710742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":724542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":105506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1098463,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:29.540 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":751343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":156109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:29.541 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1089863,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":111507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:29.543 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":489228,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":440926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:29.543 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":856049,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":109807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:29.545 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":45902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:29.545 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=50a2c5e6-c8e7-425d-854e-26f578196bc9#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2511145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"777f41ee-8269-4bbc-b0e4-f889c62be099\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1007659,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"777f41ee-8269-4bbc-b0e4-f889c62be099\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":741843,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":81305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:29.012 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":65404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":168510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":214912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":549032,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":204012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":578633,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":144009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":260616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"745968a3-37af-4406-988e-ec595f58c7fe","description":"","id":"745968a3-37af-4406-988e-ec595f58c7fe","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":91006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":52303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":28701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":21901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '745968a3-37af-4406-988e-ec595f58c7fe'","result":{"duration":19902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":19201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":19501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":551164675,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '745968a3-37af-4406-988e-ec595f58c7fe'","result":{"duration":809847,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":830648,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":798146,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":746744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":713541,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":752043,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":57104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":692340,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":683239,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":722342,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":100306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":693940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:29.574 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":719242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":108406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:29.575 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1036760,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":484628,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:29.576 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":107707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":442626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:29.577 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":818247,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":487728,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:29.578 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":691140,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:29.579 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d24ccb35-e9d2-41bf-b231-43083fc0c76d \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":770745,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"745968a3-37af-4406-988e-ec595f58c7fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":765444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"745968a3-37af-4406-988e-ec595f58c7fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":697041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":84205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:29.113 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":68304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":171410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":211012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":491828,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":201512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":588334,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":185811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":337919,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"664862cb-d426-4ee4-97ac-14c12b903b54","description":"","id":"664862cb-d426-4ee4-97ac-14c12b903b54","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":83004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":45803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":30401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":25101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '664862cb-d426-4ee4-97ac-14c12b903b54'","result":{"duration":26401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":23501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":23901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":566154542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":10100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '664862cb-d426-4ee4-97ac-14c12b903b54'","result":{"duration":1622894,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1302175,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":962456,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":769245,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2464542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":887151,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":48703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":788945,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":683939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":699640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":753444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":732342,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:29.694 [print] https:\/\/www.broinspireservices.nl\/wms\/oshhgqm-a-v1.0?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":17706824,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":195611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:29.712 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":702841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":148309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:29.713 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":93105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":105206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:29.713 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":734343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":147608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:29.714 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":76304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:29.714 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6050578f-0010-4bfa-b013-c8617b80ba62&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":712941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"664862cb-d426-4ee4-97ac-14c12b903b54\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":628336,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"664862cb-d426-4ee4-97ac-14c12b903b54\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":609835,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":89606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:29.152 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":68704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":181311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":185610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":509830,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":193111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":618036,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":154409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":1030259,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b4b59b2c-156d-412e-b8f0-c0779402de80","description":"","id":"b4b59b2c-156d-412e-b8f0-c0779402de80","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":104506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":49602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":28302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":24802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b4b59b2c-156d-412e-b8f0-c0779402de80'","result":{"duration":23702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":24402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":24102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":528384758,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b4b59b2c-156d-412e-b8f0-c0779402de80'","result":{"duration":1013958,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":831748,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1622394,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":920453,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":929654,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":2129923,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":81305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":707141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":692840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":3592508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":722841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":721441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:29.699 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":738943,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":2350036,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:29.702 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":746143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":467127,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:29.704 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":106007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":377722,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:29.704 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":755944,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":831948,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:29.706 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":675239,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:29.706 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":812047,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b4b59b2c-156d-412e-b8f0-c0779402de80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":964856,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b4b59b2c-156d-412e-b8f0-c0779402de80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":696240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":27602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:29.552 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":79504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":62804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":66804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":378122,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":110306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":424024,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":48003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":399223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"17ad94f6-4961-448b-a6f5-5368b7870409","description":"","id":"17ad94f6-4961-448b-a6f5-5368b7870409","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":31502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '17ad94f6-4961-448b-a6f5-5368b7870409'","result":{"duration":69304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":559565061,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '17ad94f6-4961-448b-a6f5-5368b7870409'","result":{"duration":1301075,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1095163,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":947555,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":916853,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1097063,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1005958,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":59104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":850549,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":832048,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":671039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":666038,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":771545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:30.124 [print] https:\/\/inspire.caris.nl\/geoserver3\/bathy_wcs\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":715442,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":1009858,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:30.126 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":713542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":518030,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:30.127 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":69904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":397923,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:30.128 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":742743,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":497729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:30.129 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":589434,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:30.130 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/xml.metadata.get?uuid=a322184d-6285-4856-bb78-f450b30ffc0e#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":753744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"17ad94f6-4961-448b-a6f5-5368b7870409\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":934354,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"17ad94f6-4961-448b-a6f5-5368b7870409\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":681739,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":29202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:29.584 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":70604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":61604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":75404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":370021,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":68604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":489828,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":59304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":464527,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7c664a91-1aa2-4923-9d17-6a43e4075f47","description":"","id":"7c664a91-1aa2-4923-9d17-6a43e4075f47","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":36202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7c664a91-1aa2-4923-9d17-6a43e4075f47'","result":{"duration":78405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":570730607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7c664a91-1aa2-4923-9d17-6a43e4075f47'","result":{"duration":754744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":661938,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":639637,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":698141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":787945,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":767845,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":141108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":627336,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":587134,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":688340,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":764545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":883951,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:30.165 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-Territoriale-Zee-Noordzee-feed.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":730642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":494429,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:30.166 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":734143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":462526,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:30.168 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":73304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":437426,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:30.168 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":717241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":519530,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:30.170 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":725242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:30.170 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=bb11be63-bd38-4632-bf54-df44c423a529#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":794445,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7c664a91-1aa2-4923-9d17-6a43e4075f47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":6180857,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7c664a91-1aa2-4923-9d17-6a43e4075f47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":691040,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":26402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:29.712 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":45503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":599035,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":10163088,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":90906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":513530,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":2903168,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":421824,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"6d86c14f-cccf-41e9-a58e-ead9d52ae35d","description":"","id":"6d86c14f-cccf-41e9-a58e-ead9d52ae35d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":33002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '6d86c14f-cccf-41e9-a58e-ead9d52ae35d'","result":{"duration":76504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":584952830,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6d86c14f-cccf-41e9-a58e-ead9d52ae35d'","result":{"duration":793746,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":792646,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":749843,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":649538,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":858849,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":796246,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":45502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":661938,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":682739,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":707741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":113907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":167909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:30.320 [print] http:\/\/data.waterkwaliteitsportaal.nl\/inspire\/vs\/AM \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":690640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":124007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:30.321 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":693441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":1915310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:30.324 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":67904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":456326,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:30.324 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":755743,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":464627,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:30.325 [print] Informatiehuis Water \n","line":56}},{"name":"print operateson","result":{"duration":642237,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:30.326 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=110f9ec6-4464-462e-9765-83d90cefbeab&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":776845,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"6d86c14f-cccf-41e9-a58e-ead9d52ae35d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1776203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"6d86c14f-cccf-41e9-a58e-ead9d52ae35d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":673239,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":28601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:29.727 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":59203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":84005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":90905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":611335,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":73004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":549732,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":64804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":69204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e5ef707f-6458-4567-8d2c-d24fe88ab5e9","description":"","id":"e5ef707f-6458-4567-8d2c-d24fe88ab5e9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":18301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e5ef707f-6458-4567-8d2c-d24fe88ab5e9'","result":{"duration":77605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":546974933,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e5ef707f-6458-4567-8d2c-d24fe88ab5e9'","result":{"duration":1086163,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":885052,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":730242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":674639,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":765744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":736543,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":40702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":629936,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":704941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":670939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":120907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":125007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:30.287 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/zoutvelden_en_productieputten?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1402381,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":118007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:30.288 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":973956,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":107406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:30.290 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":351621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":83504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:30.290 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1005558,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":109107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:30.291 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":422325,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:30.292 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=e3b0da1e-0664-4025-b3f5-a54d74a26450&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1293475,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e5ef707f-6458-4567-8d2c-d24fe88ab5e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1002958,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e5ef707f-6458-4567-8d2c-d24fe88ab5e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":609135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:30.139 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":56703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":376522,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":60504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":416724,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":53603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":390622,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3d01c1ca-973c-4652-baa5-39458bb9e181","description":"","id":"3d01c1ca-973c-4652-baa5-39458bb9e181","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":30802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":32502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3d01c1ca-973c-4652-baa5-39458bb9e181'","result":{"duration":68704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":567740533,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3d01c1ca-973c-4652-baa5-39458bb9e181'","result":{"duration":1093063,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":884251,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":826748,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":769345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":856249,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":884351,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":46102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":689940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":760944,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":714542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":769144,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":785346,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:30.718 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierenpercelen\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":779745,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":517130,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:30.719 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":679940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":470428,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:30.720 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":63203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":413624,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:30.721 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":889151,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":475328,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:30.722 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":759844,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:30.723 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe0e1e5f-512f-4bb1-bbf8-4028d3dfa24f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":851149,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3d01c1ca-973c-4652-baa5-39458bb9e181\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":894852,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3d01c1ca-973c-4652-baa5-39458bb9e181\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":706441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":29202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:30.184 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":58404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":68104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":385022,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":67804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":499428,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":60604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":488429,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c7dad4b9-42a8-452f-a33b-d4938ed22142","description":"","id":"c7dad4b9-42a8-452f-a33b-d4938ed22142","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":33202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c7dad4b9-42a8-452f-a33b-d4938ed22142'","result":{"duration":81705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":564013118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c7dad4b9-42a8-452f-a33b-d4938ed22142'","result":{"duration":877351,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":763644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":618236,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":591934,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":663838,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":707141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":41603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":673439,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":611235,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":649737,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":544232,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":608535,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:30.758 [print] https:\/\/inspire.caris.nl\/gs5\/MarineRegion\/ows?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":689340,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":474228,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:30.759 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":693940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":492128,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:30.760 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":76704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":447025,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:30.761 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":804846,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":529131,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:30.762 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":760044,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:30.763 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f44dac86-2228-412f-8355-e56446ca9933#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":711341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c7dad4b9-42a8-452f-a33b-d4938ed22142\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":774645,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c7dad4b9-42a8-452f-a33b-d4938ed22142\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":567533,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":25502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:30.297 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":68604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":391323,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":64603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":473827,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":54903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":450126,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"22bedc12-e9cb-4419-8e51-dfb375d46d01","description":"","id":"22bedc12-e9cb-4419-8e51-dfb375d46d01","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":32402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '22bedc12-e9cb-4419-8e51-dfb375d46d01'","result":{"duration":69004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":517262014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '22bedc12-e9cb-4419-8e51-dfb375d46d01'","result":{"duration":1184669,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":912853,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":781646,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":754743,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":881451,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":838448,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":46103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":726943,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":661838,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":673039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":509329,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1644595,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:30.827 [print] http:\/\/services.inspire-provincies.nl\/NaturalRiskZones\/services\/view_NZ?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":811747,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":321218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:30.828 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":746643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":247714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:30.829 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":91406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":158609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:30.829 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":771945,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":232213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:30.830 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":203512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:30.831 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88f76a94-ee4d-4e0c-9fde-91b692403e39&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=08af1182-91fe-4d21-aa21-ee002953c3cc&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=d91126e0-e37b-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=667ebfb0-e37c-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":813347,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"22bedc12-e9cb-4419-8e51-dfb375d46d01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1423582,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"22bedc12-e9cb-4419-8e51-dfb375d46d01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":765545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:30.332 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":61004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":348220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":62004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":490029,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":1123465,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":463627,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ddf33bff-8de3-4cca-b6f5-24d18daa502f","description":"","id":"ddf33bff-8de3-4cca-b6f5-24d18daa502f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":32201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ddf33bff-8de3-4cca-b6f5-24d18daa502f'","result":{"duration":68904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":546058380,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ddf33bff-8de3-4cca-b6f5-24d18daa502f'","result":{"duration":1037960,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":853950,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":760544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":684839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":807147,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":879351,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":70304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":727342,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":703341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":712941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":106607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":895152,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:30.890 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnwater2015\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":737343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":116107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:30.891 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1050261,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":107906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:30.892 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":359020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":500229,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:30.893 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":836649,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":506830,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:30.894 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":996057,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:30.895 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbeag#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbead#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":814548,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ddf33bff-8de3-4cca-b6f5-24d18daa502f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1203469,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ddf33bff-8de3-4cca-b6f5-24d18daa502f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":669639,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":28201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:30.728 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":43303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":126807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":80705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":374621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":66804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":488928,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":53503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":460227,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"364c5d7a-d6ec-11ea-87d0-0242ac130003","description":"","id":"364c5d7a-d6ec-11ea-87d0-0242ac130003","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":33302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '364c5d7a-d6ec-11ea-87d0-0242ac130003'","result":{"duration":81904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":546948231,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '364c5d7a-d6ec-11ea-87d0-0242ac130003'","result":{"duration":1462885,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":879751,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":716841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":698141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1061661,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":867851,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":135607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1749802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":831048,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":779945,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":641738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":667638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:31.288 [print] #notpresent \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":765744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":571933,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:31.290 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":747043,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":580234,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:31.291 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":210712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":617235,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:31.292 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":739243,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":618336,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:31.293 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":872251,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:31.294 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=2a379cc6-d16e-11ea-87d0-0242ac130003&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":742543,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"364c5d7a-d6ec-11ea-87d0-0242ac130003\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":746943,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"364c5d7a-d6ec-11ea-87d0-0242ac130003\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":591035,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":25502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:30.768 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":60104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":65604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":343620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":63003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":479328,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":54504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":458927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0d2ca03b-fb7b-466a-bb93-e2bfb596e394","description":"","id":"0d2ca03b-fb7b-466a-bb93-e2bfb596e394","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":33302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0d2ca03b-fb7b-466a-bb93-e2bfb596e394'","result":{"duration":75004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":583508745,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0d2ca03b-fb7b-466a-bb93-e2bfb596e394'","result":{"duration":1380180,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1075662,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":941754,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":924453,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1287474,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":889551,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":142209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1271673,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":829948,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":808646,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":207112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":343820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:31.364 [print] https:\/\/inspire.caris.nl\/gs5\/pssa_nl\/ows?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":837749,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":226413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:31.365 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":980057,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":330619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:31.366 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":189111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":164009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:31.367 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":972857,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":261415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:31.368 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":301717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:31.368 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=f1d27179-36eb-4376-8048-f51d2eb23a09&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":764244,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0d2ca03b-fb7b-466a-bb93-e2bfb596e394\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":655638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0d2ca03b-fb7b-466a-bb93-e2bfb596e394\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":624336,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":27401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:30.837 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":106706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":75204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":652438,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":72404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":538731,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":57003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":235413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7dc30aed-0940-4e69-b34c-9f24b34078eb","description":"","id":"7dc30aed-0940-4e69-b34c-9f24b34078eb","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":30702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7dc30aed-0940-4e69-b34c-9f24b34078eb'","result":{"duration":78805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":575938808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":9500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7dc30aed-0940-4e69-b34c-9f24b34078eb'","result":{"duration":1462484,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1269574,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1172268,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1151667,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1245972,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":965656,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":133508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":821648,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":787245,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":744343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":182511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":310518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:31.426 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":811947,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":252815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:31.427 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":924154,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":204111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:31.428 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":311818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":179811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:31.429 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":903552,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":195911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:31.430 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":272216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:31.430 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f8d840bc-18df-4449-b797-b9adcb81d3ec \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":750443,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7dc30aed-0940-4e69-b34c-9f24b34078eb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":914653,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7dc30aed-0940-4e69-b34c-9f24b34078eb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":610535,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":64003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:30.901 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":148509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":89006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":121107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":374422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":66204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":483628,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":61503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":468027,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b","description":"","id":"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":34902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b'","result":{"duration":87205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":555812744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b'","result":{"duration":1029760,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":942855,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":772945,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":945454,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1039360,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":967556,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":173910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":843549,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":862950,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":835848,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":214213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":391722,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:31.469 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":942454,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":219713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:31.470 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":854649,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":197312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:31.471 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":279316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":168510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:31.472 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":899652,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":195811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:31.473 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":260715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:31.473 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":893652,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":742943,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":592134,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":72304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:31.300 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":52303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":162310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":191211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":477928,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":186811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":1963013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":162510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":164809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"710a6a9b-c09f-4660-b15a-2d5bee27e7e3","description":"","id":"710a6a9b-c09f-4660-b15a-2d5bee27e7e3","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":66904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":45002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":23401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":21902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '710a6a9b-c09f-4660-b15a-2d5bee27e7e3'","result":{"duration":22802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":23201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":18901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":556044658,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '710a6a9b-c09f-4660-b15a-2d5bee27e7e3'","result":{"duration":1193269,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":937454,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":818147,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":794045,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1318776,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":887352,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":69904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":764844,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":656838,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":647538,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":446626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":382222,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:31.870 [print] https:\/\/service.pdok.nl\/cbs\/gebiedsindelingen\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":731542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":372722,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:31.871 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":721542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":322418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:31.872 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":62203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":263715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:31.872 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":742043,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":316218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:31.873 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":294717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:31.874 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=effe1ab0-073d-437c-af13-df5c5e07d6cd#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":731443,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"710a6a9b-c09f-4660-b15a-2d5bee27e7e3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":877050,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"710a6a9b-c09f-4660-b15a-2d5bee27e7e3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":642737,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":92105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:31.374 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":62204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":164110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":174810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":715941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":190911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":638537,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":150609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":180610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2931d583-9633-49d3-ad38-aabea82f6751","description":"","id":"2931d583-9633-49d3-ad38-aabea82f6751","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":186211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":73604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":33302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":48402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2931d583-9633-49d3-ad38-aabea82f6751'","result":{"duration":32702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":23402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":22102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":534933236,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":9500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2931d583-9633-49d3-ad38-aabea82f6751'","result":{"duration":1184968,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1024859,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1696198,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":917353,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1021959,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":898652,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":70204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":646637,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":653538,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":643337,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":467727,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":411023,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:31.922 [print] https:\/\/service.pdok.nl\/bzk\/bro-hydrogeology\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":667938,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":370822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:31.923 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":677739,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":323319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:31.924 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":63403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":267015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:31.925 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":715341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":324019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:31.926 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":280917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:31.926 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":706041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2931d583-9633-49d3-ad38-aabea82f6751\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":905452,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2931d583-9633-49d3-ad38-aabea82f6751\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":616036,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":81304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:31.436 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":60904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":164910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":187311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":471428,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":237813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":586234,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":145109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":211212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"91b1f8ca-63a0-4ce6-b7e1-456ee6945638","description":"","id":"91b1f8ca-63a0-4ce6-b7e1-456ee6945638","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":183611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":63704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":32101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":21001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '91b1f8ca-63a0-4ce6-b7e1-456ee6945638'","result":{"duration":19401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":18401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":18301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":557958668,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '91b1f8ca-63a0-4ce6-b7e1-456ee6945638'","result":{"duration":1306975,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1056161,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":901752,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":797346,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":833449,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":2923969,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":119807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":720842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":697341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":732542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":110807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":294017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:32.008 [print] https:\/\/service.pdok.nl\/rvo\/schelpdierpercelen\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":754343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":129308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:32.009 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1729600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":102406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:32.011 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":60603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":46002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:32.011 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":793046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":228613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:32.012 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":1597992,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:32.014 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c4b4e95a-12d7-4c74-933c-cb267cfe0bcf#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":708441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"91b1f8ca-63a0-4ce6-b7e1-456ee6945638\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":892551,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"91b1f8ca-63a0-4ce6-b7e1-456ee6945638\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":658638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":81505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:31.478 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":105406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":175410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":183011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":617935,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":199811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":590734,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":149109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":252515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c99b1291-c51f-49c8-902d-5bd4148cbbde","description":"","id":"c99b1291-c51f-49c8-902d-5bd4148cbbde","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":182511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":52103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":27901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":23101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c99b1291-c51f-49c8-902d-5bd4148cbbde'","result":{"duration":21601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":20902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":21501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":529684833,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c99b1291-c51f-49c8-902d-5bd4148cbbde'","result":{"duration":852549,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":800546,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":746443,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":833248,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":894752,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":833349,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":43202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":692840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":683840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":699840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":100706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1078662,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:32.020 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/HabitatsAndBiotopes\\\/services\\\/view_HB?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":728442,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":158010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:32.021 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":700340,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":97006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:32.022 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":849150,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":104106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:32.023 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":828948,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":106006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:32.024 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":51403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:32.024 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88e2a6fa-b296-4ff4-bc30-fb87e2c1627e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":835649,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c99b1291-c51f-49c8-902d-5bd4148cbbde\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":684239,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c99b1291-c51f-49c8-902d-5bd4148cbbde\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":3522804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":28002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:31.880 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":67203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":800846,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":78604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":503129,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":58103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":312118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0898d4a9-8fe6-46e9-8855-1242d8028970","description":"","id":"0898d4a9-8fe6-46e9-8855-1242d8028970","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":28701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0898d4a9-8fe6-46e9-8855-1242d8028970'","result":{"duration":105606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":532637103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0898d4a9-8fe6-46e9-8855-1242d8028970'","result":{"duration":1031259,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":784545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":699041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":684440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":816647,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":742843,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":42703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":645137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":632037,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":631836,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":3144082,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":274116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:32.426 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/richtlijnoverstromingsrisico2018\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":752544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":181810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:32.427 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":707941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":177011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:32.428 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":59903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":118507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:32.428 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":733742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":161209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:32.429 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":119807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:32.429 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=ror-9d8e-4758-83fx-28b057f185f1#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=ror-9d8e-4758-83fx-28b057f185e1#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":723242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0898d4a9-8fe6-46e9-8855-1242d8028970\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":885751,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0898d4a9-8fe6-46e9-8855-1242d8028970\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":695341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":27801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:31.940 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":43103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":84105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":404523,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":64304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":484328,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":52303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":1104264,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c21c6bf5-8899-4b46-8986-0f65eca05ed0","description":"","id":"c21c6bf5-8899-4b46-8986-0f65eca05ed0","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":58703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c21c6bf5-8899-4b46-8986-0f65eca05ed0'","result":{"duration":103706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":530522981,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":8801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c21c6bf5-8899-4b46-8986-0f65eca05ed0'","result":{"duration":1252773,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1137766,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":995657,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1001557,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1106664,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":996658,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":43803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":709241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":691440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":690740,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":107406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":112306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:32.482 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/richtlijnstedelijkafvalwater2015\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":691540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":104406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:32.483 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":691940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":103806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:32.484 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":51803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":56104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:32.484 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":857350,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":99206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:32.485 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":69704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:32.485 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":810847,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c21c6bf5-8899-4b46-8986-0f65eca05ed0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":948255,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c21c6bf5-8899-4b46-8986-0f65eca05ed0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":755044,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:32.026 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":46803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":81505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":71004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":367222,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":63204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":499329,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":69304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":65203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b85d4a0a-c0f7-42f4-9316-b214d205ca38","description":"","id":"b85d4a0a-c0f7-42f4-9316-b214d205ca38","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":34402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":30702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b85d4a0a-c0f7-42f4-9316-b214d205ca38'","result":{"duration":84905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":532760711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b85d4a0a-c0f7-42f4-9316-b214d205ca38'","result":{"duration":1089263,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":960655,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":814747,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":743343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":866250,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":798546,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":42403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":668039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":750044,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":797146,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":104506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":236413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:32.568 [print] http:\/\/inspire.rdw.nl\/www\/download\/rdw-inspire.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":796946,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":104306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:32.569 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":755444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":97406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:32.570 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":62303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":109706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:32.571 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":853449,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":144209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:32.572 [print] RDW \n","line":56}},{"name":"print operateson","result":{"duration":67204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:32.572 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe2f9091-1962-4073-9e3b-3e4aeed488a5#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":768344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b85d4a0a-c0f7-42f4-9316-b214d205ca38\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":932054,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b85d4a0a-c0f7-42f4-9316-b214d205ca38\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":670739,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:32.031 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":63304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":322618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":58504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":430625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":47903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":800147,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"641a0f48-872b-4470-b130-e3d28e6bfdfb","description":"","id":"641a0f48-872b-4470-b130-e3d28e6bfdfb","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":32801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '641a0f48-872b-4470-b130-e3d28e6bfdfb'","result":{"duration":70904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":572812427,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '641a0f48-872b-4470-b130-e3d28e6bfdfb'","result":{"duration":1185469,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1111364,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":986457,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1046161,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":860550,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":789045,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":63103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":687740,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":673439,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":688640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":111806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":236614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:32.615 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnmarienestrategie2018\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":710041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":111106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:32.616 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":685340,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":94705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:32.617 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":49303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":52603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:32.617 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":795246,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":95806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:32.618 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":51703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:32.618 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e4#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":799946,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"641a0f48-872b-4470-b130-e3d28e6bfdfb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":872251,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"641a0f48-872b-4470-b130-e3d28e6bfdfb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":700841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":26001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:32.435 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":60103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":141608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":368321,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":65004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":464727,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":56203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":143508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"91041d33-54f8-40f1-8965-a867ba00cab8","description":"","id":"91041d33-54f8-40f1-8965-a867ba00cab8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":25501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":25901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '91041d33-54f8-40f1-8965-a867ba00cab8'","result":{"duration":79704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":533777069,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":10100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '91041d33-54f8-40f1-8965-a867ba00cab8'","result":{"duration":1517588,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1256373,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1201170,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1149066,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":966256,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":778445,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":42602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":657338,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":600535,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":682840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":223313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":217113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:32.980 [print] https:\/\/inspire.caris.nl\/geoserver2\/gn\/wfs?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":699741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":193911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:32.981 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":683240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":240714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:32.982 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":61703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":176810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:32.983 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":756344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":256015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:32.984 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":178010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:32.984 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/xml.metadata.get?uuid=34e95842-4e4e-46de-9198-79e8cd4d30dc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":764044,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"91041d33-54f8-40f1-8965-a867ba00cab8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":2621952,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"91041d33-54f8-40f1-8965-a867ba00cab8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":628436,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":25202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:32.490 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":67104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":378622,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":94505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":481928,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":53903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":118606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f5660ac6-8031-4acc-832c-1d1b82b062ba","description":"","id":"f5660ac6-8031-4acc-832c-1d1b82b062ba","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f5660ac6-8031-4acc-832c-1d1b82b062ba'","result":{"duration":76205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":527986834,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f5660ac6-8031-4acc-832c-1d1b82b062ba'","result":{"duration":1008158,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":810746,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":701240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":721742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":771545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":16626561,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":303218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":865250,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":853850,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":807546,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":205812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":932854,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:33.045 [print] https:\/\/www.gdngeoservices.nl\/inspire\/downloads\/services.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":802047,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":204512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:33.046 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1111764,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":222113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:33.047 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":475427,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":159510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:33.048 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":734142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":189811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:33.049 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":206812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:33.050 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=11a292bd-9022-4a9f-b1bf-02f5c89ad74a&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":747843,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f5660ac6-8031-4acc-832c-1d1b82b062ba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":752344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f5660ac6-8031-4acc-832c-1d1b82b062ba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":602035,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":32702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:32.577 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":65304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":368021,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":62104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":492329,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":53103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":60004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"914a6e0c-2aae-42f8-8425-2a047c245dab","description":"","id":"914a6e0c-2aae-42f8-8425-2a047c245dab","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":43703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":40302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '914a6e0c-2aae-42f8-8425-2a047c245dab'","result":{"duration":79905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":536513628,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":9101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '914a6e0c-2aae-42f8-8425-2a047c245dab'","result":{"duration":1668396,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1326277,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1268373,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":809646,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1073062,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":800346,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":157009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":829948,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":814248,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":805046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":816148,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":848149,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:33.127 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b_wfs?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":846349,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":577933,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:33.128 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":741843,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":533831,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:33.129 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":153109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":533031,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:33.130 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":756944,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":650737,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:33.131 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":816448,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:33.132 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":792746,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"914a6e0c-2aae-42f8-8425-2a047c245dab\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":698640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"914a6e0c-2aae-42f8-8425-2a047c245dab\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":561533,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:32.623 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":115107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":423625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":78804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":469927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":50503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":67704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5255c080-5f4e-4f7a-8a2c-6ac9d0103288","description":"","id":"5255c080-5f4e-4f7a-8a2c-6ac9d0103288","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5255c080-5f4e-4f7a-8a2c-6ac9d0103288'","result":{"duration":70604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":532775011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5255c080-5f4e-4f7a-8a2c-6ac9d0103288'","result":{"duration":947254,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":824748,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":718242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":700640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1013759,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":783746,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":138108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1108164,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":783846,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1994515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":666839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":701540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:33.168 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":820447,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":1321676,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:33.170 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":817747,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":2975072,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:33.174 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":196312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":556432,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:33.175 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":787845,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":573134,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:33.176 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":843348,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:33.177 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f8d840bc-18df-4449-b797-b9adcb81d3ec \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":768344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5255c080-5f4e-4f7a-8a2c-6ac9d0103288\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":638937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5255c080-5f4e-4f7a-8a2c-6ac9d0103288\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":517230,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":29502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:32.994 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":44102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":72304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":2539746,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":127207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":505529,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":57103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":74804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9","description":"","id":"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2dd6c9df-bb47-40eb-af39-2d17f09b9bb9'","result":{"duration":139208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":540844779,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":9001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2dd6c9df-bb47-40eb-af39-2d17f09b9bb9'","result":{"duration":1646296,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1338178,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1173668,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1191969,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1632594,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":839749,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":154909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":757644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":758344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":747643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":561032,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":391122,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:33.551 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/oppervlaktegeologie?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":799747,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":288816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:33.552 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":937054,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":416824,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:33.553 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":149009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":373621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:33.554 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":729242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":475528,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:33.555 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":382122,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:33.556 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=80630ee7-3a15-4ea0-bdc0-a8aebfa2f204&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":724842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":671239,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":552732,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":80405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:33.055 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":59103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":502929,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":236914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":505429,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":187011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":568033,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":139908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":213912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ebd6ea46-ee7b-432f-83c4-058c889a790d","description":"","id":"ebd6ea46-ee7b-432f-83c4-058c889a790d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":367021,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":47503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":29802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":22402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ebd6ea46-ee7b-432f-83c4-058c889a790d'","result":{"duration":20201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":19501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":35302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":535869191,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ebd6ea46-ee7b-432f-83c4-058c889a790d'","result":{"duration":1119865,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2615751,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1096763,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":854050,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":999157,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":868350,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":53203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":688939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":690640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":728342,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":123707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":797546,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:33.606 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/EnvironmentalMonitoringFacilities\\\/services\\\/download_EF?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":758344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":693341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:33.607 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":739243,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":477327,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:33.609 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":64004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":455426,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:33.609 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":825348,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":490528,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:33.611 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":1088563,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:33.612 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=c829abeb-bfac-4224-8332-e7a9a89e692e&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=fe45c540-e37d-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":843249,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ebd6ea46-ee7b-432f-83c4-058c889a790d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":917153,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ebd6ea46-ee7b-432f-83c4-058c889a790d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":2566748,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":86705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:33.139 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":53603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":145908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":157509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":461627,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":175810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":565032,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":140509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":581534,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2d1860f2-f8ba-457e-bd64-93cdabd69aee","description":"","id":"2d1860f2-f8ba-457e-bd64-93cdabd69aee","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":83205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":43002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":26101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":22601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2d1860f2-f8ba-457e-bd64-93cdabd69aee'","result":{"duration":22501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":20801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":260115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":557889765,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2d1860f2-f8ba-457e-bd64-93cdabd69aee'","result":{"duration":1169968,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":868250,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":777745,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":793746,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":848149,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":810847,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":44803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":683540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":701641,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":690140,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":105806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":813247,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:33.709 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities&service=WMS&version=1.3.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":962856,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":115407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:33.710 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":791145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":105307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:33.711 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":184711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":73904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:33.711 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":832348,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":115407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:33.712 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":156209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:33.712 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4cda487b-c467-490c-a843-6563fec016be#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1031760,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2d1860f2-f8ba-457e-bd64-93cdabd69aee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":868450,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2d1860f2-f8ba-457e-bd64-93cdabd69aee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":6206959,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":84905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:33.183 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":58604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":169610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":176310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":477628,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":176310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":557732,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":165310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":563433,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1512b29e-80d4-4677-bcae-a3f9f82a223d","description":"","id":"1512b29e-80d4-4677-bcae-a3f9f82a223d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":83705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":54103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":28002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":23101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1512b29e-80d4-4677-bcae-a3f9f82a223d'","result":{"duration":22301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":20802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":235614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":560486914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1512b29e-80d4-4677-bcae-a3f9f82a223d'","result":{"duration":914953,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":808147,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":823848,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":736342,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":803447,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":756944,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":48103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":621136,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":686140,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":649238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":519430,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":556432,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:33.757 [print] https:\/\/service.pdok.nl\/brt\/top10nl\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":669639,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":456926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:33.758 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":655638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":502729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:33.759 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":64204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":437025,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:33.760 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":759944,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":466127,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:33.761 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":804946,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:33.762 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=29d5310f-dd0d-45ba-abad-b4ffc6b8785f&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":761244,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1512b29e-80d4-4677-bcae-a3f9f82a223d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1145966,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1512b29e-80d4-4677-bcae-a3f9f82a223d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":604635,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":76804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:33.565 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":99606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":159710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":192712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":732842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":245214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":573734,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":133808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":394323,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d","description":"","id":"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":77804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":39902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":25301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":229313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd796fd8d-b1e0-465c-a55b-1e9fe885fc3d'","result":{"duration":26601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":21101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":269316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":552420848,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":8801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd796fd8d-b1e0-465c-a55b-1e9fe885fc3d'","result":{"duration":1322277,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1061862,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":897252,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":816848,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":836248,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":855650,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":1721799,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":720941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":687940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":712442,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":478327,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":368922,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:34.132 [print] https:\/\/www.broinspireservices.nl\/wms\/osgegmw-a-v1.0?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":705441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":272915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:34.133 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":678539,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":239014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:34.134 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":59803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":182110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:34.135 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":852350,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":283017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:34.136 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":1570591,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:34.137 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=f99e915a-75e5-4c36-97f2-61eff692d85b&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":801346,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":989757,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":627836,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":27302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:33.624 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":65004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":376422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":62603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":455926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":51303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":68604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5","description":"","id":"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":38002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5'","result":{"duration":95305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":534613417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5'","result":{"duration":822247,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":845848,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":767844,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":734242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":800246,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":774745,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":51703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":674139,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":660338,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":721442,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":110306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":309718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:34.168 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":705341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":259415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:34.169 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":702841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":242814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:34.170 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":58803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":150508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:34.170 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":776345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":240614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:34.171 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":406423,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:34.172 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e1e99000-ec47-4e9f-84a5-adad24fef0dc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":751744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":919953,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":610136,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":25801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:33.725 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":69704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":399423,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":87905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":477227,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":51603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":80204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6","description":"","id":"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1a8d5470-8c5e-477a-ab6b-4893b6d21ab6'","result":{"duration":104806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":618204961,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":9300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1a8d5470-8c5e-477a-ab6b-4893b6d21ab6'","result":{"duration":1437683,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1234172,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":744643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":752944,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1513687,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":774745,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":42602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":691940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":672739,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":634237,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":341920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":349320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:34.355 [print] https:\/\/www.broinspireservices.nl\/wms\/osgebor-a-v1.0?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":672139,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":237014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:34.356 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":2279632,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":246514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:34.358 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":59004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":232514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:34.359 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":748843,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":1098864,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:34.360 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":74004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:34.361 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6c1cf452-8c62-4046-99ab-640a5e184f9c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":809947,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":5421514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":678640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":25101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:33.768 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":67904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":358321,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":64504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":985657,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":60404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":517329,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e","description":"","id":"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":32402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":31202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a299a4af-ccd8-4d32-b1fb-ffab77b32e0e'","result":{"duration":98006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":609819080,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a299a4af-ccd8-4d32-b1fb-ffab77b32e0e'","result":{"duration":917453,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":815847,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":728542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":721642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":813147,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":769945,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":649738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1592092,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":742943,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":150009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":623436,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:34.390 [print] https:\/\/www.broinspireservices.nl\/wfs\/osgegmw-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":684540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":463227,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:34.391 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":711341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":441126,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:34.392 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":65404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":441126,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:34.393 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":780145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":477128,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:34.394 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":756544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:34.395 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=f99e915a-75e5-4c36-97f2-61eff692d85b&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":804647,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":837848,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":571133,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:34.142 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":65004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":357321,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":68204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":538631,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":54104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":220913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e222648d-d19e-4a99-a67d-2af1c9aabd75","description":"","id":"e222648d-d19e-4a99-a67d-2af1c9aabd75","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":26701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e222648d-d19e-4a99-a67d-2af1c9aabd75'","result":{"duration":69604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":530634035,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e222648d-d19e-4a99-a67d-2af1c9aabd75'","result":{"duration":1146266,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":821747,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":723141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":725242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":838148,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":777445,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":53903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":665038,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":686139,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":674239,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":99705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":110607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:34.682 [print] https:\/\/service.pdok.nl\/kadaster\/cp\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":677840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":96005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:34.683 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":649538,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":97205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:34.684 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":49503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":51103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:34.684 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":765144,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":101206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:34.685 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":53003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:34.685 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e80ad426-1392-4349-9f80-14dae5f1bf57#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":731742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e222648d-d19e-4a99-a67d-2af1c9aabd75\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":917253,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e222648d-d19e-4a99-a67d-2af1c9aabd75\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":654738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:34.177 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":68703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":73704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":392723,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":63003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":480128,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":51503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":206212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"243c6401-9ed1-4cdd-b9a7-caff08813ce4","description":"","id":"243c6401-9ed1-4cdd-b9a7-caff08813ce4","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":28902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '243c6401-9ed1-4cdd-b9a7-caff08813ce4'","result":{"duration":72104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":543861505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '243c6401-9ed1-4cdd-b9a7-caff08813ce4'","result":{"duration":896452,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":741943,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":763044,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":697940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":774245,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":783546,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":41902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":650438,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":644937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":636837,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":101206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":148609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:34.730 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-EEZ-volgens-UNCLOS-feed.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":631836,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":95806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:34.731 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":712941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":92005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:34.732 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":48703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":46902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:34.732 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":716841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":90906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:34.732 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":43603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:34.733 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e8b84fae-00b3-49c1-80c1-df8f69f64e8c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":726142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"243c6401-9ed1-4cdd-b9a7-caff08813ce4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":821048,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"243c6401-9ed1-4cdd-b9a7-caff08813ce4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":540131,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":27002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:34.373 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":47903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":61703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":73604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":384122,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":65904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":501129,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":55403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":110407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"68a7e4c1-0073-4a1a-a6df-084d2badf45a","description":"","id":"68a7e4c1-0073-4a1a-a6df-084d2badf45a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":24401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":31702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '68a7e4c1-0073-4a1a-a6df-084d2badf45a'","result":{"duration":92506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":541145057,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68a7e4c1-0073-4a1a-a6df-084d2badf45a'","result":{"duration":1090263,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":787845,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":695841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":683239,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":783945,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":752444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":55803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":666638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":608135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":598535,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":92805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":111506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:34.925 [print] https:\/\/service.pdok.nl\/cbs\/wb2019\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":834948,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":96806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:34.926 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":771044,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":97706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:34.927 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":47003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":166210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:34.927 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":810347,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":95906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:34.928 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":52704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:34.928 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5c37d29a-006d-4136-8989-adfc35a1d4a7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":849749,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"68a7e4c1-0073-4a1a-a6df-084d2badf45a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":745044,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"68a7e4c1-0073-4a1a-a6df-084d2badf45a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":627936,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":25001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:34.401 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":69904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":357120,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":979957,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":499529,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":56804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":500329,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0426f471-f325-42ed-a775-81c397592e86","description":"","id":"0426f471-f325-42ed-a775-81c397592e86","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":31202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0426f471-f325-42ed-a775-81c397592e86'","result":{"duration":77804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":539709675,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0426f471-f325-42ed-a775-81c397592e86'","result":{"duration":27625201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":989258,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":789546,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":747943,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":9089127,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1165368,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":146708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":838748,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":810047,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":877450,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":294017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":384722,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:34.988 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":944555,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":209312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:34.990 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":972257,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":242315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:34.991 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":248014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":205412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:34.991 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":916253,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":190011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:34.992 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":281016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:34.993 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8a4f5c3b-aced-48fd-afb5-f1f1d0ef21d6#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":892352,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0426f471-f325-42ed-a775-81c397592e86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":642437,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0426f471-f325-42ed-a775-81c397592e86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":549332,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:34.690 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":68904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":358420,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":113907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":505129,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":53503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":64203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5471a93b-cf18-43f5-9ddb-71987857435d","description":"","id":"5471a93b-cf18-43f5-9ddb-71987857435d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5471a93b-cf18-43f5-9ddb-71987857435d'","result":{"duration":79304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":561630644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":9400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5471a93b-cf18-43f5-9ddb-71987857435d'","result":{"duration":1661096,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1373680,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1168968,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1303376,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1590492,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1121365,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":131808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":747043,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":762744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":745844,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":442125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":369722,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:35.265 [print] https:\/\/www.broinspireservices.nl\/wfs\/oshhgqm-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":797446,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":380222,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:35.266 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":817547,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":376722,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:35.267 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":149208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":269816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:35.268 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":718042,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":327519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:35.269 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":275416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:35.269 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6050578f-0010-4bfa-b013-c8617b80ba62&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":759444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5471a93b-cf18-43f5-9ddb-71987857435d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":627036,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5471a93b-cf18-43f5-9ddb-71987857435d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":555632,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:34.737 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":60204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":64104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":359421,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":62804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":514129,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":54804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":69104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9","description":"","id":"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9'","result":{"duration":74104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":552039189,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":30202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9'","result":{"duration":835048,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":715241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":661038,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":679540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":847049,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":842849,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":128107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":689240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":736343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":682340,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":177410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1074962,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:35.299 [print] https:\/\/service.pdok.nl\/bzk\/bro-geomorfologischekaart\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1100864,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":184611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:35.301 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1049961,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":179411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:35.302 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":447926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":150909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:35.303 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":740442,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":471127,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:35.304 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":441725,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:35.304 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8f52e76f-c96d-4df3-a778-279c2164372b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=459231d0-7379-4f26-a444-7616e1d888f0#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2389239,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":651938,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":584034,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:34.933 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":53903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":85005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":67104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":394623,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":60703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":536331,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":65004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":53403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"23aa5150-fcc7-46ea-ae63-a7f198d8bc18","description":"","id":"23aa5150-fcc7-46ea-ae63-a7f198d8bc18","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '23aa5150-fcc7-46ea-ae63-a7f198d8bc18'","result":{"duration":69104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":588051775,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":9001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '23aa5150-fcc7-46ea-ae63-a7f198d8bc18'","result":{"duration":1340778,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":912552,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":738642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":741143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1178369,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":923353,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":128308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":781446,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":803347,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":821947,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":188111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":756344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:35.533 [print] https:\/\/inspire.rivm.nl\/geoserver\/airq\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":777945,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":202212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:35.534 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1115865,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":166809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:35.536 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":441026,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":153909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:35.536 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1147166,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":189811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:35.538 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":140108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:35.538 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2cc2c30c-91b8-412a-a060-e84d25272581 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":778345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"23aa5150-fcc7-46ea-ae63-a7f198d8bc18\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":673739,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"23aa5150-fcc7-46ea-ae63-a7f198d8bc18\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":514830,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":80605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:34.999 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":59103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":4977288,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":245115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":503529,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":226913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":571433,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":136508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":160710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"081bcfff-5f66-467c-95d0-d88dcf9aa4cf","description":"","id":"081bcfff-5f66-467c-95d0-d88dcf9aa4cf","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":66404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":157809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":63603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":27902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '081bcfff-5f66-467c-95d0-d88dcf9aa4cf'","result":{"duration":22402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":21101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":43302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":579527782,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '081bcfff-5f66-467c-95d0-d88dcf9aa4cf'","result":{"duration":1055261,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":818647,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":731042,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":724842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":874251,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":989957,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":57303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":752643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":686739,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":731543,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":95005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":113907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:35.595 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":711541,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":109707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:35.596 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1070762,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":109906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:35.597 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":46402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":427825,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:35.598 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1050161,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":97905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:35.599 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":806147,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:35.600 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b3f66964-a8c1-456f-9799-9cafca2cb7b1 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":728242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"081bcfff-5f66-467c-95d0-d88dcf9aa4cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":857850,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"081bcfff-5f66-467c-95d0-d88dcf9aa4cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":601635,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":93905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:35.274 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":58904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":161310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":202911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":533931,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":168710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":556732,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":134608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":251615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0606e8cb-fa51-402c-a3be-19fd724b0a10","description":"","id":"0606e8cb-fa51-402c-a3be-19fd724b0a10","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":78005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":54604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":33702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":22601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0606e8cb-fa51-402c-a3be-19fd724b0a10'","result":{"duration":20901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":30202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":20802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":533736729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":8800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0606e8cb-fa51-402c-a3be-19fd724b0a10'","result":{"duration":3522504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2057019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":748044,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":704140,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":788645,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":836048,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":40602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":727942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1424082,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":693140,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":105906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":106506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:35.823 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":648338,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":120707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:35.824 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":962156,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":96506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:35.825 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":332519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":86805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:35.826 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":681540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":93305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:35.827 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":53303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:35.827 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f2f86edf-ac3a-48e8-9292-0544da2d7645 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":799446,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0606e8cb-fa51-402c-a3be-19fd724b0a10\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":812647,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0606e8cb-fa51-402c-a3be-19fd724b0a10\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":544232,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":76505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:35.313 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":48103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":161309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":134208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":398023,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":148408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":465227,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":196411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":159909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"15c3c30f-0db2-4b3b-80f6-b990c8fc8225","description":"","id":"15c3c30f-0db2-4b3b-80f6-b990c8fc8225","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":390323,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":67904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":30201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":22501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '15c3c30f-0db2-4b3b-80f6-b990c8fc8225'","result":{"duration":22101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":20501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":20501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":540233405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '15c3c30f-0db2-4b3b-80f6-b990c8fc8225'","result":{"duration":908252,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":784645,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":727442,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":763445,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":804946,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":757944,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":756344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":664839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":686740,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":99906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":667939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:35.864 [print] https:\/\/service.pdok.nl\/hwh\/hydrografie\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":699040,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":97506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:35.865 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":666538,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":88905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:35.866 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":46203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":41003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:35.866 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":730043,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":87405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:35.867 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":38102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:35.867 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=07575774-57a1-4419-bab4-6c88fdeb02b2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":750944,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"15c3c30f-0db2-4b3b-80f6-b990c8fc8225\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":744543,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"15c3c30f-0db2-4b3b-80f6-b990c8fc8225\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":8909016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":72704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:35.543 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":48702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":167110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":170509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":445226,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":159409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":526331,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":126207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":174110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"702060c1-b3fd-44ec-8cc6-d4249d150110","description":"","id":"702060c1-b3fd-44ec-8cc6-d4249d150110","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":394423,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":65604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":46003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":29002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '702060c1-b3fd-44ec-8cc6-d4249d150110'","result":{"duration":22401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":20702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":20901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":536690199,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '702060c1-b3fd-44ec-8cc6-d4249d150110'","result":{"duration":1242772,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":869051,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":722842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":774245,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":860850,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":809847,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":39002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":700141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":694240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":641437,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":110306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":127407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:36.091 [print] http:\/\/services.inspire-provincies.nl\/HabitatsAndBiotopes\/services\/download_HB?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":840349,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":105906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:36.092 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":689840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":95505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:36.093 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":43903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":46003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:36.093 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":725242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":100306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:36.094 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":43802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:36.094 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88e2a6fa-b296-4ff4-bc30-fb87e2c1627e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":773345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"702060c1-b3fd-44ec-8cc6-d4249d150110\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":852249,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"702060c1-b3fd-44ec-8cc6-d4249d150110\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":637737,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:35.604 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":347520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":58804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":504730,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":51302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":69704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1009c2a4-4dba-49a5-b643-914ba8b80b52","description":"","id":"1009c2a4-4dba-49a5-b643-914ba8b80b52","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":17201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1009c2a4-4dba-49a5-b643-914ba8b80b52'","result":{"duration":73804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":546781184,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1009c2a4-4dba-49a5-b643-914ba8b80b52'","result":{"duration":1012259,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":803147,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":734042,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":718741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":821348,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":787446,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":684339,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":660038,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":637337,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":98606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":117807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:36.161 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":752644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":107806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:36.162 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":681539,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":99406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:36.163 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":43602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":47503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:36.163 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":716242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":96205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:36.164 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":45603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:36.164 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":734843,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1009c2a4-4dba-49a5-b643-914ba8b80b52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":862050,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1009c2a4-4dba-49a5-b643-914ba8b80b52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":549732,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:35.831 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":64804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":355620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":59304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":490329,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":46502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":65604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"00e8746f-5031-413e-8343-9203c8ea82ee","description":"","id":"00e8746f-5031-413e-8343-9203c8ea82ee","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '00e8746f-5031-413e-8343-9203c8ea82ee'","result":{"duration":71304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":542969564,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '00e8746f-5031-413e-8343-9203c8ea82ee'","result":{"duration":1107564,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":852250,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":811547,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":809247,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":864250,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":820948,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":690040,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":933854,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":632137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":90605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":107706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:36.384 [print] http:\/\/services.inspire-provincies.nl\/NaturalRiskZones\/services\/download_NZ?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1279574,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":100306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:36.385 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":975957,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":97806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:36.387 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":457127,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":118407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:36.387 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1147566,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":101806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:36.388 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":1524688,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:36.390 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88f76a94-ee4d-4e0c-9fde-91b692403e39&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=08af1182-91fe-4d21-aa21-ee002953c3cc&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=d91126e0-e37b-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=667ebfb0-e37c-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":801447,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"00e8746f-5031-413e-8343-9203c8ea82ee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":894652,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"00e8746f-5031-413e-8343-9203c8ea82ee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":657038,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":27002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:35.880 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":61103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":64903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":395423,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":85505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":493028,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":55103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":161409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"dda53ebc-bee7-4765-8f1f-6ac59b0aec39","description":"","id":"dda53ebc-bee7-4765-8f1f-6ac59b0aec39","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":25702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'dda53ebc-bee7-4765-8f1f-6ac59b0aec39'","result":{"duration":95105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":526398403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dda53ebc-bee7-4765-8f1f-6ac59b0aec39'","result":{"duration":857150,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":834948,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":759144,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":761244,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":783345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":715442,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":45402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":636937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":687640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":681540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":86705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":708841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:36.416 [print] https:\/\/www.broinspireservices.nl\/wms\/ossobor-a-v1.0?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":684739,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":102206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:36.417 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":986957,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":96106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:36.418 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":62503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":98306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:36.419 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":810547,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":127608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:36.420 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":809047,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:36.421 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=9dd9bf30-36e6-45ae-b368-bdef2720bdde&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":741442,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"dda53ebc-bee7-4765-8f1f-6ac59b0aec39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":637937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"dda53ebc-bee7-4765-8f1f-6ac59b0aec39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":540831,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:36.099 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":63904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":348220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":60903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":442026,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":48603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":54103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5dfccef3-9b52-47f2-bb02-66b74aaf3af8","description":"","id":"5dfccef3-9b52-47f2-bb02-66b74aaf3af8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5dfccef3-9b52-47f2-bb02-66b74aaf3af8'","result":{"duration":86105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":539413057,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":9500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5dfccef3-9b52-47f2-bb02-66b74aaf3af8'","result":{"duration":1431483,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1212471,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":751444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":684940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":770345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":645437,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":579834,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":597235,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":651738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":461927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":350320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:36.649 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":668139,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":312518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:36.650 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":636937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":298317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:36.651 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":52303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":226313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:36.651 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":695941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":298418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:36.652 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":219412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:36.652 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=4d514a2b-4a7e-4686-b9ea-87cb3e17ed52&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":715442,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5dfccef3-9b52-47f2-bb02-66b74aaf3af8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1652095,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5dfccef3-9b52-47f2-bb02-66b74aaf3af8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":2489144,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":25602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:36.169 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":65804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":378222,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":67504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":444726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":56203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":62303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2","description":"","id":"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a4c5aa6c-6c7f-45d7-9799-011edd83d9c2'","result":{"duration":70204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":568162123,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a4c5aa6c-6c7f-45d7-9799-011edd83d9c2'","result":{"duration":1520988,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1566991,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":685840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":653538,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":891251,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1085863,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":162709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":735143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1341778,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":803646,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":5021291,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":273616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:36.754 [print] https:\/\/inspire.caris.nl\/gs5\/ProspectingAndMiningPermitArea\/ows?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1761202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":2837164,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:36.758 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":924753,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":603335,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:36.760 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":216913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":535631,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:36.761 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":895552,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":842249,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:36.763 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":865550,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:36.763 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c2225e5d-b46f-4e38-8445-ab10fd40c0dc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":735743,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":657538,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":517930,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":46803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:36.395 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":334019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":49603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":392023,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":98306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":61904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b4485d59-a945-4940-a2f5-3ce7de6a947b","description":"","id":"b4485d59-a945-4940-a2f5-3ce7de6a947b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":380122,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":19301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b4485d59-a945-4940-a2f5-3ce7de6a947b'","result":{"duration":76304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":539440159,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":9201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b4485d59-a945-4940-a2f5-3ce7de6a947b'","result":{"duration":1299776,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1453884,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":711541,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":696740,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":955856,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":2277132,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":137508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1300975,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":692240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":697840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":1568091,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":768945,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:36.949 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":779245,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":659338,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:36.951 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":801546,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":570733,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:36.952 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":177011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":461127,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:36.953 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":650938,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":532531,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:36.954 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":739842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:36.955 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b3f66964-a8c1-456f-9799-9cafca2cb7b1 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1214570,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b4485d59-a945-4940-a2f5-3ce7de6a947b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":616636,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b4485d59-a945-4940-a2f5-3ce7de6a947b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":509229,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:36.425 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":60604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":65004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":356620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":55204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":467627,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":57104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":68904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"fa3ecd49-4571-4eb3-84f3-2865f42934b2","description":"","id":"fa3ecd49-4571-4eb3-84f3-2865f42934b2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":33002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'fa3ecd49-4571-4eb3-84f3-2865f42934b2'","result":{"duration":71404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":548437380,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'fa3ecd49-4571-4eb3-84f3-2865f42934b2'","result":{"duration":900552,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1316877,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":634736,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":734943,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":863150,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":843449,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":123007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":703841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1338778,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":725242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":200412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":196711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:36.985 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wfs\/olie_en_gasvelden?service=WFS&request=GetCapabilities&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":744843,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":204212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:36.986 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":807047,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":187011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:36.987 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":123107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":137008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:36.987 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":747743,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":180910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:36.988 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":168010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:36.988 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=b61a773c-ecad-4e60-93e9-0a4caac0b52f&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1231471,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"fa3ecd49-4571-4eb3-84f3-2865f42934b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":598135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"fa3ecd49-4571-4eb3-84f3-2865f42934b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":2503345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":25301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:36.665 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":99706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":1752502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":425825,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":60503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":469127,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":46103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":284717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c6308500-3439-4840-88cb-7532cabbfcb4","description":"","id":"c6308500-3439-4840-88cb-7532cabbfcb4","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":25602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c6308500-3439-4840-88cb-7532cabbfcb4'","result":{"duration":101406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":553453071,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":10701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c6308500-3439-4840-88cb-7532cabbfcb4'","result":{"duration":1829606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1385981,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1272473,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1183869,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1958614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1053661,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":128508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1147566,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":746043,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":762844,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":885352,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":865050,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:37.236 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a_wms?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1372780,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":718941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:37.238 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":820247,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":615436,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:37.240 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":138108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":561032,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:37.241 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":768244,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":567433,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:37.242 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":766044,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:37.243 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":861750,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c6308500-3439-4840-88cb-7532cabbfcb4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1136166,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c6308500-3439-4840-88cb-7532cabbfcb4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":571333,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":76305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:36.769 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":61203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":149908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":206712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":524630,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":166109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":619536,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":133608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":563932,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b5ee6914-04bd-4c7e-a180-242371ae40d9","description":"","id":"b5ee6914-04bd-4c7e-a180-242371ae40d9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":79905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":41102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":23701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":21001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b5ee6914-04bd-4c7e-a180-242371ae40d9'","result":{"duration":20101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":19901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":599935,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":537524248,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b5ee6914-04bd-4c7e-a180-242371ae40d9'","result":{"duration":1301075,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1016559,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1335778,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":720642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":847049,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":886652,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":75104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":666839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":661138,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1234972,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":143808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":715842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:37.320 [print] https:\/\/inspire.rivm.nl\/atom\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":740543,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":110606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:37.321 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":2769961,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":109706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:37.324 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":391823,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":86805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:37.324 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1169267,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":102406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:37.326 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":476728,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:37.326 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=50a2c5e6-c8e7-425d-854e-26f578196bc9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=08b27bf0-e34a-4b30-9eac-5edadfb6a288#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8b0b02a0-1e1b-4cda-bcfe-6fa0f738e38f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f2f86edf-ac3a-48e8-9292-0544da2d7645#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=ad6caa40-89ab-47e3-85ab-3f8e32024a71#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f8d840bc-18df-4449-b797-b9adcb81d3ec#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d3c9efd6-fca7-49d6-92bb-5f507abece90#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=32a21114-8694-40ce-ab76-9dcd885c7861#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d24ccb35-e9d2-41bf-b231-43083fc0c76d#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=36a7e8cb-8300-4602-93d2-135943365a6f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=b3f66964-a8c1-456f-9799-9cafca2cb7b1#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=e1e99000-ec47-4e9f-84a5-adad24fef0dc#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8a4f5c3b-aced-48fd-afb5-f1f1d0ef21d6#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d9baa847-4652-4588-abe1-0b050f40f27f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2cc2c30c-91b8-412a-a060-e84d25272581#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":7352426,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b5ee6914-04bd-4c7e-a180-242371ae40d9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":2422641,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b5ee6914-04bd-4c7e-a180-242371ae40d9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":7775150,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":83405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:36.969 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":52803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":175110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":169810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":499029,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":166610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":573533,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":123007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":2066920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"cd370f58-0e54-48d6-b83b-ccd332bfb7c7","description":"","id":"cd370f58-0e54-48d6-b83b-ccd332bfb7c7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":94705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":42503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":22801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":20201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'cd370f58-0e54-48d6-b83b-ccd332bfb7c7'","result":{"duration":19701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":18601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":21801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":561758952,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cd370f58-0e54-48d6-b83b-ccd332bfb7c7'","result":{"duration":1062462,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":835748,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":748043,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":729542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1430783,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":787646,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":70204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":656238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":666539,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":713341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":95106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":325318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:37.544 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":2088821,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":116506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:37.546 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1040561,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":99805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:37.547 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":388823,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":82405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:37.547 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1046861,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":99306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:37.549 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":404324,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:37.549 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ad6caa40-89ab-47e3-85ab-3f8e32024a71#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1346578,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"cd370f58-0e54-48d6-b83b-ccd332bfb7c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":853549,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"cd370f58-0e54-48d6-b83b-ccd332bfb7c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":521830,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":78005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:36.995 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":51803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":159009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":163310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":472327,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":165410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":663438,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":139108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":172310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"46873d16-6835-48c4-b47f-134ab0cb31fa","description":"","id":"46873d16-6835-48c4-b47f-134ab0cb31fa","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":68904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":38902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":23201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":23901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '46873d16-6835-48c4-b47f-134ab0cb31fa'","result":{"duration":22402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":20301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":22001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":563151033,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '46873d16-6835-48c4-b47f-134ab0cb31fa'","result":{"duration":857750,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":790246,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":776745,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1309376,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":829448,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":768545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":44603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":720342,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":645338,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":666138,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":101406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1309176,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:37.570 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1313076,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":491129,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:37.572 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":686840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":498229,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:37.574 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":56403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":430225,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:37.574 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":816147,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":543431,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:37.575 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":726842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:37.576 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=50a2c5e6-c8e7-425d-854e-26f578196bc9#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":761844,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"46873d16-6835-48c4-b47f-134ab0cb31fa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":721442,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"46873d16-6835-48c4-b47f-134ab0cb31fa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":547932,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":77304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:37.248 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":53203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":159409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":167510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":479427,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":168310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":1129966,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":145508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":235314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0","description":"","id":"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":70705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":40503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":24402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":21101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '6d2fce74-fb25-4322-ab25-1be8a3bc7fd0'","result":{"duration":21901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":19901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":20002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":534860194,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":8100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6d2fce74-fb25-4322-ab25-1be8a3bc7fd0'","result":{"duration":1209470,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":874951,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":695941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":669338,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":768344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1334778,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":40602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":618036,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":616635,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":638737,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":655638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":712641,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:37.796 [print] https:\/\/inspire.caris.nl\/geoserver3\/bathy_wcs\/wcs?request=GetCapabilities&service=WCS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":664839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":506529,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:37.797 [print] OGC:WCS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":656238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":482928,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:37.798 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":633936,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":439826,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:37.799 [print] OGC:WCS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":801246,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":538331,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:37.800 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":757044,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:37.801 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a322184d-6285-4856-bb78-f450b30ffc0e#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":710842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":783345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":577134,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":32501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:37.346 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":46003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":65503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":71004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":482628,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":61503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":479828,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":53203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":71805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d467c2cc-4026-b80a-d4e1a9d2bf79","description":"","id":"d467c2cc-4026-b80a-d4e1a9d2bf79","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":1553590,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd467c2cc-4026-b80a-d4e1a9d2bf79'","result":{"duration":133408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":544011024,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":8100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd467c2cc-4026-b80a-d4e1a9d2bf79'","result":{"duration":1999216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1142267,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1095164,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1076862,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1123565,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1629894,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":672439,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":701441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":714041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":121707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":857050,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:37.913 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/hy-n\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":3832622,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":613336,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:37.918 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":726642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":561533,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:37.919 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":59503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":442125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:37.920 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":830649,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":477428,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:37.921 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":719142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:37.922 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2146024,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d467c2cc-4026-b80a-d4e1a9d2bf79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":738542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d467c2cc-4026-b80a-d4e1a9d2bf79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":512130,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:37.554 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":59504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":375522,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":54103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":484428,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":58003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":100706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"68505be5-45c4-4889-a82a-125043bbdc44","description":"","id":"68505be5-45c4-4889-a82a-125043bbdc44","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":306118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '68505be5-45c4-4889-a82a-125043bbdc44'","result":{"duration":68804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":541066053,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":14600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68505be5-45c4-4889-a82a-125043bbdc44'","result":{"duration":1388280,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1733400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":940054,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":871850,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":867351,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":754543,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":623837,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1241872,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":670139,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":95405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":289817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:38.108 [print] https:\/\/www.broinspireservices.nl\/wfs\/osgebor-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":698640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":106807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:38.109 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":725942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":92705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:38.110 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":53603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":65504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:38.110 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":743243,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":98305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:38.111 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":62804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:38.111 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6c1cf452-8c62-4046-99ab-640a5e184f9c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":859650,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"68505be5-45c4-4889-a82a-125043bbdc44\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":753444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"68505be5-45c4-4889-a82a-125043bbdc44\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":559932,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:37.581 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":356421,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":53803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":1701698,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":62604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":452126,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f39d198a-1e69-43cc-b359-cc60a8c22d28","description":"","id":"f39d198a-1e69-43cc-b359-cc60a8c22d28","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":31202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f39d198a-1e69-43cc-b359-cc60a8c22d28'","result":{"duration":79804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":548735698,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":17201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f39d198a-1e69-43cc-b359-cc60a8c22d28'","result":{"duration":863550,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":764345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":707441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":699040,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":749944,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":737843,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":648037,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":656138,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":669139,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":88805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":174111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:38.141 [print] https:\/\/inspire.rivm.nl\/sos\/eaq\/service?service=AQD&version=1.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":730042,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":100206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:38.141 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":744343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":94305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:38.142 [print] OGC:SOS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":115107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":69804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:38.143 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":871551,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":98706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:38.144 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":160009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:38.144 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=733559a5-201d-40e5-ad43-d1c7bae84d9f\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d3c9efd6-fca7-49d6-92bb-5f507abece90\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=af135cd8-d429-4fc7-b9e3-09e15217520d\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=b3ec8793-7747-4da0-b6c3-aa384446a586\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=5800f3b0-2ea2-4231-8165-216a7b26867f\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d8f370e8-123c-4ab3-9410-04f728327ac6\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f91c6ad6-62a5-46d0-8a5b-8a62e7a4b833\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=500d396f-5ec6-4e4b-a151-5fb3cddd8082\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":790745,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f39d198a-1e69-43cc-b359-cc60a8c22d28\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":715942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f39d198a-1e69-43cc-b359-cc60a8c22d28\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":595335,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:37.806 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":62804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":61804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":385322,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":79805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":557733,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":50303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":456427,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"82fa284e-8218-40e4-a593-c2f8a832c3d5","description":"","id":"82fa284e-8218-40e4-a593-c2f8a832c3d5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":30501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '82fa284e-8218-40e4-a593-c2f8a832c3d5'","result":{"duration":85105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":534153052,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '82fa284e-8218-40e4-a593-c2f8a832c3d5'","result":{"duration":1244872,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1022759,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":795146,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":704341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":809947,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":742944,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":635936,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":631036,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":637537,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":96106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":278716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:38.351 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/olie_en_gasvelden?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":785646,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":148409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:38.352 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":668439,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":99506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:38.353 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":367422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":80604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:38.353 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1030260,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":101206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:38.354 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":413024,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:38.355 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=b61a773c-ecad-4e60-93e9-0a4caac0b52f&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1343878,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"82fa284e-8218-40e4-a593-c2f8a832c3d5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1273674,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"82fa284e-8218-40e4-a593-c2f8a832c3d5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":525531,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:37.928 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":360221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":53703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":457027,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":45802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":447826,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"923a666c-ee4f-496c-8c85-94d5f81e1f30","description":"","id":"923a666c-ee4f-496c-8c85-94d5f81e1f30","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":30302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '923a666c-ee4f-496c-8c85-94d5f81e1f30'","result":{"duration":77305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":531421394,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '923a666c-ee4f-496c-8c85-94d5f81e1f30'","result":{"duration":1479086,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1293775,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1107464,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1123666,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":810247,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":744743,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":632037,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":659538,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":640937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":112207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1689398,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:38.473 [print] https:\/\/inspire.caris.nl\/gs5\/am\/wfs?service=WFS&request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1130865,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":3338793,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:38.477 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":643538,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":281717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:38.478 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":51303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":147509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:38.478 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":691540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":316618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:38.479 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":1465885,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:38.481 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4617f0e0-6af4-4ac0-9044-31df9d03071c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":771145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"923a666c-ee4f-496c-8c85-94d5f81e1f30\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":690940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"923a666c-ee4f-496c-8c85-94d5f81e1f30\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":510030,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:38.115 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":62903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":59804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":414224,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":57603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":601335,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":49803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":68504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"97312a37-4ebf-4526-94e6-b29e90c2944a","description":"","id":"97312a37-4ebf-4526-94e6-b29e90c2944a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":83405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '97312a37-4ebf-4526-94e6-b29e90c2944a'","result":{"duration":119606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":11301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":546406363,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":8900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '97312a37-4ebf-4526-94e6-b29e90c2944a'","result":{"duration":1562890,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1364879,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1196970,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":3165784,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":839449,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":806847,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":669638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":709341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":740843,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":97506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":167210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:38.676 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":688040,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":140208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:38.677 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":685340,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":154909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:38.678 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":63603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":386422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:38.678 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":780845,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":192711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:38.679 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":99505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:38.679 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":737143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"97312a37-4ebf-4526-94e6-b29e90c2944a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":708941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"97312a37-4ebf-4526-94e6-b29e90c2944a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":579234,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:38.148 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":101105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":346320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":53403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":462727,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":46902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":65104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3094a1c4-3dd6-4e8e-9929-4a63dd66992e","description":"","id":"3094a1c4-3dd6-4e8e-9929-4a63dd66992e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":76504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3094a1c4-3dd6-4e8e-9929-4a63dd66992e'","result":{"duration":93806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":539311252,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3094a1c4-3dd6-4e8e-9929-4a63dd66992e'","result":{"duration":785145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":837848,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":824748,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":777445,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":829448,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":825848,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":680940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":689540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":704140,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":120307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":112107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:38.697 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/ProductionAndIndustrialFacilities\\\/services\\\/download_PF?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":714641,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":102906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:38.698 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":687840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":91405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:38.698 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":50603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":102406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:38.699 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":836048,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":101806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:38.700 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":102906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:38.700 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=8e986f37-74d7-4b6c-8026-87c960456423&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=afc450bd-65b3-4e59-b0fb-619869bf6ada&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":799246,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3094a1c4-3dd6-4e8e-9929-4a63dd66992e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":616636,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3094a1c4-3dd6-4e8e-9929-4a63dd66992e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":500929,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":30402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:38.360 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":70904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":62904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":379322,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":54603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":449626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":44503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":83505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a12ae6ca-b755-4707-884f-95c0d66f431a","description":"","id":"a12ae6ca-b755-4707-884f-95c0d66f431a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":350020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a12ae6ca-b755-4707-884f-95c0d66f431a'","result":{"duration":81805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":520202644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":17301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a12ae6ca-b755-4707-884f-95c0d66f431a'","result":{"duration":1020259,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":787845,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":680340,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1490086,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":775945,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":724442,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":90706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":617636,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":612436,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":635437,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":582534,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":643737,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:38.893 [print] https:\/\/inspire.caris.nl\/gs5\/MarineRegion\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":645838,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":484728,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:38.894 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":648838,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":480828,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:38.895 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":49903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":417724,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:38.896 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":704541,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":526230,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:38.897 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":754743,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:38.898 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f44dac86-2228-412f-8355-e56446ca9933#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":712742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a12ae6ca-b755-4707-884f-95c0d66f431a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":747643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a12ae6ca-b755-4707-884f-95c0d66f431a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":528431,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:38.486 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":82705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":404023,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":90105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":455126,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":46202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":66304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0080a9ce-b836-45bc-8fdf-07dcbe97101d","description":"","id":"0080a9ce-b836-45bc-8fdf-07dcbe97101d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0080a9ce-b836-45bc-8fdf-07dcbe97101d'","result":{"duration":92505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":532471155,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":9300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0080a9ce-b836-45bc-8fdf-07dcbe97101d'","result":{"duration":1595192,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1388481,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1145466,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":985757,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":947555,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":758044,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":687740,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":652138,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":631237,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":225413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1045660,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:39.032 [print] https:\/\/service.pdok.nl\/rce\/ps-ch\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":678839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":498829,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:39.033 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":676440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":472128,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:39.034 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":52703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":441425,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:39.035 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":771645,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":472827,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:39.036 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":766344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:39.037 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=493ab81b-75f8-4205-b030-6b2fd9eb4295#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":735543,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0080a9ce-b836-45bc-8fdf-07dcbe97101d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":737943,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0080a9ce-b836-45bc-8fdf-07dcbe97101d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":576733,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:38.684 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":57004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":355821,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":53803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":451026,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":46102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":120307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a149d97f-0d55-462e-9956-5b47bea00a8d","description":"","id":"a149d97f-0d55-462e-9956-5b47bea00a8d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":20202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a149d97f-0d55-462e-9956-5b47bea00a8d'","result":{"duration":70905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":529857703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":8701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a149d97f-0d55-462e-9956-5b47bea00a8d'","result":{"duration":1511488,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1273574,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":782645,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":756744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":837549,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":790946,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":39602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":715942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":699540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":675639,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":231713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":783546,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:39.226 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":698741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":513430,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:39.227 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":731542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":537131,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:39.228 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":52203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":433025,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:39.229 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":782045,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":525131,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:39.230 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":653538,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:39.231 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":808647,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a149d97f-0d55-462e-9956-5b47bea00a8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":738143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a149d97f-0d55-462e-9956-5b47bea00a8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":522430,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:38.704 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":341620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":55003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":449727,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":45803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":67103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"97b49056-8ace-426c-ae3e-bf7efe4c000f","description":"","id":"97b49056-8ace-426c-ae3e-bf7efe4c000f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '97b49056-8ace-426c-ae3e-bf7efe4c000f'","result":{"duration":70404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":538411399,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '97b49056-8ace-426c-ae3e-bf7efe4c000f'","result":{"duration":776145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":736443,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":678339,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":665939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":768045,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":719741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":797846,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":637237,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":626936,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":697141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":599535,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:39.252 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":664038,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":484828,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:39.253 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":663038,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":472128,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:39.254 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":53603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":436426,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:39.255 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":743143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":541031,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:39.256 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":750844,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:39.257 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=1249746f-c2a6-4639-98f2-251676b3528e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1447184,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"97b49056-8ace-426c-ae3e-bf7efe4c000f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":789846,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"97b49056-8ace-426c-ae3e-bf7efe4c000f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":3079879,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:38.902 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":60703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":59203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":402023,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":54503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":456326,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":44603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":446926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1e01d173-96f4-40b1-8236-c6a9cfdac252","description":"","id":"1e01d173-96f4-40b1-8236-c6a9cfdac252","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":28502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1e01d173-96f4-40b1-8236-c6a9cfdac252'","result":{"duration":76804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":531235683,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1e01d173-96f4-40b1-8236-c6a9cfdac252'","result":{"duration":1606293,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1095563,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":945855,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":906953,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1016359,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":837049,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":643637,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":659438,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":651238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":98306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":842149,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:39.445 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a_wfs?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":702640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":155609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:39.446 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":663039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":135908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:39.447 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":43702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":96805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:39.447 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":727142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":98506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:39.448 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":86506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:39.448 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":713542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1e01d173-96f4-40b1-8236-c6a9cfdac252\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":753443,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1e01d173-96f4-40b1-8236-c6a9cfdac252\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":520131,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:39.042 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":60303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":61803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":362021,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":54003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":485628,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":49803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":136807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"77971fa3-f869-4726-969a-482e0b1a8c5d","description":"","id":"77971fa3-f869-4726-969a-482e0b1a8c5d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":31102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":22201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '77971fa3-f869-4726-969a-482e0b1a8c5d'","result":{"duration":85505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":535186413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '77971fa3-f869-4726-969a-482e0b1a8c5d'","result":{"duration":1395781,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1202270,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1137066,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":953656,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":774345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":741143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":633737,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":662538,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":724142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":203112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":176410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:39.588 [print] https:\/\/www.gdngeoservices.nl\/inspire\/downloads\/services.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":720842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":778345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:39.590 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1188369,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":150609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:39.591 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":79505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":110906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:39.592 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1213470,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":153209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:39.594 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":67803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:39.594 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=80630ee7-3a15-4ea0-bdc0-a8aebfa2f204&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1406782,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"77971fa3-f869-4726-969a-482e0b1a8c5d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":795146,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"77971fa3-f869-4726-969a-482e0b1a8c5d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":566433,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":25301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:39.236 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":389723,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":53803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":449826,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":45802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":1429783,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7b4a0b26-5885-45cd-a99d-27887cff68e5","description":"","id":"7b4a0b26-5885-45cd-a99d-27887cff68e5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":34502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7b4a0b26-5885-45cd-a99d-27887cff68e5'","result":{"duration":94005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":565621576,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7b4a0b26-5885-45cd-a99d-27887cff68e5'","result":{"duration":1659896,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1251072,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":721142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":691340,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1043361,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":947855,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":122007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":754344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":796746,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":748544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":534831,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":465527,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:39.814 [print] https:\/\/www.broinspireservices.nl\/wms\/ossosgm-a-v1.0?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":812547,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":434625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:39.816 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":798746,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":448326,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:39.817 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":126007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":360321,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:39.817 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":756644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":441226,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:39.819 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":296617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:39.819 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=a7fb2234-f7b4-4a03-b282-f10947f42fb1&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":753743,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7b4a0b26-5885-45cd-a99d-27887cff68e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":687440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7b4a0b26-5885-45cd-a99d-27887cff68e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":487829,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":26101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:39.266 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":61304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":421825,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":56303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":476627,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":49703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":3573207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"49ff0584-a173-4098-824c-119edf8447f7","description":"","id":"49ff0584-a173-4098-824c-119edf8447f7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":79004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":23301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '49ff0584-a173-4098-824c-119edf8447f7'","result":{"duration":117106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":562455292,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '49ff0584-a173-4098-824c-119edf8447f7'","result":{"duration":904753,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":883751,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":783145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":781646,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1009058,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1071062,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":129007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":793046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":790946,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":810047,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":196412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":205112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:39.842 [print] https:\\\/\\\/services.rce.geovoorziening.nl\\\/rce\\\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":849149,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":195611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:39.844 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":799047,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":183510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:39.845 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":112007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":189711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:39.845 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":842849,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":185811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:39.846 [print] Rijksdienst voor het Cultureel Erfgoed \n","line":56}},{"name":"print operateson","result":{"duration":190511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:39.846 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=6f84efeb-fc1d-4565-a721-80735ea57dbd#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=4e2ef670-cddd-11dd-ad8b-0800200c9a66#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=88a3c1ae-902e-4efa-8663-ddd836101929#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":808247,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"49ff0584-a173-4098-824c-119edf8447f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":706441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"49ff0584-a173-4098-824c-119edf8447f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":660438,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:39.453 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":1059561,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":86105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":68104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":361721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":53203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":450326,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":69104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":65204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"01572637-b851-4cc3-b06a-56c1ae1115cc","description":"","id":"01572637-b851-4cc3-b06a-56c1ae1115cc","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":191911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '01572637-b851-4cc3-b06a-56c1ae1115cc'","result":{"duration":79104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":536165469,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '01572637-b851-4cc3-b06a-56c1ae1115cc'","result":{"duration":1203870,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":851750,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":709941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":730842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":979857,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":899452,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":115707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":710841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":732043,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":787345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":176711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":396923,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:40.000 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1366279,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":350320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:40.002 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1119365,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":207312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:40.003 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":3745017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":221913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:40.007 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":780546,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":217712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:40.008 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":210512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:40.009 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d9baa847-4652-4588-abe1-0b050f40f27f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":743743,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"01572637-b851-4cc3-b06a-56c1ae1115cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":607735,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"01572637-b851-4cc3-b06a-56c1ae1115cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":482128,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:39.599 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":3476102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":417324,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":63704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":23857982,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":228513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":186611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"92826f1e-040d-4099-b9e1-cab6bfc520af","description":"","id":"92826f1e-040d-4099-b9e1-cab6bfc520af","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":76505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":45402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":27902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":48603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '92826f1e-040d-4099-b9e1-cab6bfc520af'","result":{"duration":23701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":23802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":24002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":539858183,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":24602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '92826f1e-040d-4099-b9e1-cab6bfc520af'","result":{"duration":1541789,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1235972,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":709841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":690740,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":998758,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":922854,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":124807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":765844,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":775545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":759544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":186611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":304418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:40.178 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":793346,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":248214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:40.179 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":773245,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":251215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:40.180 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":120207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":172410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:40.180 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":731342,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":233413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:40.181 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":191211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:40.181 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":727142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"92826f1e-040d-4099-b9e1-cab6bfc520af\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":557832,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"92826f1e-040d-4099-b9e1-cab6bfc520af\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":487728,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":77604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:39.824 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":61104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":156909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":199412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":473428,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":180811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":477927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":143409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":296317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c1fb5983-5642-4334-962a-a341cef8c8ff","description":"","id":"c1fb5983-5642-4334-962a-a341cef8c8ff","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":77004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":42302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":23301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":20302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c1fb5983-5642-4334-962a-a341cef8c8ff'","result":{"duration":19901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":19401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":19101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":533321904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c1fb5983-5642-4334-962a-a341cef8c8ff'","result":{"duration":2048018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1226471,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":774345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":789246,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":936754,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":852450,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":39903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":677240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":665739,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":679139,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":95205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":117307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:40.370 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1695498,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":117607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:40.371 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":2704356,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":107106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:40.374 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":42202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":583934,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:40.375 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":806647,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":109507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:40.376 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":446326,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:40.376 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":743143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c1fb5983-5642-4334-962a-a341cef8c8ff\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":747443,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c1fb5983-5642-4334-962a-a341cef8c8ff\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":506729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":76805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:39.851 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":53703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":151909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":158109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":486828,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":162010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":535031,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":139108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":248614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"070014b4-1f63-4819-beea-000b7d5f8d86","description":"","id":"070014b4-1f63-4819-beea-000b7d5f8d86","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":75204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":42303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":24502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":45503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '070014b4-1f63-4819-beea-000b7d5f8d86'","result":{"duration":26201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":22001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":20602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":537654455,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '070014b4-1f63-4819-beea-000b7d5f8d86'","result":{"duration":786846,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":711641,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":677940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":705241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":754444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":717842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":616236,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":608636,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":675439,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":552132,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":651538,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:40.400 [print] https:\/\/www.broinspireservices.nl\/atom\/services.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":703041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":503229,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:40.401 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":684940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":474727,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:40.402 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":48203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":425225,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:40.403 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":727243,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":497029,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:40.404 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":727142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:40.405 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=F646DFB9-5BF6-EAB9-042B-CAB6FF2DC275&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":733442,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"070014b4-1f63-4819-beea-000b7d5f8d86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":641038,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"070014b4-1f63-4819-beea-000b7d5f8d86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":483328,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":78505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:40.014 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":53303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":166610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":177110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":544332,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":161809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":469227,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":126408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":209113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1ff0035a-acc0-4a67-a76c-3b79646b4eef","description":"","id":"1ff0035a-acc0-4a67-a76c-3b79646b4eef","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":408623,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":52503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":26802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":21701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1ff0035a-acc0-4a67-a76c-3b79646b4eef'","result":{"duration":20901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":20801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":20701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":525838871,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":8001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1ff0035a-acc0-4a67-a76c-3b79646b4eef'","result":{"duration":1524588,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1244672,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":946455,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":684240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":745743,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":731742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":44903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":616735,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":642237,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":683640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":748443,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":700841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:40.553 [print] https:\/\/inspire.caris.nl\/server\/services\/ows\/view\/map\/amplitude-getij_IVS?request=GetCapabilities&service=WMS&version=1.3.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":654538,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":488528,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:40.554 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":634537,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":505929,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:40.555 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":54404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":430525,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:40.556 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":691040,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":635037,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:40.557 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":781345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:40.558 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=be6551de-a709-4c6d-a5e2-f63f0cf038ba&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":693141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1ff0035a-acc0-4a67-a76c-3b79646b4eef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":710041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1ff0035a-acc0-4a67-a76c-3b79646b4eef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":578733,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":73304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:40.186 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":49203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":148708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":152609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":489929,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":159509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":482628,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":50602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":136708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"49a53bc1-dd76-417f-b9af-066901ddfec0","description":"","id":"49a53bc1-dd76-417f-b9af-066901ddfec0","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":24201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '49a53bc1-dd76-417f-b9af-066901ddfec0'","result":{"duration":59404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":582354946,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '49a53bc1-dd76-417f-b9af-066901ddfec0'","result":{"duration":1296575,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1051961,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":915153,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":994057,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1136366,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":999658,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":50703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":853549,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":812847,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":637637,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":176311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":952956,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:40.781 [print] https:\/\/inspire.caris.nl\/server\/services\/ows\/download\/feature\/amplitude-getij_IDS?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":677039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":161009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:40.782 [print] OGC:WCS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1221271,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":146609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:40.783 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":408624,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":127708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:40.784 [print] OGC:WCS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1022459,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":151108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:40.785 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":491129,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:40.786 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=be6551de-a709-4c6d-a5e2-f63f0cf038ba&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":705341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"49a53bc1-dd76-417f-b9af-066901ddfec0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":795246,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"49a53bc1-dd76-417f-b9af-066901ddfec0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":523431,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:40.382 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":405723,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":54504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":448626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":46303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":65003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"bb85e473-c04a-42a6-9fdc-f0bb0239327e","description":"","id":"bb85e473-c04a-42a6-9fdc-f0bb0239327e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'bb85e473-c04a-42a6-9fdc-f0bb0239327e'","result":{"duration":75504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":543553797,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bb85e473-c04a-42a6-9fdc-f0bb0239327e'","result":{"duration":1004958,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2521346,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":688740,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":728842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":853149,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":756044,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":46803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":616836,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":629337,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":697440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":347820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":236814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:40.937 [print] https:\/\/service.pdok.nl\/kadaster\/gebouwen\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":610136,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":251915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:40.938 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":606935,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":215713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:40.939 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":64204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":142508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:40.939 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":641137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":239414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:40.940 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":142008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:40.940 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b4ae622c-6201-49d8-bd2e-f7fce9206a1e#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":630337,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"bb85e473-c04a-42a6-9fdc-f0bb0239327e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":819547,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"bb85e473-c04a-42a6-9fdc-f0bb0239327e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":7156215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:40.410 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":108807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":372422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":59904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":504429,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":53203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":280816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"224d93f6-0e4e-41fe-8424-1ab11a6c55ed","description":"","id":"224d93f6-0e4e-41fe-8424-1ab11a6c55ed","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":25601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '224d93f6-0e4e-41fe-8424-1ab11a6c55ed'","result":{"duration":84705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":543538996,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '224d93f6-0e4e-41fe-8424-1ab11a6c55ed'","result":{"duration":797346,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":762544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":688440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":663038,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":830449,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":750343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":635837,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":696240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":631337,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":86405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":668638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:40.965 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":649337,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":104506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:40.966 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":996958,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":98206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:40.967 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":332720,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":86405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:40.968 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1020559,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":144609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:40.969 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":391922,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:40.969 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=36a7e8cb-8300-4602-93d2-135943365a6f \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":706741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"224d93f6-0e4e-41fe-8424-1ab11a6c55ed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":682339,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"224d93f6-0e4e-41fe-8424-1ab11a6c55ed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":711742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:40.563 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":57803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":400023,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":53003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":447226,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":43203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":474928,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"55cf16e8-1c04-462c-b78a-e0d28823dd2e","description":"","id":"55cf16e8-1c04-462c-b78a-e0d28823dd2e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":29302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '55cf16e8-1c04-462c-b78a-e0d28823dd2e'","result":{"duration":70204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":526161489,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '55cf16e8-1c04-462c-b78a-e0d28823dd2e'","result":{"duration":1208770,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1033460,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":972557,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":886751,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1360779,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":970056,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":42603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":808147,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":854449,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":794446,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":97405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":243814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:41.101 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.c4108a11-bdbb-4461-8902-423531561a7e_wfs?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":803047,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":116507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:41.101 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":741243,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":198911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:41.102 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":46603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":107707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:41.103 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":857650,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":109906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:41.104 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":87305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:41.104 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":821648,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"55cf16e8-1c04-462c-b78a-e0d28823dd2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":873150,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"55cf16e8-1c04-462c-b78a-e0d28823dd2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":581734,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:40.791 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":60604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":59804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":376822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":52903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":459126,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":47803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":106706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"76342a6d-452e-4e21-b5c0-81ff7b1be90e","description":"","id":"76342a6d-452e-4e21-b5c0-81ff7b1be90e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":22601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":30401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '76342a6d-452e-4e21-b5c0-81ff7b1be90e'","result":{"duration":82205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":542002207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '76342a6d-452e-4e21-b5c0-81ff7b1be90e'","result":{"duration":1132466,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":949055,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":724142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":715341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":993758,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":823848,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":39002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":661638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":639237,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":640137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":90505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":115006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:41.343 [print] https:\/\/www.broinspireservices.nl\/wfs\/ossobor-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":655638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":108906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:41.344 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":633837,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":128207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:41.345 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":38002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":115507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:41.345 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":723842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":95806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:41.346 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":47303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:41.346 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=9dd9bf30-36e6-45ae-b368-bdef2720bdde&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":696140,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"76342a6d-452e-4e21-b5c0-81ff7b1be90e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":799647,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"76342a6d-452e-4e21-b5c0-81ff7b1be90e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":507629,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":26402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:40.951 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":65904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":59703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":391722,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":52503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":449926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":45303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":108606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507","description":"","id":"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":346520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":16801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507'","result":{"duration":123707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":531717111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507'","result":{"duration":1122265,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":784945,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":694041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":673339,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":825847,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":783845,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":642537,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":636037,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":625936,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":90805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":120307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:41.493 [print] https:\/\/geodata.nationaalgeoregister.nl\/rvo\/inspire\/invasieve-exoten\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":876950,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":111107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:41.494 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":769844,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":103806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:41.495 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":39002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":161009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:41.496 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":806447,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":95905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:41.496 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":46903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:41.497 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3703b249-a0eb-484e-ba7a-10e31a55bcec#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":896452,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":786046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":498529,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:40.975 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":46903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":395623,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":67704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":500329,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":47703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":115906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"93c8762c-4cbb-42b0-9b02-89ef902e8880","description":"","id":"93c8762c-4cbb-42b0-9b02-89ef902e8880","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":316519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '93c8762c-4cbb-42b0-9b02-89ef902e8880'","result":{"duration":99006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":534725686,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '93c8762c-4cbb-42b0-9b02-89ef902e8880'","result":{"duration":812247,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":739543,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":682840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":659838,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":802847,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":734842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":36303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":694441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":639237,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":648937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":88305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":106206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:41.519 [print] https:\/\/service.pdok.nl\/provincies\/ps\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":861250,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":110106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:41.520 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":730642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":102506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:41.521 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":144908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":53403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:41.521 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":796046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":100206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:41.522 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":157509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:41.522 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=49ab8bee-b467-486a-96ca-b950443c453a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":790846,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"93c8762c-4cbb-42b0-9b02-89ef902e8880\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":689040,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"93c8762c-4cbb-42b0-9b02-89ef902e8880\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":471128,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:41.109 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":64904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":93705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":105606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":456526,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":56903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":657238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":54403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":64903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"73286af2-d0f4-4a62-9455-86ffa45ef279","description":"","id":"73286af2-d0f4-4a62-9455-86ffa45ef279","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":57904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":12101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '73286af2-d0f4-4a62-9455-86ffa45ef279'","result":{"duration":72304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":529287070,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '73286af2-d0f4-4a62-9455-86ffa45ef279'","result":{"duration":1120465,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":912252,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":756643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":734042,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":846449,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":809847,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":41302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":691740,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":682640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":670139,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":103006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":133707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:41.649 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wfs\/zoutvelden_en_productieputten?service=WFS&request=GetCapabilities&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":946155,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":124508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:41.650 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":759244,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":100105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:41.651 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":38202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":195611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:41.651 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":802547,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":100105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:41.652 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":41502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:41.652 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=e3b0da1e-0664-4025-b3f5-a54d74a26450&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":881251,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"73286af2-d0f4-4a62-9455-86ffa45ef279\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":716942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"73286af2-d0f4-4a62-9455-86ffa45ef279\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":974056,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":26502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:41.350 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":61503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":442225,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":56604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":445626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":45703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":63004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5f0c583a-101e-45ea-b684-a056713cf811","description":"","id":"5f0c583a-101e-45ea-b684-a056713cf811","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5f0c583a-101e-45ea-b684-a056713cf811'","result":{"duration":73704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":598389775,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5f0c583a-101e-45ea-b684-a056713cf811'","result":{"duration":1573091,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1378380,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1114265,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":743843,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":754444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":730242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":838348,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":623337,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":641437,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":93606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":344420,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:41.960 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-baseline-feed.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":752643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":175210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:41.961 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":659838,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":154909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:41.962 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":47303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":106907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:41.962 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":788846,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":321919,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:41.963 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":226213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:41.963 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=1249746f-c2a6-4639-98f2-251676b3528e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":686040,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5f0c583a-101e-45ea-b684-a056713cf811\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":827948,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5f0c583a-101e-45ea-b684-a056713cf811\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":579233,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:41.501 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":71304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":375321,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":51303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":458826,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":44103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":61604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"4074b3c3-ca85-45ad-bc0d-b5fca8540z0b","description":"","id":"4074b3c3-ca85-45ad-bc0d-b5fca8540z0b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '4074b3c3-ca85-45ad-bc0d-b5fca8540z0b'","result":{"duration":78505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":532504457,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4074b3c3-ca85-45ad-bc0d-b5fca8540z0b'","result":{"duration":997058,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":728542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":640137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":626036,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":794446,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":695041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":576033,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":580034,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":631037,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":219712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1067362,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:42.043 [print] https:\/\/service.pdok.nl\/kadaster\/adressen\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":629437,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":504429,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:42.044 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":621736,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":495729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:42.046 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":50903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":144008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:42.046 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":876951,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":725242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:42.047 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":1381080,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:42.049 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76091be7-358a-4a44-8182-b4139c96c6a4#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":706541,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"4074b3c3-ca85-45ad-bc0d-b5fca8540z0b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":821548,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"4074b3c3-ca85-45ad-bc0d-b5fca8540z0b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":585534,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:41.526 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":57003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":408023,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":65604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":442326,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":43902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":63603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e29b19de-d191-47f2-b944-5056a7674cce","description":"","id":"e29b19de-d191-47f2-b944-5056a7674cce","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e29b19de-d191-47f2-b944-5056a7674cce'","result":{"duration":181810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":78204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":38002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":519331594,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e29b19de-d191-47f2-b944-5056a7674cce'","result":{"duration":851450,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":691540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":731242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":640837,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":714641,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":696940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":586134,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":585634,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":596735,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":230813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":184411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:42.054 [print] https:\/\/inspire.caris.nl\/gs5\/am\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":657538,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":251115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:42.055 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":619736,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":231313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:42.056 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":46203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":137208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:42.056 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":665939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":289216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:42.057 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":255515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:42.058 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4617f0e0-6af4-4ac0-9044-31df9d03071c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":673339,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e29b19de-d191-47f2-b944-5056a7674cce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":514030,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e29b19de-d191-47f2-b944-5056a7674cce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1309476,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:41.657 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":57903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":387022,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":53303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":457526,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":43703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":61604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"060d1139-c371-4c1e-9890-55999adfa4f9","description":"","id":"060d1139-c371-4c1e-9890-55999adfa4f9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '060d1139-c371-4c1e-9890-55999adfa4f9'","result":{"duration":195011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":539079538,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '060d1139-c371-4c1e-9890-55999adfa4f9'","result":{"duration":1067762,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":779045,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":7639942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":908653,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":798946,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":744043,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":617836,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":654138,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":622336,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":359521,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":235014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:42.213 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":645937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":248915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:42.214 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":650238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":246215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:42.215 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":47003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":150409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:42.215 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":732442,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":246614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:42.216 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":251315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:42.216 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=a5241416-8401-4623-be61-57ef50447a41&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":706441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"060d1139-c371-4c1e-9890-55999adfa4f9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":703141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"060d1139-c371-4c1e-9890-55999adfa4f9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":497728,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:41.968 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":57603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":363721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":51403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":482328,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":47603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":137508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"54122631-d343-40be-9c28-e44626b37a0e","description":"","id":"54122631-d343-40be-9c28-e44626b37a0e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":24201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '54122631-d343-40be-9c28-e44626b37a0e'","result":{"duration":75705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":553953977,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '54122631-d343-40be-9c28-e44626b37a0e'","result":{"duration":1295475,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":898252,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":701540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":690940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1284674,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":922354,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":137308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1076462,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":878451,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":747343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":2493045,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":306417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:42.536 [print] https:\/\/service.pdok.nl\/cbs\/hh\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":827348,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":246914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:42.537 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":739443,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":229113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:42.538 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":128707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":177710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:42.538 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":764344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":249015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:42.539 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":184710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:42.540 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=12bb57cd-73e0-41ba-a1e9-6d986b9109d3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":713642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"54122631-d343-40be-9c28-e44626b37a0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":608135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"54122631-d343-40be-9c28-e44626b37a0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":448626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:42.059 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":55903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":440526,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":58303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":458826,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":47903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":138408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0d7ca7bc-99de-4539-af33-70b206f29355","description":"","id":"0d7ca7bc-99de-4539-af33-70b206f29355","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":31502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0d7ca7bc-99de-4539-af33-70b206f29355'","result":{"duration":97206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":557395067,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0d7ca7bc-99de-4539-af33-70b206f29355'","result":{"duration":1103364,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2367137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":654838,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":633037,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":914753,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":811347,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":126107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":2005216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":764744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":5948544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":560633,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":330319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:42.638 [print] https:\/\/service.pdok.nl\/kadaster\/adressen\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":880451,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":280216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:42.640 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":696540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":255415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:42.641 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":122007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":5005490,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:42.641 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":746643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":636637,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:42.647 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":253814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:42.647 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76091be7-358a-4a44-8182-b4139c96c6a4#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":664839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0d7ca7bc-99de-4539-af33-70b206f29355\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":555532,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0d7ca7bc-99de-4539-af33-70b206f29355\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":438325,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:42.062 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":53303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":1414182,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":60304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":438025,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":43402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":98606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"eec0708d-bab6-41c2-aa5b-9c435a1a177e","description":"","id":"eec0708d-bab6-41c2-aa5b-9c435a1a177e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":99506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'eec0708d-bab6-41c2-aa5b-9c435a1a177e'","result":{"duration":82305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":626097842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'eec0708d-bab6-41c2-aa5b-9c435a1a177e'","result":{"duration":1254273,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":862050,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":721842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":695940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":990057,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":880451,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":117207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":713241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":738143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":791346,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":315918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":363221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:42.700 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/service\/atom\/id_predefined_dataset \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":760644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":287817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:42.701 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":758144,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":275916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:42.702 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":122207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":215313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:42.703 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":769444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":262515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:42.704 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":221613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:42.704 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1104964,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"eec0708d-bab6-41c2-aa5b-9c435a1a177e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":552932,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"eec0708d-bab6-41c2-aa5b-9c435a1a177e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":456227,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:42.221 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":60803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":56703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":381522,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":49503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":467327,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":43102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":203511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"35546103-58eb-4f61-a858-a6fbc5a7e814","description":"","id":"35546103-58eb-4f61-a858-a6fbc5a7e814","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":25402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '35546103-58eb-4f61-a858-a6fbc5a7e814'","result":{"duration":85305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":567391331,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '35546103-58eb-4f61-a858-a6fbc5a7e814'","result":{"duration":1817405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1264573,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1147766,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1152767,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1065262,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":901052,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":116907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":723742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":835148,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":758043,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":179411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":514329,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:42.801 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":864050,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":256414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:42.802 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":856249,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":179511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:42.803 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":226413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":191511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:42.804 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":827048,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":199311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:42.805 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":427625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:42.805 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":724742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"35546103-58eb-4f61-a858-a6fbc5a7e814\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":529930,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"35546103-58eb-4f61-a858-a6fbc5a7e814\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":450526,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":87105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:42.544 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":50703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":163010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":152009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":453026,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":156609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":540231,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":121407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":187211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e","description":"","id":"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":84105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":38302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":23102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":20801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ca71572f-a498-4ca6-aa60-d4c4c4d59e2e'","result":{"duration":20301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":19801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":19701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":529789550,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ca71572f-a498-4ca6-aa60-d4c4c4d59e2e'","result":{"duration":1104964,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":898952,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":742643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1116164,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":844749,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1291774,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":74305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":764344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":756044,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":772245,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":164809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":289517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:43.086 [print] https:\/\/inspire.caris.nl\/geoserver\/gnwms\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":693240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":149808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:43.087 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":759544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":189811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:43.088 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":45703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":116706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:43.088 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":769045,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":178110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:43.089 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":104806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:43.089 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=34e95842-4e4e-46de-9198-79e8cd4d30dc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":821947,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":776345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":587834,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":93706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:42.652 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":51703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":159809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":143409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":464427,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":152309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":547232,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":123207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":216612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9ad3f0c0-9e2c-4d44-a467-b57920aa512f","description":"","id":"9ad3f0c0-9e2c-4d44-a467-b57920aa512f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":91305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":42303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":26402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":24102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9ad3f0c0-9e2c-4d44-a467-b57920aa512f'","result":{"duration":21601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":19601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":19801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":537150276,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9ad3f0c0-9e2c-4d44-a467-b57920aa512f'","result":{"duration":954655,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":772144,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":670139,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":694340,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":744243,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":950154,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1095663,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":997558,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":951555,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":129508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":433525,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:43.201 [print] https:\/\/geodata.nationaalgeoregister.nl\/hwh\/eenheden\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1072462,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":103406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:43.203 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":724642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":91906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:43.203 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":139908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":96106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:43.204 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":676239,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":91205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:43.205 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":207812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:43.205 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d4ec7e6-50ae-4c71-bd20-5b9211e2135f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":677839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9ad3f0c0-9e2c-4d44-a467-b57920aa512f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":646938,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9ad3f0c0-9e2c-4d44-a467-b57920aa512f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":569233,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":74604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:42.709 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":48103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":147908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":146708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":454827,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":152708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":569232,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":144808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":221113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"dd414384-0bcb-4188-86e2-2843e12a579e","description":"","id":"dd414384-0bcb-4188-86e2-2843e12a579e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":71605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":41003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":22902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":20901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'dd414384-0bcb-4188-86e2-2843e12a579e'","result":{"duration":20801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":19701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":22501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":524773660,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dd414384-0bcb-4188-86e2-2843e12a579e'","result":{"duration":1137966,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1138266,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1125265,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1074262,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1159667,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":834249,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":595235,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":595034,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":608335,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":81404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":90605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:43.245 [print] https:\/\/www.broinspireservices.nl\/wfs\/ossosgm-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":829348,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":134208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:43.246 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":735542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":114907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:43.247 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":37103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":190811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:43.247 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":803547,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":95206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:43.248 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":109306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:43.248 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=a7fb2234-f7b4-4a03-b282-f10947f42fb1&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":839648,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"dd414384-0bcb-4188-86e2-2843e12a579e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":605935,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"dd414384-0bcb-4188-86e2-2843e12a579e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":507330,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":77905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:42.815 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":50503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":147709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":147908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":455626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":203912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":539531,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":117307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":218312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"6b608d4e-5628-4d59-97fc-0322c57357b2","description":"","id":"6b608d4e-5628-4d59-97fc-0322c57357b2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":174710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":40203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":22701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":20601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '6b608d4e-5628-4d59-97fc-0322c57357b2'","result":{"duration":19901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":19101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":19201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":542280672,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6b608d4e-5628-4d59-97fc-0322c57357b2'","result":{"duration":1491587,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1320576,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1119565,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":728842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":809646,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":774045,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":924654,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":648237,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":646838,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":661038,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":727142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:43.371 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierenpercelen\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":704441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":497929,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:43.372 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":671539,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":479028,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:43.373 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":49703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":422925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:43.373 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":756343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":252415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:43.375 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":238014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:43.375 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe0e1e5f-512f-4bb1-bbf8-4028d3dfa24f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":775844,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"6b608d4e-5628-4d59-97fc-0322c57357b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":683840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"6b608d4e-5628-4d59-97fc-0322c57357b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":526931,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:43.094 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":114207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":63704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":355220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":48403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":681839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":91605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":136908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"539ec652-482d-4806-a830-0458cf8be477","description":"","id":"539ec652-482d-4806-a830-0458cf8be477","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":22701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '539ec652-482d-4806-a830-0458cf8be477'","result":{"duration":73404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":523431283,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '539ec652-482d-4806-a830-0458cf8be477'","result":{"duration":1024060,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":778545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":733143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":690640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":798646,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":739243,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":36902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":617635,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":612736,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":612935,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":418525,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":338119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:43.627 [print] http:\/\/data.waterkwaliteitsportaal.nl\/inspire\/vs\/EF \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":670939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":269916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:43.628 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":634036,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":230914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:43.629 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":43402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":380722,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:43.629 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":754043,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":232714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:43.630 [print] Informatiehuis Water \n","line":56}},{"name":"print operateson","result":{"duration":232313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:43.630 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=891ddc2d-8949-4a45-be96-c65b87c41f13&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":721642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"539ec652-482d-4806-a830-0458cf8be477\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":646037,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"539ec652-482d-4806-a830-0458cf8be477\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":487229,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:43.209 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":55303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":343120,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":49303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":440426,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":51703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":100306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f0eb64f9-8888-42e1-9550-bf91c32da4bc","description":"","id":"f0eb64f9-8888-42e1-9550-bf91c32da4bc","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f0eb64f9-8888-42e1-9550-bf91c32da4bc'","result":{"duration":85205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":531180531,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":9201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f0eb64f9-8888-42e1-9550-bf91c32da4bc'","result":{"duration":1331877,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":896352,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":738142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":728942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":814148,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":813547,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":663539,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":652838,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":658338,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":87905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":114607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:43.750 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1387680,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":114606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:43.751 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1028560,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":96905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:43.753 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":365421,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":76104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:43.753 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1072662,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":97206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:43.754 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":427125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:43.755 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e1e99000-ec47-4e9f-84a5-adad24fef0dc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1359879,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f0eb64f9-8888-42e1-9550-bf91c32da4bc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":657838,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f0eb64f9-8888-42e1-9550-bf91c32da4bc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":518830,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:43.253 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":55203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":338820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":65903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":442926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":40202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":95205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"efb5222c-112a-4c57-9bbf-f2af918cb9b5","description":"","id":"efb5222c-112a-4c57-9bbf-f2af918cb9b5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":107406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'efb5222c-112a-4c57-9bbf-f2af918cb9b5'","result":{"duration":68304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":522342720,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'efb5222c-112a-4c57-9bbf-f2af918cb9b5'","result":{"duration":786745,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":694940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":737543,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":686840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":751044,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":714741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":601535,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":585434,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":619535,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":79905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":92006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:43.784 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-aansluitende-zone-feed.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":841849,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":146608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:43.785 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":717842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":94106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:43.786 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":273616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:43.786 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":686440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":149309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:43.787 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":233114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:43.787 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4cda487b-c467-490c-a843-6563fec016be#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":683840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"efb5222c-112a-4c57-9bbf-f2af918cb9b5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":655438,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"efb5222c-112a-4c57-9bbf-f2af918cb9b5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":424225,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:43.379 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":55103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":352120,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":48803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":437626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":41203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":61204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"555f668f-63b4-47ef-a666-f12d71c2cc4a","description":"","id":"555f668f-63b4-47ef-a666-f12d71c2cc4a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '555f668f-63b4-47ef-a666-f12d71c2cc4a'","result":{"duration":69004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":531016721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '555f668f-63b4-47ef-a666-f12d71c2cc4a'","result":{"duration":935054,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":719641,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":622536,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":630737,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":737742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":691540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":39803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":562233,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":593234,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":570033,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":123707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":124207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:43.918 [print] https:\/\/service.pdok.nl\/cbs\/wb2018\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":609135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":142809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:43.919 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":592235,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":133208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:43.920 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":82005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:43.920 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":664838,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":93405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:43.921 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":79504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:43.921 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ffefc3dc-dc8f-4589-ae22-a60bebcdf5cb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":653738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"555f668f-63b4-47ef-a666-f12d71c2cc4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":647837,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"555f668f-63b4-47ef-a666-f12d71c2cc4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":579334,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:43.635 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":77204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":57503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":343920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":50503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":457826,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":46303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":195611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ce0a3f8e-6713-455f-805e-a067162c287d","description":"","id":"ce0a3f8e-6713-455f-805e-a067162c287d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":22801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ce0a3f8e-6713-455f-805e-a067162c287d'","result":{"duration":68804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":540132649,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ce0a3f8e-6713-455f-805e-a067162c287d'","result":{"duration":1082962,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":864750,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":754244,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":708141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":840348,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":780545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":656238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":673139,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":651438,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":87605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":113407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:44.184 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b_wms?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1607893,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":154509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:44.186 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":666339,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":123107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:44.187 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":60503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:44.187 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":758844,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":123607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:44.188 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":65504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:44.188 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":741743,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ce0a3f8e-6713-455f-805e-a067162c287d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":780446,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ce0a3f8e-6713-455f-805e-a067162c287d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":459627,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:43.759 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":54703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":360221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":46502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":457126,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":42402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":97805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ea4cb6a2-f637-413a-91cc-d58473c2f138","description":"","id":"ea4cb6a2-f637-413a-91cc-d58473c2f138","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":390623,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":18701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ea4cb6a2-f637-413a-91cc-d58473c2f138'","result":{"duration":75104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":534594628,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ea4cb6a2-f637-413a-91cc-d58473c2f138'","result":{"duration":1069862,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":817347,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":766545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":718441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":819048,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":776445,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":43002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":659038,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":651638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":684339,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":90005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":178810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:44.304 [print] http:\/\/services.inspire-provincies.nl\/EnvironmentalMonitoringFacilities\/services\/view_EF?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":666839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":141109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:44.305 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":664639,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":100105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:44.306 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":85704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:44.306 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":765744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":99006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:44.307 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":565632,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:44.307 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=c829abeb-bfac-4224-8332-e7a9a89e692e&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=fe45c540-e37d-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1500387,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ea4cb6a2-f637-413a-91cc-d58473c2f138\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":687440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ea4cb6a2-f637-413a-91cc-d58473c2f138\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":473627,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:43.791 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":54603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":54404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":338220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":45603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":476327,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":42902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":308818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a6098c24-4caf-4528-954c-672b9ec6cf78","description":"","id":"a6098c24-4caf-4528-954c-672b9ec6cf78","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":20802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a6098c24-4caf-4528-954c-672b9ec6cf78'","result":{"duration":95306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":538480153,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a6098c24-4caf-4528-954c-672b9ec6cf78'","result":{"duration":753344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":803746,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":784946,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":737743,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1027259,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":791145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":39202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":644837,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":651738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":653238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":648837,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":568033,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:44.340 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":692740,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":472327,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:44.341 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":688440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":520830,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:44.343 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":45003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":417824,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:44.343 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":808547,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":532431,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:44.344 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":703541,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:44.345 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=32a21114-8694-40ce-ab76-9dcd885c7861#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":818647,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a6098c24-4caf-4528-954c-672b9ec6cf78\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":550232,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a6098c24-4caf-4528-954c-672b9ec6cf78\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":415924,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:43.925 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":63904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":53303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":377121,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":79605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":449226,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":41502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":96505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ef2a7962-8bb4-483f-ca52-85123f579","description":"","id":"ef2a7962-8bb4-483f-ca52-85123f579","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ef2a7962-8bb4-483f-ca52-85123f579'","result":{"duration":64504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":526282547,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ef2a7962-8bb4-483f-ca52-85123f579'","result":{"duration":1344377,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1241172,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1095063,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":3437299,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":782646,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":2307033,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":39802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":648138,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":633236,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":621336,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":198912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1030760,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:44.467 [print] http:\/\/data.waterkwaliteitsportaal.nl\/inspire\/ds\/nl.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":699240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":509730,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:44.468 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":693240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":95405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:44.469 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":369522,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:44.469 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1000858,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":99206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:44.470 [print] Informatiehuis Water \n","line":56}},{"name":"print operateson","result":{"duration":422924,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:44.471 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=110f9ec6-4464-462e-9765-83d90cefbeab&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=891ddc2d-8949-4a45-be96-c65b87c41f13&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":733142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ef2a7962-8bb4-483f-ca52-85123f579\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":717141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ef2a7962-8bb4-483f-ca52-85123f579\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":474828,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:44.194 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":80405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":57203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":413923,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":58304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":459327,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":43602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":104306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7d533012-21ad-4a5b-a97e-a76988270273","description":"","id":"7d533012-21ad-4a5b-a97e-a76988270273","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":344020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7d533012-21ad-4a5b-a97e-a76988270273'","result":{"duration":90305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":528224160,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7d533012-21ad-4a5b-a97e-a76988270273'","result":{"duration":1415582,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1296675,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1087463,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1079763,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1225271,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1163767,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":53604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":759144,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":581833,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":600935,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":83805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":210912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:44.735 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/service\/atom\/id_predefined_dataset \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1410082,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":109506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:44.736 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1023359,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":95905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:44.738 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":350920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":73404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:44.738 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":986457,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":110106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:44.739 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":366521,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:44.740 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1171668,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7d533012-21ad-4a5b-a97e-a76988270273\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":703740,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7d533012-21ad-4a5b-a97e-a76988270273\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":443425,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:44.316 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":47803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":82605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":71804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":343320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":45303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":448426,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":443926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"03c39474-aef9-4169-95da-9890af440b14","description":"","id":"03c39474-aef9-4169-95da-9890af440b14","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":22202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '03c39474-aef9-4169-95da-9890af440b14'","result":{"duration":106506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":537737810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '03c39474-aef9-4169-95da-9890af440b14'","result":{"duration":994158,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":759744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":666839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":689339,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":753844,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":768744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":760244,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":679839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":636237,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":145509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":686340,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:44.864 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":3339593,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":347020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:44.868 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":26765848,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":385022,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:44.895 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":146608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":138308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:44.896 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":945454,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":177711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:44.897 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":125708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:44.897 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=08b27bf0-e34a-4b30-9eac-5edadfb6a288 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":800647,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"03c39474-aef9-4169-95da-9890af440b14\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1035760,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"03c39474-aef9-4169-95da-9890af440b14\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":482028,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:44.349 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":327319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":45002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":449726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":40103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":60604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"feeae7d3-7485-4a39-895c-ed65e945ced0","description":"","id":"feeae7d3-7485-4a39-895c-ed65e945ced0","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'feeae7d3-7485-4a39-895c-ed65e945ced0'","result":{"duration":461627,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":545207942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'feeae7d3-7485-4a39-895c-ed65e945ced0'","result":{"duration":846949,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":719741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":7122012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":708241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":880951,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":825948,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":107706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":676839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":700141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":712141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":163109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1374779,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:44.912 [print] https:\/\/www.broinspireservices.nl\/arcgis\/services\/inspire\/inspire_regis_rd\/MapServer\/WMSServer?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":742843,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":563633,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:44.913 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":628036,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":547432,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:44.914 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":114606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":505529,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:44.915 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":726342,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":579533,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:44.916 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":797746,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:44.917 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=E7D9F0D6-2B8D-6699-F26E-4A781228F2DD&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":686040,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"feeae7d3-7485-4a39-895c-ed65e945ced0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":483928,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"feeae7d3-7485-4a39-895c-ed65e945ced0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1466985,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:44.476 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":54003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":349421,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":45703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":456626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":40502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":100605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"dc9fbc85-1263-4a1b-b001-7be701a6039e","description":"","id":"dc9fbc85-1263-4a1b-b001-7be701a6039e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'dc9fbc85-1263-4a1b-b001-7be701a6039e'","result":{"duration":68404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":548354224,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dc9fbc85-1263-4a1b-b001-7be701a6039e'","result":{"duration":1121965,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":817148,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":648837,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":627036,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":862350,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":809647,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":111006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":713041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":700841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":697740,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":174110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":264215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:45.033 [print] https:\/\/service.pdok.nl\/kadaster\/plu\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":699141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":235113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:45.034 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":615536,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":206912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:45.035 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":110807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":177711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:45.036 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":671138,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":177110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:45.036 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":177510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:45.037 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=17716ed7-ce0d-4bfd-8868-a398e5578a36#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":677739,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"dc9fbc85-1263-4a1b-b001-7be701a6039e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":553132,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"dc9fbc85-1263-4a1b-b001-7be701a6039e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1224571,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:44.744 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":54003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":53103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":335520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":104706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":455027,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":437825,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a02c6566-e0ad-4fc1-b217-67cc1099dea2","description":"","id":"a02c6566-e0ad-4fc1-b217-67cc1099dea2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":22901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a02c6566-e0ad-4fc1-b217-67cc1099dea2'","result":{"duration":66804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":530018563,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a02c6566-e0ad-4fc1-b217-67cc1099dea2'","result":{"duration":1185968,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":869451,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":744643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":670738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":970956,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":886552,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":112906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":716941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":767544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":750243,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":174710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":254315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:45.285 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":752143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":183210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:45.286 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":672339,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":179810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:45.287 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":108207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":170010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:45.287 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":787445,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":193311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:45.288 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":178210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:45.288 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8b0b02a0-1e1b-4cda-bcfe-6fa0f738e38f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1386980,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a02c6566-e0ad-4fc1-b217-67cc1099dea2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":762344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a02c6566-e0ad-4fc1-b217-67cc1099dea2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":428125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":73604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:44.902 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":44802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":176710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":186111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":514629,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":146309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":514530,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":110006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":554232,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7a748a59-36f4-475b-9647-402b5ce89a1c","description":"","id":"7a748a59-36f4-475b-9647-402b5ce89a1c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":72204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":37302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":19501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":17301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7a748a59-36f4-475b-9647-402b5ce89a1c'","result":{"duration":16801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":16801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":16601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":523445883,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7a748a59-36f4-475b-9647-402b5ce89a1c'","result":{"duration":1168568,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":910953,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":850649,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":820647,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1090163,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":781446,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":113107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":748743,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":670839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":690040,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":197111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":575433,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:45.438 [print] https:\/\/service.pdok.nl\/kadaster\/lc\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":713441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":184410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:45.439 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":987857,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":98006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:45.440 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":338919,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":75804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:45.441 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":922253,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":94005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:45.442 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":376522,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:45.442 [print] https:\/\/ngr.acceptatie.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1689d1b7-ef22-417a-becd-d8d9a8a90a10#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1289474,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7a748a59-36f4-475b-9647-402b5ce89a1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":904053,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7a748a59-36f4-475b-9647-402b5ce89a1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":485228,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":71304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:44.922 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":44802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":142208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":136107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":419024,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":136908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":516830,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":107506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":132808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"deaf8380-ad45-48d2-8c3e-81164471bafb","description":"","id":"deaf8380-ad45-48d2-8c3e-81164471bafb","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":77005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":37102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":19401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":17201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'deaf8380-ad45-48d2-8c3e-81164471bafb'","result":{"duration":17101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":16601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":17201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":546175798,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'deaf8380-ad45-48d2-8c3e-81164471bafb'","result":{"duration":868250,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":722742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":660538,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":641637,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":726942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":696741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":65303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":580434,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":580133,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":589334,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":79605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":102906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:45.478 [print] https:\/\/service.pdok.nl\/cbs\/vk500\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1191969,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":108406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:45.480 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":3525404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":128708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:45.483 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":47703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":125707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:45.484 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":947854,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":109107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:45.485 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":184011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:45.485 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f605a24f-60cd-4c40-94c8-2186aba3ddd0#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":781045,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"deaf8380-ad45-48d2-8c3e-81164471bafb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":676939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"deaf8380-ad45-48d2-8c3e-81164471bafb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":443626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":73105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:45.042 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":43603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":144609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":135808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":446026,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":139508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":528431,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":111806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":536131,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2f28bd85-0afc-4dc1-85f3-dac55c1b485e","description":"","id":"2f28bd85-0afc-4dc1-85f3-dac55c1b485e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":99206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":43303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":24601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":17701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2f28bd85-0afc-4dc1-85f3-dac55c1b485e'","result":{"duration":19501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":17001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":17101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":525287289,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2f28bd85-0afc-4dc1-85f3-dac55c1b485e'","result":{"duration":1516588,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1321277,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1218771,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1234372,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":880051,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":826847,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":43003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":687239,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":709241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":725542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":89205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":952155,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:45.581 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.c4108a11-bdbb-4461-8902-423531561a7e_wms?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":702341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":99505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:45.582 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1019659,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":95705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:45.583 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":377322,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":82304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:45.583 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1063762,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":98206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:45.585 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":355220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:45.585 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1259073,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2f28bd85-0afc-4dc1-85f3-dac55c1b485e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":617236,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2f28bd85-0afc-4dc1-85f3-dac55c1b485e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":504730,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":67403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:45.294 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":51903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":125607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":167610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":456726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":133308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":491129,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":104106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":153909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8","description":"","id":"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":73504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":33802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":357121,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":44003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'deb81ebe-c7a7-42ba-bc21-f07cd348c3e8'","result":{"duration":22202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":17401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":17101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":533887487,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'deb81ebe-c7a7-42ba-bc21-f07cd348c3e8'","result":{"duration":1046660,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":841648,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":744643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":734643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":835448,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":792946,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":42302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":628836,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":621536,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":628436,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":85105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":112007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:45.838 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw-inspire?request=GetCapabilities&Service=CSW&Version=2.0.1 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":651038,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":173310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:45.839 [print] OGC:CSW \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":660439,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":99206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:45.840 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":96306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:45.840 [print] OGC:CSW \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":3910927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":524430,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:45.845 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":74004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:45.845 [print] #notpresent \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1091063,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":799246,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":519530,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:45.447 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":54504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":333619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":45403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":462027,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":41502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":105906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1d3c777a-3527-4aa1-8573-d6aeeff115e5","description":"","id":"1d3c777a-3527-4aa1-8573-d6aeeff115e5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1d3c777a-3527-4aa1-8573-d6aeeff115e5'","result":{"duration":82105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":548018505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1d3c777a-3527-4aa1-8573-d6aeeff115e5'","result":{"duration":1395781,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2771160,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1262173,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1127066,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":792046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":730542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":42503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":613836,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":603635,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":747643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":157509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":163409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:46.008 [print] https:\/\/www.broinspireservices.nl\/atom\/services.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":752044,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":148708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:46.008 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":673139,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":135908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:46.009 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":107406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:46.009 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":697240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":174010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:46.010 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":69504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:46.010 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=E7D9F0D6-2B8D-6699-F26E-4A781228F2DD&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":717842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1d3c777a-3527-4aa1-8573-d6aeeff115e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":697440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1d3c777a-3527-4aa1-8573-d6aeeff115e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":502929,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:45.490 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":345020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":433725,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":84904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7af7b20d-3f8a-4d7f-8124-73980535a4f6","description":"","id":"7af7b20d-3f8a-4d7f-8124-73980535a4f6","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7af7b20d-3f8a-4d7f-8124-73980535a4f6'","result":{"duration":73405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":527755933,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7af7b20d-3f8a-4d7f-8124-73980535a4f6'","result":{"duration":673639,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":669038,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":626536,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":612636,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":761044,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":735942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":635036,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":649738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":606435,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":122707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":171110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:46.026 [print] https:\/\/www.broinspireservices.nl\/arcgis\/services\/inspire\/inspire_dgm_rd\/MapServer\/WMSServer?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":596234,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":152709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:46.026 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":598734,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":154908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:46.027 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":37302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":115807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:46.027 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":731543,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":156709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:46.028 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":96406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:46.028 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=F646DFB9-5BF6-EAB9-042B-CAB6FF2DC275&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":660839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7af7b20d-3f8a-4d7f-8124-73980535a4f6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":541231,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7af7b20d-3f8a-4d7f-8124-73980535a4f6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":499229,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:45.590 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":53103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":338319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":45103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":491729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":44702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":436925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0fa448bb-332b-40b2-adab-13626b29bee6","description":"","id":"0fa448bb-332b-40b2-adab-13626b29bee6","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":23501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0fa448bb-332b-40b2-adab-13626b29bee6'","result":{"duration":71604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":526117338,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0fa448bb-332b-40b2-adab-13626b29bee6'","result":{"duration":957755,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":707541,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":658138,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":637937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":737943,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":617635,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":598335,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":595934,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":557532,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":146109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":703741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:46.125 [print] https:\/\/service.pdok.nl\/kadaster\/lu\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":569232,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":145709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:46.126 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":976456,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":121807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:46.127 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":359621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":116207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:46.128 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":680440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":113006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:46.129 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":840248,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:46.130 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=17716ed7-ce0d-4bfd-8868-a398e5578a88#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":605435,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0fa448bb-332b-40b2-adab-13626b29bee6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":667538,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0fa448bb-332b-40b2-adab-13626b29bee6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":490829,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:45.849 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":53603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":354621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":458526,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":61003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":88605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ac3ee940-4f98-427c-a2d9-58696005d9c2","description":"","id":"ac3ee940-4f98-427c-a2d9-58696005d9c2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":328719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ac3ee940-4f98-427c-a2d9-58696005d9c2'","result":{"duration":72904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":519973182,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ac3ee940-4f98-427c-a2d9-58696005d9c2'","result":{"duration":1407481,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1246172,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1165067,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1138966,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1261873,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1078663,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":613136,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":625936,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":691940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":546431,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":140008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:46.382 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":709241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":176810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:46.383 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":680839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":145209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:46.384 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":38503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":67704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:46.384 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":698140,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":134107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:46.385 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":61104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:46.385 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":666039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ac3ee940-4f98-427c-a2d9-58696005d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":647637,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ac3ee940-4f98-427c-a2d9-58696005d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":571133,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:46.015 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":74904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":336720,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":372522,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":90905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"94ed09fe-1753-4861-8c62-d66251b7cde3","description":"","id":"94ed09fe-1753-4861-8c62-d66251b7cde3","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":34502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '94ed09fe-1753-4861-8c62-d66251b7cde3'","result":{"duration":64004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":579397520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '94ed09fe-1753-4861-8c62-d66251b7cde3'","result":{"duration":667638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":719542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":716541,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":684640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":759444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":652738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":580834,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":576833,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":491628,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":495229,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":666739,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:46.603 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":647937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":486328,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:46.604 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":619236,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":408123,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:46.605 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":37202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":347020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:46.605 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":616036,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":508929,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:46.607 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":672139,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:46.607 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":735042,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"94ed09fe-1753-4861-8c62-d66251b7cde3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":532631,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"94ed09fe-1753-4861-8c62-d66251b7cde3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":358220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:46.032 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":315018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":442025,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":47703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":121707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"101304f0-2cf2-4ce0-aa23-cd7e4000fbba","description":"","id":"101304f0-2cf2-4ce0-aa23-cd7e4000fbba","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '101304f0-2cf2-4ce0-aa23-cd7e4000fbba'","result":{"duration":63204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":538129432,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '101304f0-2cf2-4ce0-aa23-cd7e4000fbba'","result":{"duration":996857,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":703240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":593435,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":576633,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":739143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":672639,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":577233,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":588234,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":588934,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":396423,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":344920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:46.579 [print] https:\/\/service.pdok.nl\/kadaster\/sr\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":653938,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":334920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:46.580 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":588834,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":316718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:46.581 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":40502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":252114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:46.581 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":682739,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":322519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:46.582 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":255015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:46.583 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":658838,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"101304f0-2cf2-4ce0-aa23-cd7e4000fbba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":720742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"101304f0-2cf2-4ce0-aa23-cd7e4000fbba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":434925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":27001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:46.134 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":46403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":305218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":466427,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":45303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":58204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7d641d0e-c04b-4191-833e-c578ac2abe5f","description":"","id":"7d641d0e-c04b-4191-833e-c578ac2abe5f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7d641d0e-c04b-4191-833e-c578ac2abe5f'","result":{"duration":75204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":521053545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7d641d0e-c04b-4191-833e-c578ac2abe5f'","result":{"duration":1211070,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1190569,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1110765,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1100664,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1203070,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1081363,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":568933,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":569833,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":551032,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":645137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":701341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:46.667 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.83f948b1-9293-4926-b64d-40857c792f1e?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":644337,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":477927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:46.668 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":620535,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":432825,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:46.669 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":40802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":416824,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:46.670 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":702140,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":508930,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:46.671 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":617636,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:46.672 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.83f948b1-9293-4926-b64d-40857c792f1e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":714041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7d641d0e-c04b-4191-833e-c578ac2abe5f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":572833,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7d641d0e-c04b-4191-833e-c578ac2abe5f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":394823,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:46.391 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":369922,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":47503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":412923,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":120307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a931e334-b752-4935-8a98-00eddc443789","description":"","id":"a931e334-b752-4935-8a98-00eddc443789","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":29202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a931e334-b752-4935-8a98-00eddc443789'","result":{"duration":74905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":525240187,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a931e334-b752-4935-8a98-00eddc443789'","result":{"duration":1107264,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":906653,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":819947,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":684940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":809246,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":740043,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":602435,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":606536,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":659139,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":103106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":782945,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:46.932 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":648138,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":547031,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:46.933 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":644038,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":490129,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:46.935 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":44002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":414924,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:46.935 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":741343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":518230,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:46.936 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":598534,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:46.937 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8a4f5c3b-aced-48fd-afb5-f1f1d0ef21d6#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":684040,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a931e334-b752-4935-8a98-00eddc443789\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":713441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a931e334-b752-4935-8a98-00eddc443789\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":483128,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:46.587 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":64704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":105406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":360121,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":80305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":425125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":36302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":272116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ff8f6da2-949e-4838-90f6-fd895a4a240f","description":"","id":"ff8f6da2-949e-4838-90f6-fd895a4a240f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":20301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ff8f6da2-949e-4838-90f6-fd895a4a240f'","result":{"duration":174310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":533498865,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ff8f6da2-949e-4838-90f6-fd895a4a240f'","result":{"duration":998058,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":778245,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":670239,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":655238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":708341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":662938,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":47303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":709141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":602435,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":665738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":81805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":101706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:47.129 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1133265,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":100806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:47.130 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":669138,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":108406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:47.131 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":91505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:47.131 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":712542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":88806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:47.132 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":73704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:47.132 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d24ccb35-e9d2-41bf-b231-43083fc0c76d \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":682239,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ff8f6da2-949e-4838-90f6-fd895a4a240f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":636237,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ff8f6da2-949e-4838-90f6-fd895a4a240f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":465327,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:46.611 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":41103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":42703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":262115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":35602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":326619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":427925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda","description":"","id":"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":20901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c56433ca-35f2-4aaf-8bfa-35d8e0e52dda'","result":{"duration":60503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":553878744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c56433ca-35f2-4aaf-8bfa-35d8e0e52dda'","result":{"duration":867550,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":859550,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":816547,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":790846,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":863250,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":755144,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":588834,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":598835,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":599435,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":76305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":126108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:47.174 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":608236,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":131308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:47.175 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":676039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":124507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:47.176 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":37602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":66704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:47.176 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":712741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":119007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:47.176 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":75604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:47.177 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=08b27bf0-e34a-4b30-9eac-5edadfb6a288 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":724842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":537131,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":388322,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:46.676 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":65003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":346520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":473927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":435325,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b81f9ce3-f612-4761-ba37-4c8afda9033a","description":"","id":"b81f9ce3-f612-4761-ba37-4c8afda9033a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b81f9ce3-f612-4761-ba37-4c8afda9033a'","result":{"duration":68104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":532646916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b81f9ce3-f612-4761-ba37-4c8afda9033a'","result":{"duration":895251,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":742343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":664639,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":651838,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":24901341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1053761,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":168310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":715341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":676239,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":700341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":167710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1485886,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:47.244 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":751343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":556632,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:47.245 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":778545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":574133,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:47.246 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":116907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":512029,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:47.247 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":790946,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":603434,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:47.249 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":743443,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:47.249 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":743143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b81f9ce3-f612-4761-ba37-4c8afda9033a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":485228,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b81f9ce3-f612-4761-ba37-4c8afda9033a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":379321,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:46.941 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":72004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":315318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":430025,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":466927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f61eec5c-cb91-40b6-ad35-9bca967006cc","description":"","id":"f61eec5c-cb91-40b6-ad35-9bca967006cc","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":22802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f61eec5c-cb91-40b6-ad35-9bca967006cc'","result":{"duration":71605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":524047718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f61eec5c-cb91-40b6-ad35-9bca967006cc'","result":{"duration":1151466,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":893751,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":835149,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":600635,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":767744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":936854,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":117607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":737142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":699641,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":724041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":257615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":263615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:47.476 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":678639,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":315818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:47.477 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":718341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":302218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:47.478 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":108507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":228313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:47.478 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":718542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":339320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:47.479 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":237614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:47.479 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=588a4cb1-b442-4ac1-87e4-40401e353166#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":800547,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f61eec5c-cb91-40b6-ad35-9bca967006cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":490429,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f61eec5c-cb91-40b6-ad35-9bca967006cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":334419,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:47.136 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":346720,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":445326,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":56803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5be1b57b-2cac-4119-92eb-700346543d47","description":"","id":"5be1b57b-2cac-4119-92eb-700346543d47","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5be1b57b-2cac-4119-92eb-700346543d47'","result":{"duration":66303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":550919473,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5be1b57b-2cac-4119-92eb-700346543d47'","result":{"duration":1220271,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":787946,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":658938,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":609835,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":741643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":873650,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":116407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":680539,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":734242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":742043,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":705141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":800546,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:47.698 [print] https:\/\/inspire.caris.nl\/geoserver\/mu\/wfs?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":769545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":587734,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:47.699 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":704941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":658438,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:47.700 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":124207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":509329,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:47.701 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":700841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":183111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:47.702 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":1170068,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:47.703 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=a5241416-8401-4623-be61-57ef50447a41&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":825748,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5be1b57b-2cac-4119-92eb-700346543d47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":536231,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5be1b57b-2cac-4119-92eb-700346543d47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":411923,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:47.180 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":50503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":372622,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":439526,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":42703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":95006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"52d0313e-0d2b-44b4-b51e-d9e504307f70","description":"","id":"52d0313e-0d2b-44b4-b51e-d9e504307f70","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '52d0313e-0d2b-44b4-b51e-d9e504307f70'","result":{"duration":63403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":539189094,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '52d0313e-0d2b-44b4-b51e-d9e504307f70'","result":{"duration":826348,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":693240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":679739,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":626136,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":688540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":797446,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":102106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":640938,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":691240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":667638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":160009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":376222,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:47.728 [print] https:\/\/service.pdok.nl\/bzk\/bro-environmental-monitoring-facilities\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":801146,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":224513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:47.729 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":689240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":219613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:47.730 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":111106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":180210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:47.731 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":678839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":213712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:47.732 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":214912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:47.732 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":694740,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"52d0313e-0d2b-44b4-b51e-d9e504307f70\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":470628,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"52d0313e-0d2b-44b4-b51e-d9e504307f70\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":389523,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":62003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:47.254 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":161810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":129707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":585634,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":150009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":509329,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":107906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":534931,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"13e4dff0-1e80-11e2-81c1-0800200c9a66","description":"","id":"13e4dff0-1e80-11e2-81c1-0800200c9a66","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":74204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":36802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":19501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":17101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '13e4dff0-1e80-11e2-81c1-0800200c9a66'","result":{"duration":16501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":1646795,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":86105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":526468058,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '13e4dff0-1e80-11e2-81c1-0800200c9a66'","result":{"duration":1001258,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":925754,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":843749,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":820547,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":810847,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":638937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":565533,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":558732,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":579734,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":73805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":104706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:47.792 [print] https:\/\/www.gdngeoservices.nl\/inspire\/downloads\/services.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1199969,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":97606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:47.794 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":904052,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":87005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:47.795 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":377922,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:47.795 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":960056,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":93605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:47.796 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":1093863,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:47.797 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=11a292bd-9022-4a9f-b1bf-02f5c89ad74a&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=80630ee7-3a15-4ea0-bdc0-a8aebfa2f204&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":674939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"13e4dff0-1e80-11e2-81c1-0800200c9a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":614635,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"13e4dff0-1e80-11e2-81c1-0800200c9a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":502729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":64403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:47.484 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":144908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":123907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":389622,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":125807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":429625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":92606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":231314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f59357eb-185f-42a5-b465-90bfa6e3e416","description":"","id":"f59357eb-185f-42a5-b465-90bfa6e3e416","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":58204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":46003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":16301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":24002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f59357eb-185f-42a5-b465-90bfa6e3e416'","result":{"duration":15501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":14001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":534803240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f59357eb-185f-42a5-b465-90bfa6e3e416'","result":{"duration":1036460,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":806546,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":756544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":684539,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":770245,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":797946,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":620836,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":657838,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":650938,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":79204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":126507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:48.028 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1133466,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":105306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:48.030 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":979157,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":78704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:48.031 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":27001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":301017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:48.031 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":955155,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":88705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:48.032 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":901352,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:48.033 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=32a21114-8694-40ce-ab76-9dcd885c7861#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":926154,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f59357eb-185f-42a5-b465-90bfa6e3e416\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":590235,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f59357eb-185f-42a5-b465-90bfa6e3e416\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":440526,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":71104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:47.708 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":45403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":141808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":135508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":458426,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":157309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":521630,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":110106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":141908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7","description":"","id":"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":53603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":440126,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":69704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":19901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a88b4ed1-49c1-4f91-991e-dc1cc7c575f7'","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":48003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":21901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":536426134,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a88b4ed1-49c1-4f91-991e-dc1cc7c575f7'","result":{"duration":1114864,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":924054,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":812247,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":822048,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":897152,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":854049,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":684740,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":687639,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":743743,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":88905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":234014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:48.256 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/ProductionAndIndustrialFacilities\\\/services\\\/view_PF?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":846249,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":143608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:48.257 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":844849,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":142508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:48.258 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":39702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":66804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:48.258 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":787846,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":122708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:48.259 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":58803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:48.259 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=8e986f37-74d7-4b6c-8026-87c960456423&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=afc450bd-65b3-4e59-b0fb-619869bf6ada&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":756944,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":614935,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":432225,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":65804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:47.736 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":152109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":126807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":401523,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":129007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":507929,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":103906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":125807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d293204f-6581-4b0a-811b-1dcce97adedd","description":"","id":"d293204f-6581-4b0a-811b-1dcce97adedd","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":51503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":95005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":143908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":21601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd293204f-6581-4b0a-811b-1dcce97adedd'","result":{"duration":22601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":18201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":21301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":533716178,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd293204f-6581-4b0a-811b-1dcce97adedd'","result":{"duration":702440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":764544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":738343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1434183,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":796046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":770844,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":614436,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":685540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":644137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":72004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":69804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:48.280 [print] https:\/\/geodata.nationaalgeoregister.nl\/publiekrechtelijkebeperking\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":750644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":129807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:48.281 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":617936,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":83805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:48.282 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":124507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:48.282 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":733842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":153009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:48.283 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":105607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:48.283 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e536d943-ecff-4d7a-9500-cc31a263a6af#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":756744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d293204f-6581-4b0a-811b-1dcce97adedd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":456926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d293204f-6581-4b0a-811b-1dcce97adedd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":381622,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:47.801 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":338820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":56103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":404824,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":57303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"6de8b875-c4c2-4469-ac80-0782bb67f285","description":"","id":"6de8b875-c4c2-4469-ac80-0782bb67f285","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '6de8b875-c4c2-4469-ac80-0782bb67f285'","result":{"duration":82005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":317018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":541777044,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6de8b875-c4c2-4469-ac80-0782bb67f285'","result":{"duration":1027359,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1021859,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":926453,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":730343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":743844,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":699241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":599635,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":608735,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":679339,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":137608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":141109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:48.353 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/au\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":690139,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":138108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:48.354 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":670639,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":125307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:48.354 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":59903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":74904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:48.355 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":780446,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":124808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:48.356 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":120307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:48.356 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7dd1fd45-ace5-41e0-93a6-64e3be231717#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":793146,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"6de8b875-c4c2-4469-ac80-0782bb67f285\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":571134,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"6de8b875-c4c2-4469-ac80-0782bb67f285\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":2489144,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:48.037 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":1566491,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":356120,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":47703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":428125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":454326,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"bfcc588f-9393-4c70-b989-d9e92ac2f493","description":"","id":"bfcc588f-9393-4c70-b989-d9e92ac2f493","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":23201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'bfcc588f-9393-4c70-b989-d9e92ac2f493'","result":{"duration":61804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":530909115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bfcc588f-9393-4c70-b989-d9e92ac2f493'","result":{"duration":1106864,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":916953,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":710441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":717941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":849049,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":891451,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":43203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":693540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":687539,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":671439,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":75804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":143108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:48.579 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn3\\\/wcs?&service=wcs&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":639437,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":150009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:48.580 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":698240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":110806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:48.581 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":84205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:48.581 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":897552,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":95705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:48.582 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":78804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:48.582 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=41daef8b-155e-4608-b49c-c87ea45d931c#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=41daef8b-155e-4608-b49c-c87ea45d931c#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":921353,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"bfcc588f-9393-4c70-b989-d9e92ac2f493\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":639637,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"bfcc588f-9393-4c70-b989-d9e92ac2f493\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":2888067,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:48.263 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":67304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":322719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":385423,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":54204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"94e5b115-bece-4140-99ed-93b8f363948e","description":"","id":"94e5b115-bece-4140-99ed-93b8f363948e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":10201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '94e5b115-bece-4140-99ed-93b8f363948e'","result":{"duration":58704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":543135422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '94e5b115-bece-4140-99ed-93b8f363948e'","result":{"duration":1223571,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1086263,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1134366,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":997158,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1138566,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1046360,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":839449,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":809547,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":739343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":87605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":196211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:48.817 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn3\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1258673,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":169910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:48.819 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1049361,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":135408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:48.820 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":46802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":103206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:48.820 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":921654,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":93406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:48.822 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":812347,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:48.823 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=41daef8b-155e-4608-b49c-c87ea45d931c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":899352,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"94e5b115-bece-4140-99ed-93b8f363948e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":661738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"94e5b115-bece-4140-99ed-93b8f363948e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":430225,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:48.287 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":46503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":329919,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":1062161,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":71605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"fff9d7cf-9929-4dde-98b8-06ceda7e5610","description":"","id":"fff9d7cf-9929-4dde-98b8-06ceda7e5610","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'fff9d7cf-9929-4dde-98b8-06ceda7e5610'","result":{"duration":60503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":558592717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'fff9d7cf-9929-4dde-98b8-06ceda7e5610'","result":{"duration":755744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":780045,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":759944,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":739143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":904953,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":839248,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":641237,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":691140,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":658038,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":74105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":274716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:48.855 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn2\\\/wcs?request=GetCapabilities&service=WCS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":688040,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":211413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:48.856 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":693240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":264215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:48.857 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":40602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":148309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:48.857 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":821547,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":100106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:48.858 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":88305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:48.858 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7939fd42-cf88-42c5-ab3b-232cf232a3ac#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":732942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"fff9d7cf-9929-4dde-98b8-06ceda7e5610\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":518330,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"fff9d7cf-9929-4dde-98b8-06ceda7e5610\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":354821,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:48.362 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":355721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":1978214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":49703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":613835,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5b40b9b4-fcb2-4553-bcab-34824c43c992","description":"","id":"5b40b9b4-fcb2-4553-bcab-34824c43c992","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":324319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":23802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5b40b9b4-fcb2-4553-bcab-34824c43c992'","result":{"duration":79404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":515067899,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5b40b9b4-fcb2-4553-bcab-34824c43c992'","result":{"duration":690840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":753444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":760544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":779245,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":760844,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":740743,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":582534,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":625436,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":631937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":72804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":71304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:48.888 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ad\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":754444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":213313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:48.889 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":608035,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":270415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:48.890 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":37003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":147709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:48.890 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":634037,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":89506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:48.891 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":38202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:48.891 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a5f961e9-ebdd-41e2-b8e8-ab33ed340a83#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":771044,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5b40b9b4-fcb2-4553-bcab-34824c43c992\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":478928,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5b40b9b4-fcb2-4553-bcab-34824c43c992\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":370221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:48.589 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":50403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":44203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":328719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":451626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":37503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":57103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7a914681-61bd-4f67-902b-45037a00c469","description":"","id":"7a914681-61bd-4f67-902b-45037a00c469","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7a914681-61bd-4f67-902b-45037a00c469'","result":{"duration":405723,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":529536536,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7a914681-61bd-4f67-902b-45037a00c469'","result":{"duration":1110864,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":886251,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":815947,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":880351,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":866250,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":842849,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":658938,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":709041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":748843,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":89905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":385023,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:49.129 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn2\\\/wms?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":765444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":105706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:49.130 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":787245,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":91505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:49.131 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":104406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":163809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:49.131 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":828348,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":91806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:49.132 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":156909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:49.132 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7939fd42-cf88-42c5-ab3b-232cf232a3ac#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":871850,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7a914681-61bd-4f67-902b-45037a00c469\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":616036,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7a914681-61bd-4f67-902b-45037a00c469\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":394422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:48.827 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":372621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":48603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":410424,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":107806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448","description":"","id":"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":344820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c3ee15e4-38bf-4d54-9c0b-cfe0e609d448'","result":{"duration":64604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":525119880,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c3ee15e4-38bf-4d54-9c0b-cfe0e609d448'","result":{"duration":1345278,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":960656,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":861350,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":787745,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":940954,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":901453,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":59503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":697240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":661938,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":756744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":93605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":129607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:49.362 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn1\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":913753,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":101706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:49.364 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":755944,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":91805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:49.364 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":95905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":99005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:49.365 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":922753,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":89105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:49.366 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":137008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:49.366 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5a1adb58-0bbe-425d-b0fe-577a6c0a4228#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":891752,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":640137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":413624,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:48.862 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":352020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":467727,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":49703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1d568785-efdd-429d-b491-56f785c3656a","description":"","id":"1d568785-efdd-429d-b491-56f785c3656a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":10400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":29202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1d568785-efdd-429d-b491-56f785c3656a'","result":{"duration":56003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":534308012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1d568785-efdd-429d-b491-56f785c3656a'","result":{"duration":801846,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":820048,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":717941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":748843,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":758944,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":746043,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":639937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":628836,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":623236,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":77304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":334219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:49.405 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/au\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":654238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":89505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:49.406 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1353678,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":506729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:49.408 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":47903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":445526,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:49.408 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":825448,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":483027,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:49.409 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":82405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:49.410 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7dd1fd45-ace5-41e0-93a6-64e3be231717#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":881951,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1d568785-efdd-429d-b491-56f785c3656a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":596834,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1d568785-efdd-429d-b491-56f785c3656a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":499429,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:48.895 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":86205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":272716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":52003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":420924,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":54303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5523cfd7-a72c-409e-a0c7-89b858aafa64","description":"","id":"5523cfd7-a72c-409e-a0c7-89b858aafa64","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5523cfd7-a72c-409e-a0c7-89b858aafa64'","result":{"duration":61003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":528444572,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5523cfd7-a72c-409e-a0c7-89b858aafa64'","result":{"duration":691040,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":670139,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":637237,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":653737,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":686940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":673139,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":39702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":559632,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":576033,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":568833,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":161209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":664438,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:49.432 [print] https:\/\/service.pdok.nl\/bzk\/bro-environmental-monitoring-facilities\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":619136,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":505329,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:49.433 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":606635,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":458927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:49.434 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":42703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":30580370,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:49.465 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":889451,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":365121,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:49.466 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":157909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:49.466 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":747543,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5523cfd7-a72c-409e-a0c7-89b858aafa64\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1464085,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5523cfd7-a72c-409e-a0c7-89b858aafa64\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":409024,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:49.136 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":330319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":426524,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":43003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":59303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"26e2e9f4-be88-4c8c-bdef-94edfa93bde9","description":"","id":"26e2e9f4-be88-4c8c-bdef-94edfa93bde9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":111707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '26e2e9f4-be88-4c8c-bdef-94edfa93bde9'","result":{"duration":89505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":528070551,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '26e2e9f4-be88-4c8c-bdef-94edfa93bde9'","result":{"duration":1152367,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":868350,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":650738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":629436,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2132823,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1279074,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":156610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":992157,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1045560,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":991857,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":250915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":871550,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:49.677 [print] https:\/\/service.pdok.nl\/bzk\/bro-hydrogeology\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":699141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":208712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:49.678 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":650137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":195711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:49.679 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":101206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":94106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:49.679 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":615636,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":230713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:49.680 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":148308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:49.680 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":604535,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"26e2e9f4-be88-4c8c-bdef-94edfa93bde9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":466827,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"26e2e9f4-be88-4c8c-bdef-94edfa93bde9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":521130,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:49.370 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":343520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":484629,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":41003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":78205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e258f171-6f56-4d4d-8311-027b30213c2d","description":"","id":"e258f171-6f56-4d4d-8311-027b30213c2d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e258f171-6f56-4d4d-8311-027b30213c2d'","result":{"duration":71104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":546654126,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e258f171-6f56-4d4d-8311-027b30213c2d'","result":{"duration":1693998,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1255472,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":731642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":665738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":948555,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":854050,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":111106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":706241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":802346,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":744243,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":194811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":261116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:49.927 [print] https:\/\/service.pdok.nl\/kadaster\/cp\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":730942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":234113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:49.928 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":675239,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":171610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:49.929 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":100406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":102406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:49.930 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":667039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":1487586,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:49.932 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":955356,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:49.933 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e80ad426-1392-4349-9f80-14dae5f1bf57#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":694940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e258f171-6f56-4d4d-8311-027b30213c2d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":494728,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e258f171-6f56-4d4d-8311-027b30213c2d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":384422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:49.414 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":345120,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":457026,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":36702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":96005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d1cb16ca-2029-454f-b3f1-f70bceaf62c1","description":"","id":"d1cb16ca-2029-454f-b3f1-f70bceaf62c1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd1cb16ca-2029-454f-b3f1-f70bceaf62c1'","result":{"duration":135308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":535086856,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd1cb16ca-2029-454f-b3f1-f70bceaf62c1'","result":{"duration":868950,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":649738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":624136,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":597535,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":746043,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":758444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":99106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":629237,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":677839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":733742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":172610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":967356,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:49.959 [print] https:\\\/\\\/service.pdok.nl\\\/bzk\\\/bro-geomorfologischekaart\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":751943,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":614135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:49.960 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":672839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":543631,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:49.961 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":121507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":443026,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:49.962 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":715241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":570933,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:49.963 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":1029560,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:49.964 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8f52e76f-c96d-4df3-a778-279c2164372b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=459231d0-7379-4f26-a444-7616e1d888f0#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":662238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d1cb16ca-2029-454f-b3f1-f70bceaf62c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":583634,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d1cb16ca-2029-454f-b3f1-f70bceaf62c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":418924,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":68104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:49.472 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":45403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":144008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":129207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":428925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":140909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":515630,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":102106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":162610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3ac5737f-55ed-455d-8350-44af11b67fc3","description":"","id":"3ac5737f-55ed-455d-8350-44af11b67fc3","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":55503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":33402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":15701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3ac5737f-55ed-455d-8350-44af11b67fc3'","result":{"duration":15401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":14801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":14700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":526425155,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3ac5737f-55ed-455d-8350-44af11b67fc3'","result":{"duration":860650,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":701740,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":618836,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":626336,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":877050,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":782346,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":109607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":651937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":695440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":656838,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":393723,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":329519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:50.008 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2019\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":702140,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":335219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:50.009 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":679640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":341120,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:50.010 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":115907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":173710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:50.010 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":629537,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":277616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:50.011 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":213412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:50.012 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5c37d29a-006d-4136-8989-adfc35a1d4a7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1262573,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3ac5737f-55ed-455d-8350-44af11b67fc3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":540631,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3ac5737f-55ed-455d-8350-44af11b67fc3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":403124,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":65604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:49.685 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":43203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":145909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":120707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":400623,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":125507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":543331,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":109206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":156509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"feabca04-e3fd-4802-96f2-583d328e30ad","description":"","id":"feabca04-e3fd-4802-96f2-583d328e30ad","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":178110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":40902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":20302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":17801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'feabca04-e3fd-4802-96f2-583d328e30ad'","result":{"duration":53504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":23601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":19301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":530776508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'feabca04-e3fd-4802-96f2-583d328e30ad'","result":{"duration":1376080,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1123565,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1009359,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1032260,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1118765,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1076663,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":51903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":821148,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":567932,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":601535,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":86205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1225070,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:50.229 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2018\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":630937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":100806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:50.230 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":906753,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":83904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:50.231 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":372822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":63004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:50.231 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":947754,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":83705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:50.232 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":369022,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:50.233 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ffefc3dc-dc8f-4589-ae22-a60bebcdf5cb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":653038,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"feabca04-e3fd-4802-96f2-583d328e30ad\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":639037,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"feabca04-e3fd-4802-96f2-583d328e30ad\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":444626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":67804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:49.937 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":45203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":137908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":141208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":574233,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":145108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":7154714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":152008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":204412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"027e3f15-3b58-4570-97bb-779ce3ca947e","description":"","id":"027e3f15-3b58-4570-97bb-779ce3ca947e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":67203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":38602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":22801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":17201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '027e3f15-3b58-4570-97bb-779ce3ca947e'","result":{"duration":17201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":16001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":15801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":543994025,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '027e3f15-3b58-4570-97bb-779ce3ca947e'","result":{"duration":996957,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":732642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":631836,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":779045,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":713041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":671438,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":586934,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":573333,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1470084,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":349420,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":204711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:50.500 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2019\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":779145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":180811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:50.501 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":571133,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":214313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:50.502 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":42003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":114007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:50.502 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":651137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":286616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:50.503 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":100306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:50.503 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5c37d29a-006d-4136-8989-adfc35a1d4a7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1201570,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"027e3f15-3b58-4570-97bb-779ce3ca947e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":766444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"027e3f15-3b58-4570-97bb-779ce3ca947e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":424224,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":75404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:49.973 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":46102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":150509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":133408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":409423,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":132408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":512430,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":107406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":266815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a035801a-3256-4a36-9f81-02421aacee17","description":"","id":"a035801a-3256-4a36-9f81-02421aacee17","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":66904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":35102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":15401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a035801a-3256-4a36-9f81-02421aacee17'","result":{"duration":16401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":18501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":15801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":544581153,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a035801a-3256-4a36-9f81-02421aacee17'","result":{"duration":711341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":671939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":620835,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":646137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":696740,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":658838,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":572133,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":568132,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":568833,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":80905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":75604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:50.527 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2018\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1495386,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":181411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:50.528 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":954955,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":151709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:50.529 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":40402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":88005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:50.530 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":658538,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":143208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:50.530 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":83005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:50.530 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ffefc3dc-dc8f-4589-ae22-a60bebcdf5cb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":681240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a035801a-3256-4a36-9f81-02421aacee17\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":550632,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a035801a-3256-4a36-9f81-02421aacee17\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":378522,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:50.016 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":343120,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":429225,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":196011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"25a99d92-ea8a-4163-82ab-3521c9b0c96b","description":"","id":"25a99d92-ea8a-4163-82ab-3521c9b0c96b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '25a99d92-ea8a-4163-82ab-3521c9b0c96b'","result":{"duration":68104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":541279253,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '25a99d92-ea8a-4163-82ab-3521c9b0c96b'","result":{"duration":1037460,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":861449,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":890152,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":779545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":857150,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":884550,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":40403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":667339,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":665138,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":679239,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":78005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":812747,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:50.568 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestandbodemgebruik2015\\\/wfs?service=WFS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":730842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":549031,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:50.569 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":693440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":482628,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:50.570 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":44402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":429125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:50.571 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":845249,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":461726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:50.572 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":713541,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:50.573 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d3dd6d2-2d2b-4b5f-9e30-86e19ed77a56#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":810047,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"25a99d92-ea8a-4163-82ab-3521c9b0c96b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":618635,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"25a99d92-ea8a-4163-82ab-3521c9b0c96b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":433325,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:50.237 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":105506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":353220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":444025,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":37702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":499529,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f917ffa9-1531-48ea-867e-0d413d85b05a","description":"","id":"f917ffa9-1531-48ea-867e-0d413d85b05a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":23202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f917ffa9-1531-48ea-867e-0d413d85b05a'","result":{"duration":124507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":579349296,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f917ffa9-1531-48ea-867e-0d413d85b05a'","result":{"duration":1404281,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1137466,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1064362,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1101664,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1128065,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1099863,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":52403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":628936,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":606435,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":617835,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":88605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":162809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:50.828 [print] https:\/\/geodata.nationaalgeoregister.nl\/digitaaltopografischbestand\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":633536,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":127707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:50.829 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":589834,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":87405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:50.830 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":74804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:50.830 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":663338,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":86705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:50.831 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":32702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:50.831 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4b137b8-2317-42c2-aced-204c4216d68d&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4bed072-0fda-47b8-96fa-457a938b88fc&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=3229e4d7-4bcd-4b94-819d-8e62de69ce2e&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":647538,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f917ffa9-1531-48ea-867e-0d413d85b05a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":671139,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f917ffa9-1531-48ea-867e-0d413d85b05a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":524930,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:50.508 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":50603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":327719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":458527,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":37503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":67304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"88a93a3b-d522-4c5d-9b0f-c6c39a118442","description":"","id":"88a93a3b-d522-4c5d-9b0f-c6c39a118442","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":35202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '88a93a3b-d522-4c5d-9b0f-c6c39a118442'","result":{"duration":68804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":528637662,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '88a93a3b-d522-4c5d-9b0f-c6c39a118442'","result":{"duration":1141866,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":861350,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":740242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":871350,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":852150,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":835849,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":42802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":672238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":662539,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":667238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":87105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":114207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:51.046 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/su-vector\/wms?&request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":2820462,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":840748,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:51.050 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":778245,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":503529,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:51.051 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":44602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":434025,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:51.052 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":780145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":474628,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:51.053 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":710340,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:51.054 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=10d1153e-778f-4995-9b6c-7c69b196cccb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":772545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"88a93a3b-d522-4c5d-9b0f-c6c39a118442\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":693840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"88a93a3b-d522-4c5d-9b0f-c6c39a118442\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":502529,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:50.538 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":355020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":513329,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":42003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":93705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"abf1f9f0-1b85-40e8-86ec-86bee6003b4e","description":"","id":"abf1f9f0-1b85-40e8-86ec-86bee6003b4e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":93205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'abf1f9f0-1b85-40e8-86ec-86bee6003b4e'","result":{"duration":82105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":526496839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'abf1f9f0-1b85-40e8-86ec-86bee6003b4e'","result":{"duration":748643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":687140,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":649137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":635836,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":705241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":681939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":598834,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":586034,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":579833,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":563332,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":622436,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:51.074 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten100mv2\/wms\/?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":615635,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":451926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:51.075 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":613036,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":428725,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:51.076 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":59903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":397323,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:51.076 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":681740,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":456527,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:51.078 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":697941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:51.078 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1462bbce-ccd3-4362-83d8-4535ca8f44eb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":673338,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"abf1f9f0-1b85-40e8-86ec-86bee6003b4e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":566633,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"abf1f9f0-1b85-40e8-86ec-86bee6003b4e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":393522,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:50.578 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":54103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":52403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":365622,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":54603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":421324,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":56404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36","description":"","id":"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":338819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a2fdecfc-de33-4ce3-b935-4c9ac18c5a36'","result":{"duration":73104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":529316402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a2fdecfc-de33-4ce3-b935-4c9ac18c5a36'","result":{"duration":788846,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":704240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":648938,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":593635,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":702441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":679439,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":574534,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":612736,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":591034,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":559732,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":643937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:51.117 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten500mv2\/wms\/?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":627136,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":462026,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:51.118 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":606435,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":476127,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:51.119 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":42303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":414824,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:51.120 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":681039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":460626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:51.121 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":692540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:51.122 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f605a24f-60cd-4c40-94c8-2186aba3ddd0#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":677039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":622536,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":440225,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:50.835 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":338820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":515030,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":110506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f1e26638-3b45-4dd5-9ad0-f7d3654700f1","description":"","id":"f1e26638-3b45-4dd5-9ad0-f7d3654700f1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f1e26638-3b45-4dd5-9ad0-f7d3654700f1'","result":{"duration":69704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":530434765,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f1e26638-3b45-4dd5-9ad0-f7d3654700f1'","result":{"duration":1034160,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":796846,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":673939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":638437,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":949755,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":710341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":573033,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":567833,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":577833,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":84605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":763544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:51.375 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten500mv2\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":788945,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":110106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:51.376 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":692940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":93506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:51.377 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":40203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":100206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:51.377 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":805446,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":96806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:51.378 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":87405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:51.378 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f605a24f-60cd-4c40-94c8-2186aba3ddd0#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":792646,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f1e26638-3b45-4dd5-9ad0-f7d3654700f1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":712741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f1e26638-3b45-4dd5-9ad0-f7d3654700f1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":479427,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:51.058 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":337120,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":75804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":593635,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":46203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":1915310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e08079df-6c19-486e-916e-5c9948cfafea","description":"","id":"e08079df-6c19-486e-916e-5c9948cfafea","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":28701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e08079df-6c19-486e-916e-5c9948cfafea'","result":{"duration":75104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":542783378,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e08079df-6c19-486e-916e-5c9948cfafea'","result":{"duration":1491686,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1418382,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1267173,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":974656,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":834048,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":881151,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":671539,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":648437,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":673539,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":80004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":147008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:51.614 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/su-vector\/wfs?&request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":679239,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":152809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:51.615 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1855807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":908952,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:51.618 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":62504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":727941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:51.619 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1058261,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":464327,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:51.620 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":833148,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:51.621 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=10d1153e-778f-4995-9b6c-7c69b196cccb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":884851,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e08079df-6c19-486e-916e-5c9948cfafea\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":661938,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e08079df-6c19-486e-916e-5c9948cfafea\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":2381237,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:51.082 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":3057876,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":54903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":436726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":476627,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"488c1e6d-363e-4476-b2ff-17756ac9b35f","description":"","id":"488c1e6d-363e-4476-b2ff-17756ac9b35f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":23902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '488c1e6d-363e-4476-b2ff-17756ac9b35f'","result":{"duration":98606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":537473771,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '488c1e6d-363e-4476-b2ff-17756ac9b35f'","result":{"duration":674739,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":700040,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1109864,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1126765,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":763544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":728842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":585134,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":971656,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":599234,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":95506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":64104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:51.633 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsgebiedsindelingen\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1345078,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":83004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:51.634 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":986157,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":130107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:51.635 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":44602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":109506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:51.636 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":701640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":92905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:51.637 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":779345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:51.638 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=effe1ab0-073d-437c-af13-df5c5e07d6cd#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":664638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"488c1e6d-363e-4476-b2ff-17756ac9b35f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1010358,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"488c1e6d-363e-4476-b2ff-17756ac9b35f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":384722,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:51.126 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":331019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":450226,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":37902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":433325,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d94b1eca-8a7d-4dc4-b979-36257878758f","description":"","id":"d94b1eca-8a7d-4dc4-b979-36257878758f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":32502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd94b1eca-8a7d-4dc4-b979-36257878758f'","result":{"duration":70104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":538204913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd94b1eca-8a7d-4dc4-b979-36257878758f'","result":{"duration":794745,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":801747,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":720441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":715241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":761744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":571333,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":612935,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":563032,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":547132,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":554232,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":604235,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:51.673 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsgebiedsindelingen\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":553332,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":379522,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:51.674 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":512230,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":389523,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:51.675 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":329419,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:51.676 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":582234,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":372621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:51.677 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":695740,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:51.677 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=effe1ab0-073d-437c-af13-df5c5e07d6cd#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":24991440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d94b1eca-8a7d-4dc4-b979-36257878758f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":583633,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d94b1eca-8a7d-4dc4-b979-36257878758f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":381422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":34502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:51.382 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":56004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":374122,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":86005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":605735,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":45003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":114707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"03c48a93-1e31-4c69-92c6-9a7efecf67a9","description":"","id":"03c48a93-1e31-4c69-92c6-9a7efecf67a9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":32202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '03c48a93-1e31-4c69-92c6-9a7efecf67a9'","result":{"duration":77805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":527678707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '03c48a93-1e31-4c69-92c6-9a7efecf67a9'","result":{"duration":1054361,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":800347,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":633837,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":624936,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":865750,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":770445,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":113406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":696840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":677139,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":638137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":483627,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":342720,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:51.920 [print] https:\/\/geodata.nationaalgeoregister.nl\/digitaaltopografischbestand\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":678539,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":499228,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:51.921 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":718642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":316619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:51.922 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":113007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":237413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:51.922 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":752343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":355621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:51.924 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":276016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:51.924 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4b137b8-2317-42c2-aced-204c4216d68d&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4bed072-0fda-47b8-96fa-457a938b88fc&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=3229e4d7-4bcd-4b94-819d-8e62de69ce2e&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":670839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"03c48a93-1e31-4c69-92c6-9a7efecf67a9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":510529,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"03c48a93-1e31-4c69-92c6-9a7efecf67a9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":419124,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:51.627 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":47003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":320819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":442426,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":36803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":54803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b196f948-5d87-4eb4-9854-a93841c3877f","description":"","id":"b196f948-5d87-4eb4-9854-a93841c3877f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b196f948-5d87-4eb4-9854-a93841c3877f'","result":{"duration":79704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":531927452,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b196f948-5d87-4eb4-9854-a93841c3877f'","result":{"duration":1707098,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1495086,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1517287,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1187668,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":992257,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":888351,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":108706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":719442,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":714541,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":822347,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":219313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":947755,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:52.172 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rvo\\\/invasieve-exoten\\\/wms\\\/v1_0?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":797646,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":659738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:52.174 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":750943,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":563032,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:52.175 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":151609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":515130,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:52.176 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":792046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":540331,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:52.177 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":816447,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:52.178 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3703b249-a0eb-484e-ba7a-10e31a55bcec#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":776345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b196f948-5d87-4eb4-9854-a93841c3877f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":540431,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b196f948-5d87-4eb4-9854-a93841c3877f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":385622,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:51.644 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":43803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":43303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":302918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":423725,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":37802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"4041f923-6b77-4816-bf46-437e85416c31","description":"","id":"4041f923-6b77-4816-bf46-437e85416c31","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '4041f923-6b77-4816-bf46-437e85416c31'","result":{"duration":66604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":553723707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4041f923-6b77-4816-bf46-437e85416c31'","result":{"duration":918753,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":780545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":683039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":709541,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":913553,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":848349,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":103406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":693940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":708641,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":721041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":152709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":872850,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:52.208 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnmarienestrategie2018\\\/wms\\\/v1_0?SERVICE=WMS&REQUEST=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":758044,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":579534,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:52.209 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":732942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":537431,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:52.210 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":115506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":507529,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:52.211 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":820247,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":534231,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:52.212 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":1089263,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:52.214 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e4#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":755943,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"4041f923-6b77-4816-bf46-437e85416c31\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":492329,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"4041f923-6b77-4816-bf46-437e85416c31\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":480628,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":64303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:51.707 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":172810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":133908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":417724,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":123407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":491729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":145109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":532431,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"93a9571d-1754-47ee-a8f9-92633abfab3a","description":"","id":"93a9571d-1754-47ee-a8f9-92633abfab3a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":70404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":34802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":18201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":16701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '93a9571d-1754-47ee-a8f9-92633abfab3a'","result":{"duration":15601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":21601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":20301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":521686362,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '93a9571d-1754-47ee-a8f9-92633abfab3a'","result":{"duration":769444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":686140,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":679640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":632837,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":824647,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":809347,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":98805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":604335,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":669438,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":669839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":761744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":829948,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:52.239 [print] https:\/\/geodata.nationaalgeoregister.nl\/rvo\/invasieve-exoten\/wfs\/v1_0?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":731742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":538431,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:52.241 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":686340,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":563332,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:52.242 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":126707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":488728,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:52.242 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":736642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":553432,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:52.244 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":821547,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:52.245 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=3703b249-a0eb-484e-ba7a-10e31a55bcec&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":710341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"93a9571d-1754-47ee-a8f9-92633abfab3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":490628,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"93a9571d-1754-47ee-a8f9-92633abfab3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":393122,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":67104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:51.928 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":136107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":144708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":404923,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":129708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":484928,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":100906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":278717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4","description":"","id":"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":63504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":32902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":16001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd4e573b0-bd3b-4d7b-a97d-e65841e6e0b4'","result":{"duration":15601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":15001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":15001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":534162981,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd4e573b0-bd3b-4d7b-a97d-e65841e6e0b4'","result":{"duration":1138266,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":948255,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":816247,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":800146,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":872251,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":846348,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":41003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":694640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":666639,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":705240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":113707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":137008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:52.473 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnwateractueel\\\/wms\\\/v1_0?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":848849,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":149009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:52.474 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":811447,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":89505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:52.475 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":206212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:52.475 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":987157,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":90105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:52.476 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":95306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:52.476 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=622a632a-c57b-44a2-83a4-e51223d5f15g#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=782cab20-8328-45f1-a9b2-c27d07c14066#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f7bb2351-9788-42ea-a58b-a5ee1842304e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2e31680f-68b5-4ff3-94a4-9c24109ffd5e#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1045560,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":695040,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":508829,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":65903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:52.183 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":54503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":207212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":130908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":446825,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":133108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":524431,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":105706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":501829,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7681eb19-a914-4dc7-9208-c2a131dca06d","description":"","id":"7681eb19-a914-4dc7-9208-c2a131dca06d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":70604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":34302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":16901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":15701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7681eb19-a914-4dc7-9208-c2a131dca06d'","result":{"duration":15701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":15201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":15201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":537590178,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7681eb19-a914-4dc7-9208-c2a131dca06d'","result":{"duration":1505787,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":897352,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":777844,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":773645,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":832848,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":783445,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":640537,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":633637,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":647337,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":78604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":140508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:52.731 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnwater2015\\\/wms\\\/v1_0?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":679639,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":150609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:52.732 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":771744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":132708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:52.733 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":66204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:52.733 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":815547,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":87205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:52.734 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":123507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:52.734 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbeag#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbead#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":826148,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7681eb19-a914-4dc7-9208-c2a131dca06d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":659038,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7681eb19-a914-4dc7-9208-c2a131dca06d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":421925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":67404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:52.218 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":139408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":125607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":454526,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":135208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":498729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":101105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":522430,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"8129296b-b9c1-489f-990a-df4a879e12b2","description":"","id":"8129296b-b9c1-489f-990a-df4a879e12b2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":71204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":35602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":18001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":17001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '8129296b-b9c1-489f-990a-df4a879e12b2'","result":{"duration":16901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":19301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":16801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":529421208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8129296b-b9c1-489f-990a-df4a879e12b2'","result":{"duration":730142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":709641,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":857850,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":686440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":709241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":681139,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":601034,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":585234,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":578233,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":78805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":75605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:52.757 [print] https:\/\/service.pdok.nl\/cbs\/hh\/wfs\/v1_0?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1166467,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":92306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:52.758 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":960256,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":80705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:52.759 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":346720,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":67804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:52.760 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1081762,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":76904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:52.761 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":32902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:52.761 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=12bb57cd-73e0-41ba-a1e9-6d986b9109d3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":691839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"8129296b-b9c1-489f-990a-df4a879e12b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":559632,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"8129296b-b9c1-489f-990a-df4a879e12b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":399823,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:52.249 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":50302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":329119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":437825,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":445626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f0c6fbfe-a172-4223-8af3-58f6a28c881d","description":"","id":"f0c6fbfe-a172-4223-8af3-58f6a28c881d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":23101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f0c6fbfe-a172-4223-8af3-58f6a28c881d'","result":{"duration":64403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":537511974,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f0c6fbfe-a172-4223-8af3-58f6a28c881d'","result":{"duration":815947,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":730542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":660638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":665138,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":765044,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":695540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":566633,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":559532,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":570233,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":1032059,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":348120,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:52.796 [print] https:\/\/service.pdok.nl\/cbs\/hh\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":655738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":311618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:52.797 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":601234,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":291117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:52.798 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":38702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":227313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:52.798 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":695840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":316918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:52.799 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":221513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:52.799 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=12bb57cd-73e0-41ba-a1e9-6d986b9109d3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":685940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f0c6fbfe-a172-4223-8af3-58f6a28c881d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":586834,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f0c6fbfe-a172-4223-8af3-58f6a28c881d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":451826,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:52.481 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":348220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":519030,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":56103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"af4841b5-ce83-4edb-af41-429a21140316","description":"","id":"af4841b5-ce83-4edb-af41-429a21140316","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'af4841b5-ce83-4edb-af41-429a21140316'","result":{"duration":249815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":544857997,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'af4841b5-ce83-4edb-af41-429a21140316'","result":{"duration":2077320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2506445,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":2311733,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":2319233,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2428240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":2265931,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1478585,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1477685,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1513987,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":251714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":210813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:53.047 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingtypen\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1565990,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":130208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:53.048 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1531388,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":77005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:53.050 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":26402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":175910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:53.050 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":2182926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":119907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:53.053 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":171810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:53.053 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=977e0e94-7aa9-4784-b2da-eaec44adb61b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2432740,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"af4841b5-ce83-4edb-af41-429a21140316\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":649337,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"af4841b5-ce83-4edb-af41-429a21140316\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":412124,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:52.740 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":358421,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":1293675,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":50403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":586334,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"68722979-8d6c-4ee4-a81a-8381d2588fe5","description":"","id":"68722979-8d6c-4ee4-a81a-8381d2588fe5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":23801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '68722979-8d6c-4ee4-a81a-8381d2588fe5'","result":{"duration":73604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":529217495,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68722979-8d6c-4ee4-a81a-8381d2588fe5'","result":{"duration":1039260,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":809747,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":729742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":686440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":801646,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":744243,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":61403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":606535,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":630136,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":586934,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":79604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":94005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:53.280 [print] https:\/\/geodata.nationaalgeoregister.nl\/nl\/rws\/hy-n\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":595934,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":134108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:53.281 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":621436,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":116007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:53.281 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":71704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:53.282 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":743443,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":125507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:53.282 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":55603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:53.282 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":757644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"68722979-8d6c-4ee4-a81a-8381d2588fe5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":599134,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"68722979-8d6c-4ee4-a81a-8381d2588fe5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":416324,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:52.765 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":54803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":362021,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":469727,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":70304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":154709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"58353cdf-b3a1-454e-9284-932a7e815e57","description":"","id":"58353cdf-b3a1-454e-9284-932a7e815e57","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '58353cdf-b3a1-454e-9284-932a7e815e57'","result":{"duration":65404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":15501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":546857312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '58353cdf-b3a1-454e-9284-932a7e815e57'","result":{"duration":842648,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":910553,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":861649,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":849049,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":915753,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":915952,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":681739,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":687440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":726942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":93406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":101906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:53.322 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/hy-p\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1227071,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":93406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:53.323 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1102863,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":85605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:53.324 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":356221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":66903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:53.325 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1192169,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":87605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:53.326 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":28302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:53.326 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1670497,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"58353cdf-b3a1-454e-9284-932a7e815e57\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":528430,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"58353cdf-b3a1-454e-9284-932a7e815e57\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":406323,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:52.811 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":78105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":56303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":349020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":444725,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":2785061,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"30f65c89-2246-49f8-8b50-0f1140d6f2aa","description":"","id":"30f65c89-2246-49f8-8b50-0f1140d6f2aa","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":27401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":22401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '30f65c89-2246-49f8-8b50-0f1140d6f2aa'","result":{"duration":89605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":540599952,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '30f65c89-2246-49f8-8b50-0f1140d6f2aa'","result":{"duration":1074962,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1081563,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1069862,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1084062,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1123365,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1092763,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":50402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":867750,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":653438,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":674539,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":79204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":113806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:53.365 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/hy-p\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1205669,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":91905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:53.366 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1093763,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":83205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:53.368 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":374822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":68604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:53.368 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1109564,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":84205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:53.369 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":28302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:53.369 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1537188,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"30f65c89-2246-49f8-8b50-0f1140d6f2aa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":626236,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"30f65c89-2246-49f8-8b50-0f1140d6f2aa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":419824,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:53.059 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":117407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":54003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":1028559,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":57603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":996057,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":45403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":860050,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e9ba7d7f-6cd1-4271-bce4-56432924b338","description":"","id":"e9ba7d7f-6cd1-4271-bce4-56432924b338","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":38802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e9ba7d7f-6cd1-4271-bce4-56432924b338'","result":{"duration":76004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":533773958,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e9ba7d7f-6cd1-4271-bce4-56432924b338'","result":{"duration":1029160,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":811647,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":786346,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":788745,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":776645,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":810046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":641137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":654638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":621636,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":84805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":794246,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:53.605 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselzaadinvanginstallaties\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":677839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":88606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:53.606 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":738643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":81104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:53.607 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":81005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:53.607 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":855650,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":87405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:53.608 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":204012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:53.608 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a04afee4-47d5-45b7-b7a0-a6f86106af11#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":811346,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e9ba7d7f-6cd1-4271-bce4-56432924b338\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":600635,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e9ba7d7f-6cd1-4271-bce4-56432924b338\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":414224,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:53.287 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":337319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":460826,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":36602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":89905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"aaf53e6f-fe99-4a86-a61c-50b128412d80","description":"","id":"aaf53e6f-fe99-4a86-a61c-50b128412d80","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'aaf53e6f-fe99-4a86-a61c-50b128412d80'","result":{"duration":67104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":533348634,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'aaf53e6f-fe99-4a86-a61c-50b128412d80'","result":{"duration":1519787,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1353978,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1270773,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1262073,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1299675,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":917153,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":638537,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":622136,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1995815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":148908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":120207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:53.833 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselenoesterhabitats\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":25541572,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":341620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:53.859 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1014059,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":210513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:53.860 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":111007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":117207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:53.861 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":854449,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":167609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:53.862 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":120807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:53.862 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3d59fd06-9aec-4744-91e7-65e119f74569#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":771044,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"aaf53e6f-fe99-4a86-a61c-50b128412d80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":15879615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"aaf53e6f-fe99-4a86-a61c-50b128412d80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":483728,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:53.331 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":323419,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":424525,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":94305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c78a99eb-9ba3-4307-a21b-2a64ad5da039","description":"","id":"c78a99eb-9ba3-4307-a21b-2a64ad5da039","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":23101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c78a99eb-9ba3-4307-a21b-2a64ad5da039'","result":{"duration":67304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":532190667,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c78a99eb-9ba3-4307-a21b-2a64ad5da039'","result":{"duration":770644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":750643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1804604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":770345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":866350,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":867550,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":101206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":681239,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":702141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":739242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":205712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":496228,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:53.874 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselzaadinvanginstallaties\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":647238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":236914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:53.875 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":775345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":256215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:53.876 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":107006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":205712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:53.876 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":745343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":200112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:53.877 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":206012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:53.877 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=a04afee4-47d5-45b7-b7a0-a6f86106af11#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":741243,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c78a99eb-9ba3-4307-a21b-2a64ad5da039\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":477927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c78a99eb-9ba3-4307-a21b-2a64ad5da039\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":384022,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:53.374 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":52203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":371621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":425524,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":52703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0bc2bcb8-558b-446b-b4e2-381b13d483a8","description":"","id":"0bc2bcb8-558b-446b-b4e2-381b13d483a8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":18802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0bc2bcb8-558b-446b-b4e2-381b13d483a8'","result":{"duration":69704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":553038268,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0bc2bcb8-558b-446b-b4e2-381b13d483a8'","result":{"duration":1337977,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":939754,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":700140,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":681539,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":888851,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":839749,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":123507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":706541,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":702041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":712041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":166510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":459426,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:53.938 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselenoesterhabitats\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":751743,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":182411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:53.939 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":831348,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":172710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:53.940 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":210712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":122007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:53.940 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":837248,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":171210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:53.941 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":281716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:53.942 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3d59fd06-9aec-4744-91e7-65e119f74569#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":829148,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0bc2bcb8-558b-446b-b4e2-381b13d483a8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":468527,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0bc2bcb8-558b-446b-b4e2-381b13d483a8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":431225,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:53.612 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":335619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":432225,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":53703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"972edbaa-f860-4c48-b449-4f238a263472","description":"","id":"972edbaa-f860-4c48-b449-4f238a263472","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '972edbaa-f860-4c48-b449-4f238a263472'","result":{"duration":175810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":530757684,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '972edbaa-f860-4c48-b449-4f238a263472'","result":{"duration":1191969,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":886351,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":757844,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":828948,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":965656,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":902652,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":111306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":692640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":739043,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":721642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":242314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":401223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:54.153 [print] https:\/\/geodata.nationaalgeoregister.nl\/restwarmte\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":663138,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":216113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:54.154 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":726441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":192611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:54.155 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":124207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":142808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:54.155 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":751843,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":188411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:54.156 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":165810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:54.156 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d6b85d84-cdb9-4a6e-b799-cf8826e22a94#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":744643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"972edbaa-f860-4c48-b449-4f238a263472\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":484528,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"972edbaa-f860-4c48-b449-4f238a263472\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":388923,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":75204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:53.886 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":4726372,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":175410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":142608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":446526,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":167809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":495729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":119707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":122707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a2724dae-ebad-4a07-9405-49bddfde3368","description":"","id":"a2724dae-ebad-4a07-9405-49bddfde3368","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":232113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":47203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":20501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":16901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a2724dae-ebad-4a07-9405-49bddfde3368'","result":{"duration":17001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":16500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":16401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":536668625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a2724dae-ebad-4a07-9405-49bddfde3368'","result":{"duration":1088362,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":837248,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":729142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":714241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1002657,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":950955,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":117407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":712441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":714341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":757244,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":183911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":196811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:54.438 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/verkeersscheidingsstelsel\\\/wfs\\\/v2_0?service=WFS&request=getcapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":669739,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":214613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:54.439 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":659038,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":86105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:54.440 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":39403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":124107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:54.440 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":763444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":84205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:54.441 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":121607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:54.441 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5996e444-f7f3-40d2-b485-8b9af6e8aa89#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":745743,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a2724dae-ebad-4a07-9405-49bddfde3368\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":515330,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a2724dae-ebad-4a07-9405-49bddfde3368\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":414924,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":64903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:53.882 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":155609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":127507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":3025874,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":182211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":495728,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":119707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":214213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3e65fa1b-9bb1-41bd-9760-76962751b839","description":"","id":"3e65fa1b-9bb1-41bd-9760-76962751b839","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":63104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":35702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":16301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3e65fa1b-9bb1-41bd-9760-76962751b839'","result":{"duration":56003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":30901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":17101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":673602816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3e65fa1b-9bb1-41bd-9760-76962751b839'","result":{"duration":1117865,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":883751,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":752243,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":748243,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":808747,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":773244,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":624536,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":659038,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":654137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":93206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":125808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:54.569 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/verkeersscheidingsstelsel\\\/wms\\\/v2_0?service=WMS&request=getcapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":660038,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":143708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:54.569 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":646037,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":85305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:54.570 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":85905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:54.570 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":771445,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":104506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:54.571 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":73504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:54.571 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5996e444-f7f3-40d2-b485-8b9af6e8aa89#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":759544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3e65fa1b-9bb1-41bd-9760-76962751b839\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":637236,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3e65fa1b-9bb1-41bd-9760-76962751b839\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":428025,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":65804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:53.946 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":132407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":126107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":429125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":142908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":494229,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":106106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":201812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f57bdee7-4027-4aa2-8312-4051b854be3c","description":"","id":"f57bdee7-4027-4aa2-8312-4051b854be3c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":488328,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":37502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":19701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":17701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f57bdee7-4027-4aa2-8312-4051b854be3c'","result":{"duration":17101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":16501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":16401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":628310806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f57bdee7-4027-4aa2-8312-4051b854be3c'","result":{"duration":641937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":625736,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":627236,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":606535,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":644437,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":622635,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":36002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":539731,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":533431,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":534831,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":242814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":141208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:54.583 [print] https:\/\/service.pdok.nl\/rvo\/schelpdierpercelen\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":787645,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":297817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:54.584 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":2723757,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":302517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:54.587 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":40403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":235114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:54.588 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":642737,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":289117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:54.589 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":212713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:54.589 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c4b4e95a-12d7-4c74-933c-cb267cfe0bcf#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":633737,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f57bdee7-4027-4aa2-8312-4051b854be3c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":519330,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f57bdee7-4027-4aa2-8312-4051b854be3c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":391723,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":67104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:54.161 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":131407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":212812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":440125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":132808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":497728,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":104806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":161009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"40f04047-3b61-40eb-b026-c1a0caa71881","description":"","id":"40f04047-3b61-40eb-b026-c1a0caa71881","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":82604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":40202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":19901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":17501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '40f04047-3b61-40eb-b026-c1a0caa71881'","result":{"duration":17701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":16101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":16401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":549117342,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '40f04047-3b61-40eb-b026-c1a0caa71881'","result":{"duration":1159066,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1024759,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":966055,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":953155,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1022559,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":981557,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":754343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":825648,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":790546,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":92806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":216113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:54.721 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/reststromen\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":793445,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":131008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:54.722 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":840449,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":121407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:54.723 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":50103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:54.723 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1007558,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":109706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:54.725 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":80404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:54.725 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=11d83e36-fd0d-46bc-838c-0567c5dfdb19#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=34dacd72-d2fb-4e28-844d-73d3b9c3fef2#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=419b85e5-04ee-4cc9-b910-bc58594a943a#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=119f7512-a71e-4d1a-82e7-7a2b63f9338b#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=6ea55ec4-f312-40ef-9935-68806e61b496#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=af784610-df36-4d40-bac0-23d8e728999f#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=24eb504e-f5f3-4ecf-b760-cc5630e82a57#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1280274,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"40f04047-3b61-40eb-b026-c1a0caa71881\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":706141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"40f04047-3b61-40eb-b026-c1a0caa71881\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":549732,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:54.445 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":338119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":426025,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":53704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ceda1b88-32ac-40b2-a841-71eb041c9427","description":"","id":"ceda1b88-32ac-40b2-a841-71eb041c9427","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ceda1b88-32ac-40b2-a841-71eb041c9427'","result":{"duration":61104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":535770374,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ceda1b88-32ac-40b2-a841-71eb041c9427'","result":{"duration":1180368,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1414782,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":938054,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":927953,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":978357,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":956655,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":712641,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":723742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":771844,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":116407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":251414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:54.991 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/reststromen\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":737142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":188611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:54.992 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":754143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":170910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:54.993 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":37802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":92006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:54.994 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":960056,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":172510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:54.995 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":127907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:54.995 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=11d83e36-fd0d-46bc-838c-0567c5dfdb19#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=34dacd72-d2fb-4e28-844d-73d3b9c3fef2#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=419b85e5-04ee-4cc9-b910-bc58594a943a#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=119f7512-a71e-4d1a-82e7-7a2b63f9338b#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=6ea55ec4-f312-40ef-9935-68806e61b496#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=af784610-df36-4d40-bac0-23d8e728999f#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=24eb504e-f5f3-4ecf-b760-cc5630e82a57#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":960955,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ceda1b88-32ac-40b2-a841-71eb041c9427\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":733843,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ceda1b88-32ac-40b2-a841-71eb041c9427\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":515830,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:54.575 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":342319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":486828,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":37203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":83305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3dc373ae-fcf6-49c9-b315-9a2178bffe4a","description":"","id":"3dc373ae-fcf6-49c9-b315-9a2178bffe4a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3dc373ae-fcf6-49c9-b315-9a2178bffe4a'","result":{"duration":71804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":630699643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3dc373ae-fcf6-49c9-b315-9a2178bffe4a'","result":{"duration":1262873,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":932553,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":749043,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":759844,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":821248,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":772245,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":631037,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":633836,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":628736,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":239414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1095563,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:55.216 [print] https:\/\/geodata.nationaalgeoregister.nl\/restwarmte\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":681739,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":91405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:55.217 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":964556,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":83405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:55.218 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":359521,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":67004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:55.219 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1068461,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":83005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:55.220 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":359821,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:55.220 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d6b85d84-cdb9-4a6e-b799-cf8826e22a94#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1336277,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3dc373ae-fcf6-49c9-b315-9a2178bffe4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":623936,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3dc373ae-fcf6-49c9-b315-9a2178bffe4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":433525,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:54.593 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":314818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":418224,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":260415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"280cee65-1b66-4973-a569-75122e0b745b","description":"","id":"280cee65-1b66-4973-a569-75122e0b745b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '280cee65-1b66-4973-a569-75122e0b745b'","result":{"duration":62703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":654193697,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '280cee65-1b66-4973-a569-75122e0b745b'","result":{"duration":916852,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":830347,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":755644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":712941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":781445,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":782545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":614336,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":615835,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":671339,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":85004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":131908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:55.256 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/richtlijnstedelijkafvalwater2015\\\/wfs\\\/v1_0?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1284374,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":102306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:55.257 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":987857,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":83804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:55.258 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":475728,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:55.259 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":806146,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":92305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:55.260 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":38502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:55.260 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2030918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"280cee65-1b66-4973-a569-75122e0b745b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":671239,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"280cee65-1b66-4973-a569-75122e0b745b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":477727,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:54.729 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":336819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":458527,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":77104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"108fec55-e467-4d04-ab35-fd0d7060e3e2","description":"","id":"108fec55-e467-4d04-ab35-fd0d7060e3e2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '108fec55-e467-4d04-ab35-fd0d7060e3e2'","result":{"duration":69404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":537290360,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '108fec55-e467-4d04-ab35-fd0d7060e3e2'","result":{"duration":720642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":762043,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1002058,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":787645,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1016059,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":755743,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":602335,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":604935,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":663538,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":76304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":305717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:55.276 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/richtlijnstedelijkafvalwater2015\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":650638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":294517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:55.277 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":643537,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":290417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:55.278 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":38602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":229713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:55.278 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":776945,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":293617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:55.279 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":235614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:55.279 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":753143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"108fec55-e467-4d04-ab35-fd0d7060e3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1653095,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"108fec55-e467-4d04-ab35-fd0d7060e3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":536631,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:54.999 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":53504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":336719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":437525,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":57103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"6c62e0a5-c215-4e47-94b0-a239e264417d","description":"","id":"6c62e0a5-c215-4e47-94b0-a239e264417d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":22901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '6c62e0a5-c215-4e47-94b0-a239e264417d'","result":{"duration":73704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":567522303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6c62e0a5-c215-4e47-94b0-a239e264417d'","result":{"duration":1916010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2034918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1865207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1758001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1950213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1909211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1238771,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1235372,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":3035975,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":210713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":127407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:55.586 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/plu\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1908610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":105706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:55.588 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1716399,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":92705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:55.590 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":615135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:55.590 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":3416097,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":92205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:55.594 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":33602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:55.594 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=17716ed7-ce0d-4bfd-8868-a398e5578a36#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1908410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"6c62e0a5-c215-4e47-94b0-a239e264417d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":772344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"6c62e0a5-c215-4e47-94b0-a239e264417d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":421824,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:55.225 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":332319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":791745,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":44703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":55903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5856173c-e58d-4b4c-8f9b-046ee1f20c1c","description":"","id":"5856173c-e58d-4b4c-8f9b-046ee1f20c1c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5856173c-e58d-4b4c-8f9b-046ee1f20c1c'","result":{"duration":403823,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":547465247,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5856173c-e58d-4b4c-8f9b-046ee1f20c1c'","result":{"duration":1542289,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1203369,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":791346,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":777645,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":911252,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":818347,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":640837,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":651637,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":670239,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":81404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":263615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:55.783 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/wko\\\/wfs?service=WFS&request=Getcapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":717841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":109706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:55.784 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1358278,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":92205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:55.785 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":32902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:55.785 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":808647,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":83205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:55.786 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":30201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:55.786 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dc5b522e-3e14-4738-9e8e-2401e1b19ef2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":822147,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5856173c-e58d-4b4c-8f9b-046ee1f20c1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":613736,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5856173c-e58d-4b4c-8f9b-046ee1f20c1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":444626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:55.270 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":53103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":399623,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":422324,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":52803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd","description":"","id":"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd'","result":{"duration":399723,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":533517243,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd'","result":{"duration":813847,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":818947,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":748843,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":27145764,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1382880,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":989157,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":142208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":864850,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":797846,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":840948,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":173010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":182810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:55.841 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rdinfo\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":699540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":177010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:55.842 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":722742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":165409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:55.843 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":141108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":115606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:55.843 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":892952,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":172810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:55.844 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":112406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:55.845 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=29c17585-e702-463f-a5dc-99d34b17d333#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1523488,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":497828,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":378022,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:55.285 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":41902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":304918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":414424,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":50303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0","description":"","id":"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0'","result":{"duration":391323,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":549793182,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0'","result":{"duration":813447,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":758943,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":681439,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1599592,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1864907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1482286,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":106006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":3404996,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":688140,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":680439,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":147208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":159709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:55.849 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/richtlijnoverstromingsrisico2018\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":592534,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":151108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:55.850 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":670139,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":143508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:55.851 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":89105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":139508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:55.851 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":684640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":151609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:55.852 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":108406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:55.852 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=rorl-9d8e-4758-83fx-28b057f185g1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":676539,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":416724,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":373522,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:55.600 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":52703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":353020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":5428813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":55303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":57404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c374d556-7b6e-459b-83c7-74da6ad90a59","description":"","id":"c374d556-7b6e-459b-83c7-74da6ad90a59","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c374d556-7b6e-459b-83c7-74da6ad90a59'","result":{"duration":122507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":536346406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":9101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c374d556-7b6e-459b-83c7-74da6ad90a59'","result":{"duration":1212670,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":887951,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":759344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":731742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2941869,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":937954,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":112907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":723642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":726342,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":770944,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":175610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":186211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:56.156 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierwater\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":659238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":176311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:56.157 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":735243,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":214012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:56.158 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":103806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":109507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:56.158 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":773245,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":163409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:56.159 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":114806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:56.159 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4783ea4f-6b8c-4600-8af0-516f3556cfe9#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":804447,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c374d556-7b6e-459b-83c7-74da6ad90a59\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":540532,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c374d556-7b6e-459b-83c7-74da6ad90a59\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":390823,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:55.790 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":388922,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":444425,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":53803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f76bdce5-344e-415f-8f2c-972755e80b65","description":"","id":"f76bdce5-344e-415f-8f2c-972755e80b65","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f76bdce5-344e-415f-8f2c-972755e80b65'","result":{"duration":71004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":530585375,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":9100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f76bdce5-344e-415f-8f2c-972755e80b65'","result":{"duration":1622494,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1338977,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1098063,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":751544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":955256,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":887052,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":107606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":704441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":713641,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":749843,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":171810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":301217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:56.332 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierwater\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":770644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":180411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:56.333 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":841249,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":169209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:56.334 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":215113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":125207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:56.335 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":895252,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":163609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:56.336 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":240613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:56.336 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=4783ea4f-6b8c-4600-8af0-516f3556cfe9#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":848549,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f76bdce5-344e-415f-8f2c-972755e80b65\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":504729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f76bdce5-344e-415f-8f2c-972755e80b65\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":370121,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":66404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:55.860 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":118307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":121407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":379122,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":128707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":553032,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":112506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":131207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"609d0c9e-173f-4f90-b020-c91ab3a0b6ef","description":"","id":"609d0c9e-173f-4f90-b020-c91ab3a0b6ef","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":54003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":32001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":18401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":17001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '609d0c9e-173f-4f90-b020-c91ab3a0b6ef'","result":{"duration":16901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":16601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":550003293,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '609d0c9e-173f-4f90-b020-c91ab3a0b6ef'","result":{"duration":723442,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":730542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":698541,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":754443,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":744643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":737142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":593334,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":594734,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":628236,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":71504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":90605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:56.419 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rdinfo\\\/wms?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":2250629,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":85705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:56.421 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":735642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":77904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:56.422 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":138708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:56.422 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":843148,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":94306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:56.423 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":33402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:56.423 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=29c17585-e702-463f-a5dc-99d34b17d333#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":972456,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"609d0c9e-173f-4f90-b020-c91ab3a0b6ef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":541231,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"609d0c9e-173f-4f90-b020-c91ab3a0b6ef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":380622,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":67004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:55.856 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":133108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":128307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":441425,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":133608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":598135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":107906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":124008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"cea38797-ea4b-4969-b979-8d25eb543a6c","description":"","id":"cea38797-ea4b-4969-b979-8d25eb543a6c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":52303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":37802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":19602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":17101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'cea38797-ea4b-4969-b979-8d25eb543a6c'","result":{"duration":16201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":15701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":15701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":532056160,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cea38797-ea4b-4969-b979-8d25eb543a6c'","result":{"duration":1500587,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1304875,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1220870,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1239971,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1284874,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1019359,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":658638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":625736,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":620336,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":82605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":103106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:56.401 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/elu\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":925753,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":87605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:56.402 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":740642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":81105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:56.403 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":144808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:56.403 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":891251,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":81504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:56.404 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":30402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:56.404 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=6318009c-7b11-4ab9-9929-735584dfb692#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":967056,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"cea38797-ea4b-4969-b979-8d25eb543a6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1560590,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"cea38797-ea4b-4969-b979-8d25eb543a6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":474927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":78604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:56.166 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":44003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":133808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":135107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":2432440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":161309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":3789719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":136007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":152009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ac3a9efe-2154-4a4c-aae3-ea269044945d","description":"","id":"ac3a9efe-2154-4a4c-aae3-ea269044945d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":59604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":36002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":18501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":16701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ac3a9efe-2154-4a4c-aae3-ea269044945d'","result":{"duration":17301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":15901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":526432635,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ac3a9efe-2154-4a4c-aae3-ea269044945d'","result":{"duration":989957,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":796946,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":702240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":740743,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":793445,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":734543,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":42203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":627136,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":593134,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":579533,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":105206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":89905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:56.707 [print] https:\/\/geodata.nationaalgeoregister.nl\/bzk\/bro-bodemkaart\/wms\/v1_0?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":879850,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":78605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:56.708 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":739343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":77105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:56.708 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":141409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:56.709 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":926154,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":86405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:56.710 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":29302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:56.710 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ed960299-a147-4c1a-bc57-41ff83a2264f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1473385,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ac3a9efe-2154-4a4c-aae3-ea269044945d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":613635,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ac3a9efe-2154-4a4c-aae3-ea269044945d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":394723,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":66804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:56.340 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":135508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":128108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":460527,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":134807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":496428,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":104306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":125707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d","description":"","id":"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":51703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":148108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":22801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":17901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d'","result":{"duration":17001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":18901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":16601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":575914087,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d'","result":{"duration":1364479,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1110064,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1005458,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1054661,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1097963,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":997858,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":39102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":538631,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":525931,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":548831,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":82905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":82805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:56.928 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2020\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":731242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":189211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:56.929 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":673639,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":72704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:56.929 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":24201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:56.929 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":844248,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":80204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:56.930 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":31101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:56.930 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f1859b4d-93be-4fc8-9e91-0ecc2fa0f3b3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":857950,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":4675870,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":460226,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:56.409 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":339619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":49103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":9342839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":47002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":53703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d","description":"","id":"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":105706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '4b6752ae-65d6-44b5-98ef-1fc30f4fd92d'","result":{"duration":98606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":544527178,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4b6752ae-65d6-44b5-98ef-1fc30f4fd92d'","result":{"duration":916952,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":871751,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":834949,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":838849,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":902752,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":850349,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":663638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":667439,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":725341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":88705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":99806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:56.972 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rwsgeluidskaarten\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1221071,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":86805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:56.973 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1041560,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":93006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:56.974 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":329719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":66304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:56.975 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1277974,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":76904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:56.976 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":38202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:56.976 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf8#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf36#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf38#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=50eef6be-619d-4e16-9b92-48971109b636#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8de2f5eb-b09f-4f6d-8397-8878a1b86238#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":847449,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":626836,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":459227,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:56.427 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":44603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":333319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":408523,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":49403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"180b6682-5d6f-429d-abb7-32f7d6253787","description":"","id":"180b6682-5d6f-429d-abb7-32f7d6253787","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '180b6682-5d6f-429d-abb7-32f7d6253787'","result":{"duration":319019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":566357636,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '180b6682-5d6f-429d-abb7-32f7d6253787'","result":{"duration":843148,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":783745,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":741343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":723041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":803047,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":770545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":615436,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":608935,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":633536,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":74904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":79004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:57.002 [print] https:\/\/geodata.nationaalgeoregister.nl\/windkaart\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":874051,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":78405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:57.003 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":745442,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":79605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:57.004 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":140409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:57.004 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":857950,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":79405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:57.005 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":29302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:57.005 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=d845cef6-0e23-4212-a951-b69763e39ef0#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":950655,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"180b6682-5d6f-429d-abb7-32f7d6253787\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":544931,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"180b6682-5d6f-429d-abb7-32f7d6253787\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":401623,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:56.714 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":365521,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":416824,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":53703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"4805aac3-9a8d-4fcd-851b-88c7b3d342e2","description":"","id":"4805aac3-9a8d-4fcd-851b-88c7b3d342e2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":336020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '4805aac3-9a8d-4fcd-851b-88c7b3d342e2'","result":{"duration":64704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":536806933,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4805aac3-9a8d-4fcd-851b-88c7b3d342e2'","result":{"duration":940655,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":687539,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":656438,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":618136,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":677540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":640037,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":545231,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":573833,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":574033,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":80305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":112507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:57.260 [print] https:\/\/service.pdok.nl\/kadaster\/sr\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":615036,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":79804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:57.260 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":551132,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":73805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:57.261 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":28502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":28202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:57.261 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":658737,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":74804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:57.262 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":44703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:57.262 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":629536,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"4805aac3-9a8d-4fcd-851b-88c7b3d342e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":661838,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"4805aac3-9a8d-4fcd-851b-88c7b3d342e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":461327,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:56.939 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":363921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":392223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":453726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d981070b-888c-42d5-85ff-1e383f3d7fce","description":"","id":"d981070b-888c-42d5-85ff-1e383f3d7fce","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":22801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd981070b-888c-42d5-85ff-1e383f3d7fce'","result":{"duration":82505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":535839478,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd981070b-888c-42d5-85ff-1e383f3d7fce'","result":{"duration":1063161,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":827148,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":764844,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":733842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":815147,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":767844,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":620836,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":659238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":634737,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":85405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":139608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:57.484 [print] https:\/\/geodata.nationaalgeoregister.nl\/windkaart\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":688840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":90905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:57.486 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1003958,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":80405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:57.487 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":355420,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":68204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:57.487 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1061162,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":81805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:57.489 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":817147,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:57.489 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d845cef6-0e23-4212-a951-b69763e39ef0#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":768944,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d981070b-888c-42d5-85ff-1e383f3d7fce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":601534,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d981070b-888c-42d5-85ff-1e383f3d7fce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":446426,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:56.980 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":2678354,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":48903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":418324,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":53503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"67bcc21d-beda-449d-975c-00a4fa80f2b7","description":"","id":"67bcc21d-beda-449d-975c-00a4fa80f2b7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '67bcc21d-beda-449d-975c-00a4fa80f2b7'","result":{"duration":176510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":529143691,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '67bcc21d-beda-449d-975c-00a4fa80f2b7'","result":{"duration":714941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":707241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":685240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":654437,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":703641,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":730242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":611135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":584133,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":614736,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":103106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":239814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:57.520 [print] https:\\\/\\\/service.pdok.nl\\\/hwh\\\/hydrografie\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":777945,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":83105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:57.521 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":691240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":73304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:57.522 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":177810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:57.522 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":776745,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":75004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:57.523 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":170210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:57.523 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=07575774-57a1-4419-bab4-6c88fdeb02b2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":802946,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"67bcc21d-beda-449d-975c-00a4fa80f2b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":537831,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"67bcc21d-beda-449d-975c-00a4fa80f2b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":390523,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:57.009 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":329119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":404423,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":52103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"598c4109-21d2-4a6c-b083-9975a6736853","description":"","id":"598c4109-21d2-4a6c-b083-9975a6736853","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":109706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '598c4109-21d2-4a6c-b083-9975a6736853'","result":{"duration":62103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":539172769,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '598c4109-21d2-4a6c-b083-9975a6736853'","result":{"duration":865450,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":837849,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":732842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":736142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":795746,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":783245,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":641237,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":621636,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":632136,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":100206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":706741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:57.558 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/weggeg\\\/wms?request=getcapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":656238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":491028,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:57.559 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":674639,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":454026,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:57.560 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":39902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":395923,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:57.561 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":17991236,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":297217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:57.579 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":122807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:57.579 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=27df6b33-194c-46d6-ac94-257c306c91f2#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=abaf1e22-55aa-4a11-a855-7ac963e4a82b#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":872950,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736853\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":533131,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736853\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":400923,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:57.266 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":355821,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":401823,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":51403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9ff1a13c-d1e0-4150-8523-91cb489ae1a4","description":"","id":"9ff1a13c-d1e0-4150-8523-91cb489ae1a4","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9ff1a13c-d1e0-4150-8523-91cb489ae1a4'","result":{"duration":83305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":567078877,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9ff1a13c-d1e0-4150-8523-91cb489ae1a4'","result":{"duration":1536789,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1388680,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1196269,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":941754,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1073362,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1023659,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":107807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":762644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":837149,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":831748,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":507530,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":413623,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:57.845 [print] https:\/\/geodata.nationaalgeoregister.nl\/atom\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":726942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":392923,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:57.846 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":878550,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":403923,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:57.848 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":115307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":228213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:57.848 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":2446341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":235714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:57.851 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":480128,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:57.851 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=5a1adb58-0bbe-425d-b0fe-577a6c0a4228#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8829e5dd-c861-4639-a6c8-fdbb6e3440d2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=710c381c-ab2d-45d5-a45d-af2eba811e5f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a9b7026e-0a81-4813-93bd-ba49e6f28502#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=00d8c7c8-98ff-4b06-8f53-b44216e6e75c#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=701d4eb8-8aae-4708-bba5-3edf6987676d#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=831f7bd7-c2ae-4336-bd2f-47ab20d7cdb7#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=abaf1e22-55aa-4a11-a855-7ac963e4a82b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=07d73b60-dfd6-4c54-9c82-9fac70c6c48e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d25fe199-2430-48fd-ad57-5b5f79f73cdf#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=e536d943-ecff-4d7a-9500-cc31a263a6af#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=bbece924-9aab-4e00-8392-bce36b8f494e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=c935f2ab-9b65-4dc4-94a0-73aeb840a941#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=81ff84ec-42a4-4481-840b-12713bbb5d38#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=af0c582f-9e6b-46e6-865a-fc3a2d5289b9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=3eebf700-5abf-42e4-826c-03cfb497e366#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9d9f1738-aced-47c9-aaa0-c62474a2dcfb#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8eee71f9-9365-490d-9484-00263c6fa35c#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=4961d305-fbb5-426a-9ba3-53e1ca5f3b18#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2af8df10-81ba-434a-8125-34fe8f127cf9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=6cde2ce7-3ecd-4785-b7b8-d62c3381efe9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=3229e4d7-4bcd-4b94-819d-8e62de69ce2e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=bffcd5d9-02b4-4e7d-991f-a386611cad84#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2d3dd6d2-2d2b-4b5f-9e30-86e19ed77a56#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":894452,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9ff1a13c-d1e0-4150-8523-91cb489ae1a4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1063862,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9ff1a13c-d1e0-4150-8523-91cb489ae1a4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":731742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:57.493 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":50503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":52603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":695241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":46603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":404523,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":53803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f","description":"","id":"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":16500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f'","result":{"duration":73804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":539880010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f'","result":{"duration":1168467,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":793845,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":931954,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":857249,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":965656,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1402781,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":111206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":640637,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":683739,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":658838,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":477128,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":303018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:58.045 [print] https:\/\/inspire.caris.nl\/gs5\/ProspectingAndMiningPermitArea\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":599234,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":282116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:58.045 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":662039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":220113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:58.046 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":105606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":169110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:58.047 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":690940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":217812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:58.048 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":186711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:58.048 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c2225e5d-b46f-4e38-8445-ab10fd40c0dc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":658438,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":490228,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":815647,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:57.527 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":52003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":357921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":509029,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":44002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":79904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"87a382da-c6dc-403c-a006-2379eb6daaa6","description":"","id":"87a382da-c6dc-403c-a006-2379eb6daaa6","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '87a382da-c6dc-403c-a006-2379eb6daaa6'","result":{"duration":77404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":552312927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '87a382da-c6dc-403c-a006-2379eb6daaa6'","result":{"duration":946655,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":726142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":659138,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":633637,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":821547,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":762744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":101606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":637737,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":674139,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":663938,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":163009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":430125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:58.088 [print] https:\/\/inspire.caris.nl\/gs5\/pssa_nl\/ows?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":598934,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":201212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:58.089 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":744443,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":156409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:58.090 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":169910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":110307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:58.090 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":686340,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":155709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:58.091 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":191411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:58.092 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=f1d27179-36eb-4376-8048-f51d2eb23a09&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":700741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"87a382da-c6dc-403c-a006-2379eb6daaa6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":455827,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"87a382da-c6dc-403c-a006-2379eb6daaa6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":366722,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":87105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:57.584 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":45002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":144508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":138408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":423825,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":135007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":451426,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":95705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":130107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b7880739-a701-4cc0-bb32-2bba61fa8924","description":"","id":"b7880739-a701-4cc0-bb32-2bba61fa8924","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":97606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":36802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":18101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":28202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b7880739-a701-4cc0-bb32-2bba61fa8924'","result":{"duration":16701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":22401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":545693945,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b7880739-a701-4cc0-bb32-2bba61fa8924'","result":{"duration":878251,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":730342,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":641337,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":662738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":892752,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":809647,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":110406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":653438,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":756143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":703841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":180210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":392623,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:58.140 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/aardwarmte?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":7339122,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":300518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:58.148 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":860049,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":171810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:58.149 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":220413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":172210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:58.149 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":761443,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":78105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:58.150 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":160309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:58.151 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=11a292bd-9022-4a9f-b1bf-02f5c89ad74a&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":864250,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b7880739-a701-4cc0-bb32-2bba61fa8924\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":507129,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b7880739-a701-4cc0-bb32-2bba61fa8924\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":382322,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":66203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:57.857 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":133908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":127208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":417924,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":130108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":1718099,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":120207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":323818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a5437cb4-98ef-4c8e-a5ed-000e7a82b774","description":"","id":"a5437cb4-98ef-4c8e-a5ed-000e7a82b774","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":67004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":35402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":15801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a5437cb4-98ef-4c8e-a5ed-000e7a82b774'","result":{"duration":15801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":14801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":15500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":551778197,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a5437cb4-98ef-4c8e-a5ed-000e7a82b774'","result":{"duration":1334877,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1192469,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1039160,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":639937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":710241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":680039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":40902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":4849779,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":597935,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":577033,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":81805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":90505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:58.425 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten100mv2\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":741743,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":83305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:58.426 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":637536,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":75004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:58.427 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":95905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":42802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:58.427 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":768044,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":78605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:58.428 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":98906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:58.428 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1462bbce-ccd3-4362-83d8-4535ca8f44eb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":685140,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a5437cb4-98ef-4c8e-a5ed-000e7a82b774\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":576033,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a5437cb4-98ef-4c8e-a5ed-000e7a82b774\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":393422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":65504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:58.053 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":139208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":127607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":401423,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":134007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":482228,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":103706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":230813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7f79fc69-d0c7-4913-a05a-527c90453297","description":"","id":"7f79fc69-d0c7-4913-a05a-527c90453297","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":86805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":38002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":25701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7f79fc69-d0c7-4913-a05a-527c90453297'","result":{"duration":15801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":46303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":22101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":582662680,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7f79fc69-d0c7-4913-a05a-527c90453297'","result":{"duration":1408881,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1004457,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":680040,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":672339,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":725842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":738942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":595834,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":576933,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":592434,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":79705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":87505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:58.645 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":883351,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":122107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:58.646 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":669038,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":126707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:58.647 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":70804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":66003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:58.647 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":735942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":82905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:58.648 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":26202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:58.648 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":844048,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7f79fc69-d0c7-4913-a05a-527c90453297\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":595434,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7f79fc69-d0c7-4913-a05a-527c90453297\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":386822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":63804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:58.096 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":129508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":125007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":479428,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":138908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":462727,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":96405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":104206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f2d2cd9d-7410-485a-95e0-c1b885243eaf","description":"","id":"f2d2cd9d-7410-485a-95e0-c1b885243eaf","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":45202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":32201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":16001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f2d2cd9d-7410-485a-95e0-c1b885243eaf'","result":{"duration":16001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":15001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":17201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":587222743,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f2d2cd9d-7410-485a-95e0-c1b885243eaf'","result":{"duration":1025659,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1106863,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1056461,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1012758,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1076362,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":693640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":557132,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":545231,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":548531,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":72704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":62703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:58.693 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":826848,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":112206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:58.694 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":589134,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":95306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:58.695 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":44102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:58.695 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":675639,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":96905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:58.696 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":43202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:58.696 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e8b84fae-00b3-49c1-80c1-df8f69f64e8c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":655938,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f2d2cd9d-7410-485a-95e0-c1b885243eaf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":652838,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f2d2cd9d-7410-485a-95e0-c1b885243eaf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":387522,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:58.155 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":57904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":338120,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":412724,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":50603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1601e160-91e8-4091-9aca-10294f819d42","description":"","id":"1601e160-91e8-4091-9aca-10294f819d42","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":71605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1601e160-91e8-4091-9aca-10294f819d42'","result":{"duration":65504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":578888663,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1601e160-91e8-4091-9aca-10294f819d42'","result":{"duration":1156166,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1330677,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1271473,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1222270,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":901852,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":767645,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":40802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":587333,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":651238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":630936,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":76604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":886151,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:58.745 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-natura2000\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":679539,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":151609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:58.746 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":691639,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":81305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:58.747 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":62404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":97605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:58.747 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":789045,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":86305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:58.748 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":95905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:58.748 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=280ed37a-b8d2-4ac5-8567-04d84fad3a41#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2333434,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1601e160-91e8-4091-9aca-10294f819d42\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":463727,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1601e160-91e8-4091-9aca-10294f819d42\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":403423,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:58.434 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":337119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":433925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":51903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"275b64ab-34c2-41f8-8904-97812c7f716e","description":"","id":"275b64ab-34c2-41f8-8904-97812c7f716e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '275b64ab-34c2-41f8-8904-97812c7f716e'","result":{"duration":65703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":532360684,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '275b64ab-34c2-41f8-8904-97812c7f716e'","result":{"duration":1580191,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1303475,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1216370,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1137766,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1052361,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":645537,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":474528,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":533530,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":554632,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":74604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":82804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:58.977 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-wl\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":663739,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":118107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:58.978 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":641437,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":105606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:58.979 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":75305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:58.979 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":746243,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":95306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:58.980 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":73904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:58.980 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=19165027-a13a-4c19-9013-ec1fd191019d#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":713041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"275b64ab-34c2-41f8-8904-97812c7f716e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":599435,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"275b64ab-34c2-41f8-8904-97812c7f716e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":380822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:58.652 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":57103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":333719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":417625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":50203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"bc0b75c6-3eef-49de-aca2-8483024903c1","description":"","id":"bc0b75c6-3eef-49de-aca2-8483024903c1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":88905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'bc0b75c6-3eef-49de-aca2-8483024903c1'","result":{"duration":87005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":533111027,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bc0b75c6-3eef-49de-aca2-8483024903c1'","result":{"duration":1035160,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":809547,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":718141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":730542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":851249,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":751743,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":610736,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":610135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":608635,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":96205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":91105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:59.194 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-wl\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":622536,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":133508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:59.195 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":661338,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":120407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:59.196 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":53203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:59.196 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":744243,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":85805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:59.197 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":76005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:59.197 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=19165027-a13a-4c19-9013-ec1fd191019d#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":757344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"bc0b75c6-3eef-49de-aca2-8483024903c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":599034,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"bc0b75c6-3eef-49de-aca2-8483024903c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":428425,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:58.700 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":43803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":338820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":409524,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":233513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"89b35a6c-c099-456b-8eaf-2b83c7a35c74","description":"","id":"89b35a6c-c099-456b-8eaf-2b83c7a35c74","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '89b35a6c-c099-456b-8eaf-2b83c7a35c74'","result":{"duration":64803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":538208820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '89b35a6c-c099-456b-8eaf-2b83c7a35c74'","result":{"duration":1257273,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1172268,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1171768,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1122365,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1209870,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1141565,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":113106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":845848,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":607135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":601535,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":731242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":630236,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:59.251 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-np\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":659938,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":80204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:59.251 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":936654,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":422625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:59.253 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":41402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":107907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:59.253 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1703899,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":433525,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:59.255 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":118007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:59.256 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=247a1d15-0a67-40ce-85be-1403c08f15a8#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":716242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"89b35a6c-c099-456b-8eaf-2b83c7a35c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":561733,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"89b35a6c-c099-456b-8eaf-2b83c7a35c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":468227,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:58.753 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":335019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":406523,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":49803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d7d19437-f875-45b3-86cd-2fa3335479ec","description":"","id":"d7d19437-f875-45b3-86cd-2fa3335479ec","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":81204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":21101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd7d19437-f875-45b3-86cd-2fa3335479ec'","result":{"duration":61703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":525640496,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd7d19437-f875-45b3-86cd-2fa3335479ec'","result":{"duration":889252,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":946454,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":959356,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":943154,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":962456,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":931454,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":39802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":795546,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":773745,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":675339,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":74004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":63503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:59.289 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-np\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":609135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":69304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:59.290 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":808647,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":75604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:59.291 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":30702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:59.291 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":743843,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":76604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:59.292 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":30702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:59.292 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=247a1d15-0a67-40ce-85be-1403c08f15a8#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":709241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d7d19437-f875-45b3-86cd-2fa3335479ec\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":461627,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d7d19437-f875-45b3-86cd-2fa3335479ec\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":388823,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:58.983 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":44103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":316819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":381022,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":62604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a7aeddf2-3b37-4668-9c75-de93d9326276","description":"","id":"a7aeddf2-3b37-4668-9c75-de93d9326276","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a7aeddf2-3b37-4668-9c75-de93d9326276'","result":{"duration":59404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":535795682,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a7aeddf2-3b37-4668-9c75-de93d9326276'","result":{"duration":1352278,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":979057,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":15562197,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":831648,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1016258,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":920053,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":135208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":685339,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":5184499,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":770445,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":170510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":170110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:59.549 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-natura2000\/wms?request=Getcapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":652137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":161009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:59.549 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":716842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":161610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:59.550 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":98406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":107806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:59.551 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":865350,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":164910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:59.552 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":108807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:59.552 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=280ed37a-b8d2-4ac5-8567-04d84fad3a41#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":750444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a7aeddf2-3b37-4668-9c75-de93d9326276\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":473728,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a7aeddf2-3b37-4668-9c75-de93d9326276\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":380121,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:59.201 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":331419,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":413524,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":102006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7b8f44b5-6eae-4113-a835-84b8678c3dd5","description":"","id":"7b8f44b5-6eae-4113-a835-84b8678c3dd5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7b8f44b5-6eae-4113-a835-84b8678c3dd5'","result":{"duration":62903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":655567784,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7b8f44b5-6eae-4113-a835-84b8678c3dd5'","result":{"duration":1183568,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":899452,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":715641,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":953355,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":905252,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":4097836,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":163809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":698740,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":685940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":684039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":176910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":905152,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:59.870 [print] https:\/\/service.pdok.nl\/rce\/ps-ch\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":665839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":231914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:59.871 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1025959,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":217912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:59.872 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":133008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":162110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:59.873 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":997257,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":211112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:59.874 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":192011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:59.875 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=493ab81b-75f8-4205-b030-6b2fd9eb4295#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1332677,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7b8f44b5-6eae-4113-a835-84b8678c3dd5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":475427,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7b8f44b5-6eae-4113-a835-84b8678c3dd5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":365621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:59.260 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":321419,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":1073462,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":50403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":59203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7ab53b91-9df1-4c39-ba0e-06ec80ce512b","description":"","id":"7ab53b91-9df1-4c39-ba0e-06ec80ce512b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":105506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7ab53b91-9df1-4c39-ba0e-06ec80ce512b'","result":{"duration":65804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":661561730,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7ab53b91-9df1-4c39-ba0e-06ec80ce512b'","result":{"duration":1033460,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":823347,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":742143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":727642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":885551,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":849549,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":105406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":679340,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":699740,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":710541,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":164209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":204612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:59.932 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-cdda\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":633336,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":201712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:59.933 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":697140,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":160109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:59.934 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":95905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":151609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:59.934 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":734642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":178710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:59.935 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":154809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:59.935 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=3387ef8a-9237-453a-aa4e-585d1e193550#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":723342,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7ab53b91-9df1-4c39-ba0e-06ec80ce512b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":492028,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7ab53b91-9df1-4c39-ba0e-06ec80ce512b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":2755759,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:59.295 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":313218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":403923,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":49203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"101a2cc7-bb53-4a16-98f9-bab1f4745b01","description":"","id":"101a2cc7-bb53-4a16-98f9-bab1f4745b01","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '101a2cc7-bb53-4a16-98f9-bab1f4745b01'","result":{"duration":59504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":664452897,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '101a2cc7-bb53-4a16-98f9-bab1f4745b01'","result":{"duration":968356,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":769844,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":720342,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":762244,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":860450,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":808846,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":100106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":650238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":685139,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1161167,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":173010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":757644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:59.970 [print] https:\\\/\\\/service.pdok.nl\\\/rce\\\/ps-ch\\\/wfs\\\/v1_0?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":809247,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":615936,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:59.971 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":718441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":530631,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:59.972 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":114306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":479027,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:59.973 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":736443,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":523331,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:59.974 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":841549,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:59.975 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=493ab81b-75f8-4205-b030-6b2fd9eb4295#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":745943,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"101a2cc7-bb53-4a16-98f9-bab1f4745b01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":491328,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"101a2cc7-bb53-4a16-98f9-bab1f4745b01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1399780,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":67104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:59.557 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":140909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":133708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":402123,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":129507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":475827,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":102006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":118607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"63f622ef-46b3-411a-a2aa-045cabf1e3ac","description":"","id":"63f622ef-46b3-411a-a2aa-045cabf1e3ac","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":48502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":58003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":25101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":17101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '63f622ef-46b3-411a-a2aa-045cabf1e3ac'","result":{"duration":15401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":14401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":14300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":521642465,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '63f622ef-46b3-411a-a2aa-045cabf1e3ac'","result":{"duration":1045560,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":867550,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":795046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":747943,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":867450,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":795046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":40802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":632236,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":655738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":654938,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":85105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":89105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:00.088 [print] https:\/\/geodata.nationaalgeoregister.nl\/provincies\/ps\/wfs\/v1?SERVICE=WFS&REQUEST=GetCapabilities&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":647437,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":137108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:00.089 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":681440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":83105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:00.090 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":100906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:00.090 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":776945,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":82805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:00.091 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":98605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:00.091 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=49ab8bee-b467-486a-96ca-b950443c453a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":776145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"63f622ef-46b3-411a-a2aa-045cabf1e3ac\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":727642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"63f622ef-46b3-411a-a2aa-045cabf1e3ac\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":435726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":63804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:59.879 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":143908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":124607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":400223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":524130,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":491828,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":99006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":126407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"25c69c01-8dfa-406f-bbcb-24feba25dcc6","description":"","id":"25c69c01-8dfa-406f-bbcb-24feba25dcc6","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":49703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":60504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":23002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":16101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '25c69c01-8dfa-406f-bbcb-24feba25dcc6'","result":{"duration":20702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":15001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":15401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":542504768,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '25c69c01-8dfa-406f-bbcb-24feba25dcc6'","result":{"duration":1091163,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":784646,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":737142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":692640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":758143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":721842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":636937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":618936,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":600034,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":83305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":88405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:00.432 [print] https:\/\/geodata.nationaalgeoregister.nl\/provincies\/ps\/wms\/v1?SERVICE=WMS&REQUEST=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1406281,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":91805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:00.434 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":955555,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":81104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:00.435 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":365621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:00.435 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1030059,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":82005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:00.436 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":89506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:00.436 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=49ab8bee-b467-486a-96ca-b950443c453a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":721142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"25c69c01-8dfa-406f-bbcb-24feba25dcc6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":2254130,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"25c69c01-8dfa-406f-bbcb-24feba25dcc6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":566333,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":65404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:59.942 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":182711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":163609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":411423,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":125708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":465927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":94805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":519430,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"db1e010a-96f8-453e-b63c-9c27d6273157","description":"","id":"db1e010a-96f8-453e-b63c-9c27d6273157","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":67704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":33902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":15401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'db1e010a-96f8-453e-b63c-9c27d6273157'","result":{"duration":15801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":14501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":19101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":535652273,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'db1e010a-96f8-453e-b63c-9c27d6273157'","result":{"duration":1235472,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1342677,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1251072,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1207670,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":795946,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":820247,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":665839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":632336,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":650138,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":69604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":99006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:00.490 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestandbodemgebruik2015\\\/wms?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1374079,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":84004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:00.491 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":958555,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":78205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:00.492 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":347621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:00.493 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1070762,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":80204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:00.494 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":804446,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:00.495 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d3dd6d2-2d2b-4b5f-9e30-86e19ed77a56#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":786346,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"db1e010a-96f8-453e-b63c-9c27d6273157\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":574733,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"db1e010a-96f8-453e-b63c-9c27d6273157\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":401223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":85505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:59.981 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":43103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":151509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":133108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":414624,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":130907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":470327,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":99106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":269715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"35359958-c40a-486f-9cf5-567a94de905e","description":"","id":"35359958-c40a-486f-9cf5-567a94de905e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":66404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":36603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":49403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '35359958-c40a-486f-9cf5-567a94de905e'","result":{"duration":17401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":15401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":15301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":537417975,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '35359958-c40a-486f-9cf5-567a94de905e'","result":{"duration":765245,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":782345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":755344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":802446,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":788945,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":760144,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":627037,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":637236,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":650838,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":70604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":84705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:00.528 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestuurlijkegrenzen\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1182968,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":78305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:00.529 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":959756,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":78105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:00.530 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":350520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:00.530 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1156166,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":78805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:00.532 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":811447,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:00.532 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe24c2a7-b121-4177-887a-fa16d943729b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":779145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"35359958-c40a-486f-9cf5-567a94de905e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":486328,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"35359958-c40a-486f-9cf5-567a94de905e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1882508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:00.095 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":340819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":408123,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":52703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c6fa88ab-e440-414b-a773-793c4ce6d8df","description":"","id":"c6fa88ab-e440-414b-a773-793c4ce6d8df","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c6fa88ab-e440-414b-a773-793c4ce6d8df'","result":{"duration":67204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":525938114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c6fa88ab-e440-414b-a773-793c4ce6d8df'","result":{"duration":1060361,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":880851,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":785045,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":766444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1329877,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":852349,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":649938,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":640536,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":665339,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":74904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":107407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:00.631 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestuurlijkegrenzen\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":706141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":153909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:00.632 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":676039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":131308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:00.632 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":103106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:00.633 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":802546,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":131808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:00.634 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":95105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:00.634 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe24c2a7-b121-4177-887a-fa16d943729b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":799246,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c6fa88ab-e440-414b-a773-793c4ce6d8df\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":722142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c6fa88ab-e440-414b-a773-793c4ce6d8df\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":402724,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:00.443 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":63004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":405124,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":67404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":527431,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":40403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":565533,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa","description":"","id":"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":27601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":61003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa'","result":{"duration":87305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":576964254,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa'","result":{"duration":1963413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":753443,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":633636,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":603735,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":786045,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":658638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":39902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":559432,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":551932,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":555432,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":211812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":142808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:01.030 [print] https:\/\/service.pdok.nl\/kadaster\/lc\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":567932,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":171310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:01.031 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":586933,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":172510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:01.032 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":84505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:01.032 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":675339,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":150808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:01.033 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":82905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:01.033 [print] https:\/\/ngr.acceptatie.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1689d1b7-ef22-417a-becd-d8d9a8a90a10#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":660438,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":641937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":388622,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:00.499 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":52703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":326519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":47703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":407124,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":50902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"62dc32f1-853c-416a-876b-6e083554f1b6","description":"","id":"62dc32f1-853c-416a-876b-6e083554f1b6","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '62dc32f1-853c-416a-876b-6e083554f1b6'","result":{"duration":64604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":16301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":557646141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '62dc32f1-853c-416a-876b-6e083554f1b6'","result":{"duration":1026659,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":808847,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":706841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":730542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":772245,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":752844,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":595435,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":589034,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":605135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":83705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":86605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:01.065 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegenetmaal\/v1\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":600135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":127108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:01.066 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":604235,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":117907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:01.067 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":49002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:01.067 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":724542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":77704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:01.068 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":88005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:01.068 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c3c004ad-5387-4b00-a225-9afbcaa5d31b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":725341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"62dc32f1-853c-416a-876b-6e083554f1b6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":601735,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"62dc32f1-853c-416a-876b-6e083554f1b6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":391322,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:00.538 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":44703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":311318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":424624,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":183411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a","description":"","id":"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a'","result":{"duration":62804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":538996666,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a'","result":{"duration":788445,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":808947,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":737442,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":733642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":772144,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":848449,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":629336,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":627936,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":623736,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":74604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":895251,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:01.087 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholetmaal\/v2\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":696740,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":79305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:01.087 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":956755,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":78704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:01.089 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":335619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":63403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:01.089 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1019659,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":77804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:01.090 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":354720,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:01.090 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=83dab947-387b-49df-8ad2-32bb10d46d38#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1333277,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":525031,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":369221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:00.638 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":313718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":404223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":51403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e264c1e4-90fe-4968-bbf2-7019f6095348","description":"","id":"e264c1e4-90fe-4968-bbf2-7019f6095348","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":85705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e264c1e4-90fe-4968-bbf2-7019f6095348'","result":{"duration":85405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":542693479,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e264c1e4-90fe-4968-bbf2-7019f6095348'","result":{"duration":1418781,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1242172,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1129165,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1121565,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":824947,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":739143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":584834,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":581433,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":596834,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":79705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":86505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:01.191 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegenetmaal\/v1\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":764744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":232413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:01.192 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":722742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":113706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:01.193 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":129707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":62703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:01.193 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":851749,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":81304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:01.194 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":68304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:01.194 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c3c004ad-5387-4b00-a225-9afbcaa5d31b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":923753,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e264c1e4-90fe-4968-bbf2-7019f6095348\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":659738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e264c1e4-90fe-4968-bbf2-7019f6095348\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":430525,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:01.036 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":332619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":410824,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":120807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a1ed8a00-da07-472e-9627-99175d437c94","description":"","id":"a1ed8a00-da07-472e-9627-99175d437c94","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a1ed8a00-da07-472e-9627-99175d437c94'","result":{"duration":94206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":551666796,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a1ed8a00-da07-472e-9627-99175d437c94'","result":{"duration":1594492,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1339477,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":824047,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":727642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":959055,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":822847,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":100006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":659838,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":739942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":2115922,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":1044060,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1138166,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:01.602 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholetmaal\/v2\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":790446,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":590934,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:01.603 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":756343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":569933,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:01.605 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":117707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":487328,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:01.605 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":760044,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":505129,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:01.607 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":785945,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:01.608 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=83dab947-387b-49df-8ad2-32bb10d46d38#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":762844,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a1ed8a00-da07-472e-9627-99175d437c94\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":473127,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a1ed8a00-da07-472e-9627-99175d437c94\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":393522,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":34602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:01.072 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":327719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":405024,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":91006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c474b492-da63-4a33-9bdd-b3709ce2cd6c","description":"","id":"c474b492-da63-4a33-9bdd-b3709ce2cd6c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c474b492-da63-4a33-9bdd-b3709ce2cd6c'","result":{"duration":63704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":553329691,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c474b492-da63-4a33-9bdd-b3709ce2cd6c'","result":{"duration":839549,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":737142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":691440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":648337,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":787945,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":854749,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":101906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":603534,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":659238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":730642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":699240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":728842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:01.635 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholnacht\/v2\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":707141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":513629,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:01.636 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":723642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":494128,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:01.637 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":107606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":456826,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:01.638 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":801046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":640937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:01.640 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":712041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:01.640 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=58d39928-f502-48c9-a8c1-03244dc181bf#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":734042,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c474b492-da63-4a33-9bdd-b3709ce2cd6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":439725,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c474b492-da63-4a33-9bdd-b3709ce2cd6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":341920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":28502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:01.095 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":42902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":995757,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":49303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":400623,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":50303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7827b68f-647e-46cc-a02a-cac48eaa5dda","description":"","id":"7827b68f-647e-46cc-a02a-cac48eaa5dda","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7827b68f-647e-46cc-a02a-cac48eaa5dda'","result":{"duration":185510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":573960781,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7827b68f-647e-46cc-a02a-cac48eaa5dda'","result":{"duration":836648,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":694540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":695440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":749043,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":937354,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":863049,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":91005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":598335,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":632937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":671138,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":695240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":765744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:01.680 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholnacht\/v2\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":599235,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":476627,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:01.681 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":687940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":501829,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:01.682 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":109106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":494728,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:01.683 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":809147,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":503629,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:01.684 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":749143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:01.685 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=58d39928-f502-48c9-a8c1-03244dc181bf#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":798446,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7827b68f-647e-46cc-a02a-cac48eaa5dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":457427,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7827b68f-647e-46cc-a02a-cac48eaa5dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":353621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:01.198 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":62303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":19274211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":256015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":493128,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":109506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":124707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2b9da196-422e-4b0e-a5ba-ba41ade308e9","description":"","id":"2b9da196-422e-4b0e-a5ba-ba41ade308e9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":51403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":30802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":16301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":14801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2b9da196-422e-4b0e-a5ba-ba41ade308e9'","result":{"duration":14301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":14701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":14501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":563175259,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2b9da196-422e-4b0e-a5ba-ba41ade308e9'","result":{"duration":3119380,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2114922,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":2066019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":2005515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2296033,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":2152524,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":118707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1433683,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1379279,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1493986,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":307918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":891851,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:01.802 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingtypen\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1476185,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":1838006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:01.805 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1659996,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":614236,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:01.807 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":125307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":817747,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:01.808 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":2047118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":552532,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:01.811 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":815447,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:01.812 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=977e0e94-7aa9-4784-b2da-eaec44adb61b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2068119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2b9da196-422e-4b0e-a5ba-ba41ade308e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":482528,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2b9da196-422e-4b0e-a5ba-ba41ade308e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":350621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":63604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:01.612 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":142508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":132808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":365221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":131608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":437125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":101806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":519130,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"6a129fd1-0988-4b8a-975a-6ff134b6754a","description":"","id":"6a129fd1-0988-4b8a-975a-6ff134b6754a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":70505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":33902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":16600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":15001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '6a129fd1-0988-4b8a-975a-6ff134b6754a'","result":{"duration":15301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":14601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":14601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":547242941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6a129fd1-0988-4b8a-975a-6ff134b6754a'","result":{"duration":1210870,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":969956,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":889852,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":853949,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1063361,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":945455,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":39202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":739543,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":743943,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":733142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":95106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":97406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:02.171 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegennacht\/v1\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1677197,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":92706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:02.173 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":954755,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":76705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:02.174 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":367321,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:02.174 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":988757,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":100506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:02.175 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":817847,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:02.176 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=002d9127-c16d-4b8d-9f5e-102a8c8e36c4#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":718741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"6a129fd1-0988-4b8a-975a-6ff134b6754a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":692840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"6a129fd1-0988-4b8a-975a-6ff134b6754a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":548932,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":65404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:01.645 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":43103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":131407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":131007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":321019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":136208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":494528,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":93305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":513130,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"42f5363b-cea7-4163-a4e9-bc2d1a7a243c","description":"","id":"42f5363b-cea7-4163-a4e9-bc2d1a7a243c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":94006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":33202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":16001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '42f5363b-cea7-4163-a4e9-bc2d1a7a243c'","result":{"duration":16801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":546813816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '42f5363b-cea7-4163-a4e9-bc2d1a7a243c'","result":{"duration":705340,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":753644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":711341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":659738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":696440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":706241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":624236,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":565733,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":592735,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":72105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":59203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:02.200 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegennacht\/v1\/wfs?service=WFS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":915053,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":77704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:02.202 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":715141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":72404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:02.202 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":28601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":312018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:02.203 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":752243,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":76504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:02.204 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":186710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:02.204 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=002d9127-c16d-4b8d-9f5e-102a8c8e36c4#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":826748,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"42f5363b-cea7-4163-a4e9-bc2d1a7a243c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":481627,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"42f5363b-cea7-4163-a4e9-bc2d1a7a243c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":407824,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":76604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:01.689 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":125607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":118607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":310418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":127307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":434925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":91805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":486628,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ce963e61-779f-470f-a99d-48d9796e5ba3","description":"","id":"ce963e61-779f-470f-a99d-48d9796e5ba3","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":63304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":29402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":13801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":14001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ce963e61-779f-470f-a99d-48d9796e5ba3'","result":{"duration":12701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":537817198,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ce963e61-779f-470f-a99d-48d9796e5ba3'","result":{"duration":650837,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":707941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":705240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":615336,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":640937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":729542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":603435,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":605435,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":619936,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":67604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":57403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:02.236 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/gn\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":762544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":247915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:02.237 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":598734,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":69704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:02.237 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":97406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":223513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:02.238 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":738243,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":77605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:02.239 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":143409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:02.239 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=1a40eb6f-4f33-4e15-a0b1-2d350ad2636e#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":756643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ce963e61-779f-470f-a99d-48d9796e5ba3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":419524,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ce963e61-779f-470f-a99d-48d9796e5ba3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":363821,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":70104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:01.819 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":43703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":145009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":139708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":343320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":508630,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":441425,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9c4862c3-0bab-49c3-bc2f-ac5486826766","description":"","id":"9c4862c3-0bab-49c3-bc2f-ac5486826766","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":22401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9c4862c3-0bab-49c3-bc2f-ac5486826766'","result":{"duration":57503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":581047590,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9c4862c3-0bab-49c3-bc2f-ac5486826766'","result":{"duration":3712914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":3272289,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":2967871,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":3166383,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":3256588,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":2986472,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1771402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1750001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":2137223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":360320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":109806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:02.428 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsoorten\\\/v2\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":2274231,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":91105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:02.431 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":2148624,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":107107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:02.433 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":30202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:02.433 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":3482000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":82805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:02.437 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":36202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:02.437 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=28c4780a-1a44-4376-b283-14a50a481729#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":3414397,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9c4862c3-0bab-49c3-bc2f-ac5486826766\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":554432,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9c4862c3-0bab-49c3-bc2f-ac5486826766\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":405024,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:02.180 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":43703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":67104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":316718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":377021,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":47603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9c5351c8-d8f4-41c2-9642-42a63496a6fe","description":"","id":"9c5351c8-d8f4-41c2-9642-42a63496a6fe","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9c5351c8-d8f4-41c2-9642-42a63496a6fe'","result":{"duration":373321,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":564295324,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9c5351c8-d8f4-41c2-9642-42a63496a6fe'","result":{"duration":1923511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2170425,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":2016116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":2060819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1966513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1914510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":23203537,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":5968744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1850907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":416824,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":169810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:02.790 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebiedtypen\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1525488,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":3574606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:02.796 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":5109794,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":217712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:02.801 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":215413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":146109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:02.801 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":7154512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":3107479,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:02.812 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":162109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:02.812 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=03671a9e-6aaf-464d-be99-9aad25cef9e3 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2054518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9c5351c8-d8f4-41c2-9642-42a63496a6fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":429825,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9c5351c8-d8f4-41c2-9642-42a63496a6fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":346420,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:02.208 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":40702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":46303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":334819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":530531,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":37902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":65604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1ce74355-763a-481d-b9d7-aaafbf0d7d53","description":"","id":"1ce74355-763a-481d-b9d7-aaafbf0d7d53","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1ce74355-763a-481d-b9d7-aaafbf0d7d53'","result":{"duration":188211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":576234812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1ce74355-763a-481d-b9d7-aaafbf0d7d53'","result":{"duration":1183268,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2634552,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":3352794,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1404881,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":10849425,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1474185,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":98305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":928354,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":915652,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1155867,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":10727518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":2787060,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:02.823 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsoorten\\\/v2\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1142466,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":212112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:02.825 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1189968,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":3099079,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:02.829 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":117106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":188011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:02.829 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1381280,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":845548,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:02.832 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":192011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:02.832 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=28c4780a-1a44-4376-b283-14a50a481729#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1371379,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1ce74355-763a-481d-b9d7-aaafbf0d7d53\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":425525,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1ce74355-763a-481d-b9d7-aaafbf0d7d53\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":351021,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:02.242 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":43103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":323619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":407823,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":55303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"74620aa8-4fa2-414d-8350-50d93e500da8","description":"","id":"74620aa8-4fa2-414d-8350-50d93e500da8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":104606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '74620aa8-4fa2-414d-8350-50d93e500da8'","result":{"duration":63103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":538006209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '74620aa8-4fa2-414d-8350-50d93e500da8'","result":{"duration":809847,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":802846,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":735342,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":708641,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":932253,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":889952,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":108506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":5299005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":666538,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":750043,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":155809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":158509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:02.794 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rwsgeluidskaarten\\\/wfs?service=WFS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":609535,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":159610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:02.795 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":8434686,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":7508933,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:02.811 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":127007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":229913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:02.812 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":806046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":138008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:02.813 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":98505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:02.813 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=50eef6be-619d-4e16-9b92-48971109b636\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=8de2f5eb-b09f-4f6d-8397-8878a1b86238\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf8\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf36\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf9\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf38\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":727842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"74620aa8-4fa2-414d-8350-50d93e500da8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":535331,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"74620aa8-4fa2-414d-8350-50d93e500da8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":458627,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:02.443 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":53604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":329719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":433525,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":77604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5be14ec9-9bb3-4395-a061-e7e78d04a527","description":"","id":"5be14ec9-9bb3-4395-a061-e7e78d04a527","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5be14ec9-9bb3-4395-a061-e7e78d04a527'","result":{"duration":68604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":538941863,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5be14ec9-9bb3-4395-a061-e7e78d04a527'","result":{"duration":1486985,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":922253,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":660438,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":3094478,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":931154,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":931254,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":110907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":625736,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":727242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":710041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":412624,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":301117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:02.995 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/bu\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":672139,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":335320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:02.996 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":725242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":302318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:02.997 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":114006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":223813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:02.997 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":771345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":276516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:02.998 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":230514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:02.999 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b4ae622c-6201-49d8-bd2e-f7fce9206a1e#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":798946,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5be14ec9-9bb3-4395-a061-e7e78d04a527\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":479328,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5be14ec9-9bb3-4395-a061-e7e78d04a527\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":371221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":61704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:02.826 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":127707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":114307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":328319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":120207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":424124,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":89105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":148009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a9a8e1cf-3f4e-4067-9842-ea2a6f2d2ed9","description":"","id":"a9a8e1cf-3f4e-4067-9842-ea2a6f2d2ed9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":55304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":28002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":19501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":14601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a9a8e1cf-3f4e-4067-9842-ea2a6f2d2ed9'","result":{"duration":14401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":596250465,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a9a8e1cf-3f4e-4067-9842-ea2a6f2d2ed9'","result":{"duration":1014258,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":939254,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":826448,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":796046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":844649,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":808146,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":39102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":687039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":708340,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":635036,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":149609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":734843,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:03.433 [print] https:\/\/service.pdok.nl\/kadaster\/lu\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":584633,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":134408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:03.434 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":881350,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":115407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:03.435 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":320718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":93605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:03.435 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":920953,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":117707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:03.436 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":859049,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:03.437 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=17716ed7-ce0d-4bfd-8868-a398e5578a88#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":630937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a9a8e1cf-3f4e-4067-9842-ea2a6f2d2ed9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":569233,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a9a8e1cf-3f4e-4067-9842-ea2a6f2d2ed9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":394523,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":63304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:02.821 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":126008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":120407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":387322,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":120507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":497329,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":99306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":116107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7e87a655-c4eb-404d-9d0a-efa2dccef7cc","description":"","id":"7e87a655-c4eb-404d-9d0a-efa2dccef7cc","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":55804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":28802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":14601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7e87a655-c4eb-404d-9d0a-efa2dccef7cc'","result":{"duration":14801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":14201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":551990315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7e87a655-c4eb-404d-9d0a-efa2dccef7cc'","result":{"duration":1475785,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1250272,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1200069,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1154867,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1418482,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":997157,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":112507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":697541,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":622435,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":622936,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":86005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":87305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:03.385 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/gn\/wfs?&request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1511888,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":520830,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:03.387 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":663739,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":448526,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:03.388 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":40802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":408123,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:03.389 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":779145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":469527,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:03.390 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":689439,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:03.391 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=1a40eb6f-4f33-4e15-a0b1-2d350ad2636e#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":777345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7e87a655-c4eb-404d-9d0a-efa2dccef7cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":600335,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7e87a655-c4eb-404d-9d0a-efa2dccef7cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":709741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":63104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:02.836 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":115407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":117006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":342020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":418324,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":468927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":110106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":153409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"4f4c7848-1767-4c67-be08-87d45d07f313","description":"","id":"4f4c7848-1767-4c67-be08-87d45d07f313","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":58403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":33402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":18401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":15701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '4f4c7848-1767-4c67-be08-87d45d07f313'","result":{"duration":16201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":18201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":15401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":645958831,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4f4c7848-1767-4c67-be08-87d45d07f313'","result":{"duration":2364136,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":3219386,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":3147181,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":3159482,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":3218085,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":3215085,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1972614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1994715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":2167024,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":405024,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":219913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:03.510 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebieden\\\/v2\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":2780860,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":122807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:03.513 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":2885666,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":84105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:03.516 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":351221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":67004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:03.516 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":3929626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":80505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:03.520 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":798846,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:03.521 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f273941e-9c3b-43bc-b886-2d50d0bf9348#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":3207885,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"4f4c7848-1767-4c67-be08-87d45d07f313\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":599634,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"4f4c7848-1767-4c67-be08-87d45d07f313\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":385422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":76305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:03.007 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":45103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":135607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":126007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":484328,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":142108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":971055,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":118307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":283616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"82541a1f-2e4e-459f-ab2f-e97cac3ad040","description":"","id":"82541a1f-2e4e-459f-ab2f-e97cac3ad040","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":67404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":33502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":53003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":14601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '82541a1f-2e4e-459f-ab2f-e97cac3ad040'","result":{"duration":14700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":18401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":565720406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '82541a1f-2e4e-459f-ab2f-e97cac3ad040'","result":{"duration":2088120,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2436340,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":2331435,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":2273631,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2388638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":2321334,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1517188,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1513287,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1634694,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":313418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":111806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:03.595 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebiedtypen\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1723499,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":93905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:03.597 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1705398,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":102106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:03.599 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":27702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:03.599 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":2588749,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":79905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:03.602 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":25702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:03.602 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=03671a9e-6aaf-464d-be99-9aad25cef9e3 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2548047,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"82541a1f-2e4e-459f-ab2f-e97cac3ad040\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":591234,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"82541a1f-2e4e-459f-ab2f-e97cac3ad040\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":392923,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:03.395 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":52003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":331619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":407623,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":51903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1fa220c2-5f2e-4943-a57e-c291cc35084b","description":"","id":"1fa220c2-5f2e-4943-a57e-c291cc35084b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1fa220c2-5f2e-4943-a57e-c291cc35084b'","result":{"duration":57304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":11701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":557835351,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1fa220c2-5f2e-4943-a57e-c291cc35084b'","result":{"duration":2172025,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2810662,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":2767659,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":2709256,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":36112582,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":3000873,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":107606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1796603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1915611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":2043417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":474228,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":957155,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:04.012 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebieden\\\/v2\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1723800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":618036,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:04.014 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":12010492,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":978556,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:04.027 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":122007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":477927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:04.028 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":5371410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":550131,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:04.034 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":802046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:04.035 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=f273941e-9c3b-43bc-b886-2d50d0bf9348#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2745159,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1fa220c2-5f2e-4943-a57e-c291cc35084b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":401624,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1fa220c2-5f2e-4943-a57e-c291cc35084b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":347220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:03.441 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":322118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":420924,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":88805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b0119753-5625-4500-9df3-13823ff9868f","description":"","id":"b0119753-5625-4500-9df3-13823ff9868f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":339220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b0119753-5625-4500-9df3-13823ff9868f'","result":{"duration":61303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":551678897,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b0119753-5625-4500-9df3-13823ff9868f'","result":{"duration":1568990,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1964313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":6174456,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":2073420,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2075819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":2263031,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":104306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1518888,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1362478,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1675297,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":322218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":182310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:04.016 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingtypen\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1370979,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":196711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:04.018 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1524588,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":306418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:04.019 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":207012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":142308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:04.020 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":2200727,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":209512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:04.022 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":282817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:04.023 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=977e0e94-7aa9-4784-b2da-eaec44adb61b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2135223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b0119753-5625-4500-9df3-13823ff9868f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":480928,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b0119753-5625-4500-9df3-13823ff9868f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":355721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:03.528 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":450025,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":410624,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":50203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8","description":"","id":"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":324919,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8'","result":{"duration":77705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":542862288,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8'","result":{"duration":1141166,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":865450,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":793946,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":775545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":806047,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":962456,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":100506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":685240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":838048,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":854649,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":152709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":224013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:04.081 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nwbwegen\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1235371,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":176610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:04.083 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1094463,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":163009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:04.084 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":439425,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":120807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:04.085 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1082262,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":153608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:04.086 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":913853,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:04.087 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a9b7026e-0a81-4813-93bd-ba49e6f28502#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":809746,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":474528,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":373322,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:03.612 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":53703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":338820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":416124,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":450726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1bd24d1e-aa13-4395-809e-893570f7c651","description":"","id":"1bd24d1e-aa13-4395-809e-893570f7c651","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1bd24d1e-aa13-4395-809e-893570f7c651'","result":{"duration":680539,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":540042626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1bd24d1e-aa13-4395-809e-893570f7c651'","result":{"duration":1303775,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":839048,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":694940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":683039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":777645,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":922553,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":105106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":645337,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":726142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":730542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":165309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1021659,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:04.163 [print] https:\/\/geodata.nationaalgeoregister.nl\/overheidsdiensten\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":695440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":179310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:04.164 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1055961,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":159809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:04.165 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":410823,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":121107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:04.166 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1083562,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":183310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:04.167 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":454826,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:04.168 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=c935f2ab-9b65-4dc4-94a0-73aeb840a941#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":795146,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1bd24d1e-aa13-4395-809e-893570f7c651\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":486828,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1bd24d1e-aa13-4395-809e-893570f7c651\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":360921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":61804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:04.028 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":128608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":119407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":424224,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":149109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":454027,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":89405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":148108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"171b28f6-7ee7-46f9-b3b3-06d0baaa33db","description":"","id":"171b28f6-7ee7-46f9-b3b3-06d0baaa33db","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":151209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":33902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '171b28f6-7ee7-46f9-b3b3-06d0baaa33db'","result":{"duration":12301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":545536043,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '171b28f6-7ee7-46f9-b3b3-06d0baaa33db'","result":{"duration":1343177,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1259373,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1133266,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1074462,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1172468,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":907753,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":567732,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":602835,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":596935,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":66604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":112306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:04.586 [print] https:\\\/\\\/service.pdok.nl\\\/cbs\\\/pd\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":675639,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":117007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:04.586 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":613835,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":108106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:04.587 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":179510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:04.587 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":810047,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":79604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:04.588 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":73104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:04.588 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76541ebb-a554-4540-a017-399d4bb4a860#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":903552,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"171b28f6-7ee7-46f9-b3b3-06d0baaa33db\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":565732,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"171b28f6-7ee7-46f9-b3b3-06d0baaa33db\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":360821,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":59204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:04.041 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":50502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":116007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":109507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":390323,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":120507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":457226,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":87605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":110206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1c9b43c3-064d-40c3-aa7c-879b7376ef6f","description":"","id":"1c9b43c3-064d-40c3-aa7c-879b7376ef6f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":370921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":54603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":18601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1c9b43c3-064d-40c3-aa7c-879b7376ef6f'","result":{"duration":14000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":574110290,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1c9b43c3-064d-40c3-aa7c-879b7376ef6f'","result":{"duration":939854,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1051961,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":983957,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1014759,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1034160,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":845849,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":662738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":622636,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":624936,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":75004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":95505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:04.626 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/wko\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1252872,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":85805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:04.627 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":988057,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":79405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:04.628 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":541131,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:04.629 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":808146,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":75704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:04.630 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":762544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:04.631 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dc5b522e-3e14-4738-9e8e-2401e1b19ef2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":773444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1c9b43c3-064d-40c3-aa7c-879b7376ef6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":522730,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1c9b43c3-064d-40c3-aa7c-879b7376ef6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":369621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":60903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:04.091 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":127007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":117407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":396423,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":117407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":457227,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":89006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":113507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"008d85d1-460d-46f6-9af4-98afdedbc4dc","description":"","id":"008d85d1-460d-46f6-9af4-98afdedbc4dc","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":44003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":28502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":26102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '008d85d1-460d-46f6-9af4-98afdedbc4dc'","result":{"duration":47803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":17301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":546653807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '008d85d1-460d-46f6-9af4-98afdedbc4dc'","result":{"duration":635136,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":657938,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":585134,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":592434,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":721942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":677939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":550232,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":496628,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":458926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":212812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":103606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:04.646 [print] https:\/\/service.pdok.nl\/cbs\/pd\/wfs\/v1_0?service=WFS&request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":518330,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":118107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:04.647 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":528131,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":66304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:04.648 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":206912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":210512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:04.648 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":690040,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":75304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:04.649 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":214712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:04.649 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76541ebb-a554-4540-a017-399d4bb4a860#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":640637,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"008d85d1-460d-46f6-9af4-98afdedbc4dc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":396923,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"008d85d1-460d-46f6-9af4-98afdedbc4dc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":6475573,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":58804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:04.172 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":58403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":138908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":115907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":412423,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":130208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":463827,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":92005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":116506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b87a0095-2ad7-4dbb-81a1-fed060df79e1","description":"","id":"b87a0095-2ad7-4dbb-81a1-fed060df79e1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":45103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":28102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b87a0095-2ad7-4dbb-81a1-fed060df79e1'","result":{"duration":392922,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":19801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":529478917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b87a0095-2ad7-4dbb-81a1-fed060df79e1'","result":{"duration":952255,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":890151,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":855749,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":812547,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":881751,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":850649,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":49703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":728842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":751943,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":726842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":215912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1125065,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:04.714 [print] https:\/\/geodata.nationaalgeoregister.nl\/nationaleparken\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":680239,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":118607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:04.715 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":879050,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":109406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:04.716 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":306618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":107206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:04.716 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":664638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":119707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:04.717 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":388423,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:04.718 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4961d305-fbb5-426a-9ba3-53e1ca5f3b18#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1253172,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b87a0095-2ad7-4dbb-81a1-fed060df79e1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":672938,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b87a0095-2ad7-4dbb-81a1-fed060df79e1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":425625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:04.592 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":43503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":44303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":301118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":34102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":387622,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":48603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"598c4109-21d2-4a6c-b083-9975a6736849","description":"","id":"598c4109-21d2-4a6c-b083-9975a6736849","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":10601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '598c4109-21d2-4a6c-b083-9975a6736849'","result":{"duration":154709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":548144593,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '598c4109-21d2-4a6c-b083-9975a6736849'","result":{"duration":1069162,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":896752,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":809146,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":707641,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":812147,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":761344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":616635,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":584534,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":609235,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":105006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":817147,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:05.150 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nwbvaarwegen\\\/wms?request=getCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":665539,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":476428,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:05.151 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":686539,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":461127,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:05.152 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":40103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":423525,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:05.153 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":788546,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":442425,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:05.154 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":701640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:05.155 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=00d8c7c8-98ff-4b06-8f53-b44216e6e75c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":703241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736849\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":574033,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736849\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":358221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:04.634 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":324018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":53103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":434425,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":52503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e","description":"","id":"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":42302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":19701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '578f993f-4d0b-4c4a-a08b-dfa9e1d1376e'","result":{"duration":54603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":542008439,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '578f993f-4d0b-4c4a-a08b-dfa9e1d1376e'","result":{"duration":864249,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":764344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":704541,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":693440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":794145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":3407997,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":109706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":624336,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":750343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":718141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":134508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":620535,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:05.189 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nhi\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":655038,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":373822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:05.190 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":695440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":409124,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:05.191 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":105206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":312218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:05.192 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":756444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":371621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:05.193 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":326218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:05.193 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=710c381c-ab2d-45d5-a45d-af2eba811e5f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":735343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":428624,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":347020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:04.663 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":50003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":54803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":312318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":427925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":54203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"54d2021b-e778-4834-a3c6-75c89d36b942","description":"","id":"54d2021b-e778-4834-a3c6-75c89d36b942","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '54d2021b-e778-4834-a3c6-75c89d36b942'","result":{"duration":374521,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":539823414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '54d2021b-e778-4834-a3c6-75c89d36b942'","result":{"duration":852749,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":778145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":749643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":704241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":768244,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":843848,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":93906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":622736,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":738243,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":674839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":393122,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":372721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:05.213 [print] https:\/\/geodata.nationaalgeoregister.nl\/tiles\/service\/wmts?request=GetCapabilities&service=wmts \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":608835,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":393323,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:05.214 [print] OGC:WMTS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":714141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":355220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:05.215 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":92605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":311418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:05.215 [print] OGC:WMTS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":700941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":372421,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:05.216 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":330019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:05.217 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2ae3e9b7-aa79-41d4-a35b-c9a0fee69e5c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":743843,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"54d2021b-e778-4834-a3c6-75c89d36b942\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":445926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"54d2021b-e778-4834-a3c6-75c89d36b942\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":336019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:04.722 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":64304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":52603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":308818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":432225,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":531931,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"62c0d0a5-5826-406d-a625-d84bc5fec800","description":"","id":"62c0d0a5-5826-406d-a625-d84bc5fec800","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":22601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '62c0d0a5-5826-406d-a625-d84bc5fec800'","result":{"duration":56604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":534735620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '62c0d0a5-5826-406d-a625-d84bc5fec800'","result":{"duration":1585291,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1513087,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1164167,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1174268,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":841048,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":943655,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":103406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":701441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":755943,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":776445,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":147408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":507429,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:05.269 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/noordzeevaarwegmarkeringenrd\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":687640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":390523,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:05.271 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":889751,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":546531,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:05.272 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":268916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":486029,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:05.273 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":953855,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":533831,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:05.274 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":795746,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:05.275 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=be1b1514-8d1f-48e1-9624-fee9b784138b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":766145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"62c0d0a5-5826-406d-a625-d84bc5fec800\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":443726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"62c0d0a5-5826-406d-a625-d84bc5fec800\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":321018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":66904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:05.176 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":44403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":135507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":127107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":6405169,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":154609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":462226,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":94705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":553832,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"8abcd2d1-3beb-43e5-a572-2b2da05a0a98","description":"","id":"8abcd2d1-3beb-43e5-a572-2b2da05a0a98","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":63803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":29202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":12501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '8abcd2d1-3beb-43e5-a572-2b2da05a0a98'","result":{"duration":12100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":11900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":539516196,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8abcd2d1-3beb-43e5-a572-2b2da05a0a98'","result":{"duration":1504487,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1445283,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1262473,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":740443,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":841248,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1126665,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":115206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":643537,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":719942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":746643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":193011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":211312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:05.734 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nhi\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":664038,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":234814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:05.735 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":738242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":147008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:05.736 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":87105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":135707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:05.736 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":783145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":149709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:05.737 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":140408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:05.737 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=710c381c-ab2d-45d5-a45d-af2eba811e5f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":780945,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"8abcd2d1-3beb-43e5-a572-2b2da05a0a98\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":442625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"8abcd2d1-3beb-43e5-a572-2b2da05a0a98\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":328319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":60903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:05.198 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":128407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":132208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":409924,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":120107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":489028,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":96506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":337220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9c80458b-12c6-4d38-8f6d-387ab6e4ed21","description":"","id":"9c80458b-12c6-4d38-8f6d-387ab6e4ed21","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":60304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":29602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9c80458b-12c6-4d38-8f6d-387ab6e4ed21'","result":{"duration":13701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":580534159,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9c80458b-12c6-4d38-8f6d-387ab6e4ed21'","result":{"duration":862749,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":745143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":732542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":750043,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":778645,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":758744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":606835,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":611135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":547932,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":258615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":262815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:05.788 [print] https:\/\/geodata.nationaalgeoregister.nl\/natura2000\/wms?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":590034,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":251015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:05.789 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":636036,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":245314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:05.789 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":37502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":230513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:05.790 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":688339,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":191411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:05.791 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":181611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:05.791 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8829e5dd-c861-4639-a6c8-fdbb6e3440d2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":726941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9c80458b-12c6-4d38-8f6d-387ab6e4ed21\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":571633,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9c80458b-12c6-4d38-8f6d-387ab6e4ed21\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":359621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":60903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:05.221 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":125807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":118006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":396223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":120107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":462227,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":87105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":354021,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"918388cf-9d8c-4264-b108-3e375bde0d52","description":"","id":"918388cf-9d8c-4264-b108-3e375bde0d52","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":61004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":29102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":18401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":26402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '918388cf-9d8c-4264-b108-3e375bde0d52'","result":{"duration":13801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":573523455,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '918388cf-9d8c-4264-b108-3e375bde0d52'","result":{"duration":693840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":700540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":773045,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":735043,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":772944,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":710141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":45302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":617436,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":604735,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":686240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":63604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":991157,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:05.805 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/noordzeevaarwegmarkeringenrd\\\/wms?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":647037,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":1317376,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:05.807 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":708241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":216612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:05.807 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":38102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":118507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:05.808 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":771845,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":207612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:05.809 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":206712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:05.809 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=be1b1514-8d1f-48e1-9624-fee9b784138b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":770645,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"918388cf-9d8c-4264-b108-3e375bde0d52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":399423,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"918388cf-9d8c-4264-b108-3e375bde0d52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":325618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":61903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:05.280 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":43102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":135808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":122007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":415424,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":119107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":520330,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":99006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":12847341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"76854ff3-a853-4405-b9fd-acef66460376","description":"","id":"76854ff3-a853-4405-b9fd-acef66460376","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":123607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":38002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":14201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '76854ff3-a853-4405-b9fd-acef66460376'","result":{"duration":13901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":629689793,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '76854ff3-a853-4405-b9fd-acef66460376'","result":{"duration":7626240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":9606954,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":8398084,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":7734746,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":8171971,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":8590795,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":5906041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":5464414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":6755990,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":811147,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":195211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:05.994 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsgebiedsoorten\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":6664884,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":169410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:06.001 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":6582379,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":1612493,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:06.009 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":45202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":431925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:06.010 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":8668500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":486128,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:06.019 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":740142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:06.020 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=cbeaebc3-815a-48af-a978-0e16892865fc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":8888013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"76854ff3-a853-4405-b9fd-acef66460376\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":606035,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"76854ff3-a853-4405-b9fd-acef66460376\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":380422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:05.741 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":311117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":379522,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":25502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":64604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"684ff4f6-1652-45a8-93f0-8e16d37b2a66","description":"","id":"684ff4f6-1652-45a8-93f0-8e16d37b2a66","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '684ff4f6-1652-45a8-93f0-8e16d37b2a66'","result":{"duration":44703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":536272009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '684ff4f6-1652-45a8-93f0-8e16d37b2a66'","result":{"duration":1227471,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":715741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":705541,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":683939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":783145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":871250,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":97806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":581234,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1033359,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":704241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":733142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":789845,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:06.288 [print] https:\/\/geodata.nationaalgeoregister.nl\/hwh\/eenheden\/wms\/v1_0?SERVICE=WMS&VERSION=1.3.0&REQUEST=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":634137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":533531,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:06.289 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":739043,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":499828,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:06.290 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":163310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":477528,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:06.291 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":680340,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":571433,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:06.292 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":5927142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:06.298 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d4ec7e6-50ae-4c71-bd20-5b9211e2135f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":766344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"684ff4f6-1652-45a8-93f0-8e16d37b2a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":473427,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"684ff4f6-1652-45a8-93f0-8e16d37b2a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":353020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:05.795 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":44003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":8901013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":414124,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":1158367,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"8e7686c3-f75e-411f-866e-6985267b916b","description":"","id":"8e7686c3-f75e-411f-866e-6985267b916b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":22101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '8e7686c3-f75e-411f-866e-6985267b916b'","result":{"duration":64804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":609106307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8e7686c3-f75e-411f-866e-6985267b916b'","result":{"duration":3374394,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":5401912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":5182598,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":5345208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":5577722,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":6442771,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":124407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":3363294,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":3381795,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":4187741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":946355,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1011059,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:06.459 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsgebiedsoorten\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":3571806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":206612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:06.463 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":3902825,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":252615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:06.467 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":128508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":218913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:06.468 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":5744131,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":214912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:06.474 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":159609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:06.474 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=cbeaebc3-815a-48af-a978-0e16892865fc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":5895039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"8e7686c3-f75e-411f-866e-6985267b916b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":489029,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"8e7686c3-f75e-411f-866e-6985267b916b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":418725,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:05.812 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":43203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":44403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":269916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":35602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":387323,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":195712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f","description":"","id":"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f'","result":{"duration":49803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":567165189,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f'","result":{"duration":1399481,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1158367,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1003458,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1049960,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1057361,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1227771,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":108106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":768644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":878551,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":896051,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":174010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":177810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:06.391 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ra\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1139166,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":235214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:06.393 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1017359,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":159310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:06.394 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":200312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":147408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:06.394 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1127365,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":153208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:06.396 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":305218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:06.396 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3a7dd0a6-d130-4c4c-b0ba-24365cf036e2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1006558,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":615236,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":359020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:06.032 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":53703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":362221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":478428,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":499229,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ce4ac3b9-8291-498d-95de-79fe7b6f5259","description":"","id":"ce4ac3b9-8291-498d-95de-79fe7b6f5259","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ce4ac3b9-8291-498d-95de-79fe7b6f5259'","result":{"duration":62503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":538203521,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ce4ac3b9-8291-498d-95de-79fe7b6f5259'","result":{"duration":1235171,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":973557,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":802946,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":737342,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":850449,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":993157,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":101906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":668238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":748843,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":657438,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":128308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":167410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:06.581 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ro\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":841448,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":149408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:06.582 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":750744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":134908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:06.583 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":166209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":96005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:06.583 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":957855,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":152209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:06.584 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":255115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:06.584 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=8f45b8ef-0ce8-463a-9059-5efdcecb785c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":881351,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ce4ac3b9-8291-498d-95de-79fe7b6f5259\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":437526,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ce4ac3b9-8291-498d-95de-79fe7b6f5259\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":317819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":62304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:06.303 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":139608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":2211428,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":429025,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":121707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":440025,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":100406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":527431,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3d759186-7cee-4218-aa44-165f3922fbbb","description":"","id":"3d759186-7cee-4218-aa44-165f3922fbbb","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":66804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":40202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3d759186-7cee-4218-aa44-165f3922fbbb'","result":{"duration":12801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":527260390,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3d759186-7cee-4218-aa44-165f3922fbbb'","result":{"duration":1464684,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1260973,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":2190226,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1266773,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1253372,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1439983,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":52203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1069062,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":3108680,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":633136,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":743843,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":646137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:06.850 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/tn-w\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":639137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":691540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:06.852 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":646437,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":541331,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:06.853 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":43402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":398623,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:06.853 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1898809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":327919,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:06.856 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":199012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:06.856 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=5951efa2-1ff3-4763-a966-a2f5497679ee#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":702641,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3d759186-7cee-4218-aa44-165f3922fbbb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":536731,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3d759186-7cee-4218-aa44-165f3922fbbb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":357721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":56603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:06.400 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":126307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":169109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":416324,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":116407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":465827,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":88405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":108507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ec73f245-66ce-4144-ac27-5966c80a4b3a","description":"","id":"ec73f245-66ce-4144-ac27-5966c80a4b3a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":45003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":26302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":13901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":12800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ec73f245-66ce-4144-ac27-5966c80a4b3a'","result":{"duration":12901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":532962919,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ec73f245-66ce-4144-ac27-5966c80a4b3a'","result":{"duration":1640795,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1314776,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":856250,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":807947,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1157367,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":913752,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":704940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":677839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":691540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":79605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":469827,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:06.945 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-w\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":2289232,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":312318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:06.948 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":900152,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":310118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:06.949 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":40202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":234913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:06.950 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":776745,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":260715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:06.951 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":176910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:06.951 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5951efa2-1ff3-4763-a966-a2f5497679ee#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":819147,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ec73f245-66ce-4144-ac27-5966c80a4b3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":526930,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ec73f245-66ce-4144-ac27-5966c80a4b3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":340620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":79904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:06.484 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":123907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":143908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":441125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":118307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":453726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":87305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":164909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"627b50bf-2e33-4beb-a314-ff8c0fe8912e","description":"","id":"627b50bf-2e33-4beb-a314-ff8c0fe8912e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":51803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":28002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":13300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":12601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '627b50bf-2e33-4beb-a314-ff8c0fe8912e'","result":{"duration":12901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":550440727,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '627b50bf-2e33-4beb-a314-ff8c0fe8912e'","result":{"duration":19414619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1050260,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":687640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":686839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":799246,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":832248,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":100106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":650038,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":746043,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":719541,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":182111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":183211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:07.063 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-w\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":4356351,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":263216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:07.068 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":862949,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":217513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:07.069 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":105606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":166309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:07.069 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":765444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":195911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:07.071 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":187111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:07.071 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":763544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"627b50bf-2e33-4beb-a314-ff8c0fe8912e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":437326,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"627b50bf-2e33-4beb-a314-ff8c0fe8912e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":330419,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":54803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:06.588 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":120707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":108707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":395723,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":114806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":444926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":81605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":102306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a84f9836-9111-4e45-a311-3dab39019e15","description":"","id":"a84f9836-9111-4e45-a311-3dab39019e15","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":38002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":25901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":12501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":12100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a84f9836-9111-4e45-a311-3dab39019e15'","result":{"duration":11500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":19802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":538594244,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a84f9836-9111-4e45-a311-3dab39019e15'","result":{"duration":1533088,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":999958,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":858250,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":841648,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":868650,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1094663,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":95306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":688240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":764944,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":783245,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":148109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":165610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:07.138 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-w\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":850849,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":185411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:07.139 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":871250,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":155309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:07.140 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":201711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":121807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:07.141 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":945654,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":151809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:07.142 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":346120,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:07.142 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1613493,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a84f9836-9111-4e45-a311-3dab39019e15\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":447826,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a84f9836-9111-4e45-a311-3dab39019e15\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":336219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:06.860 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":344219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":420824,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":269516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79","description":"","id":"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79'","result":{"duration":60803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":535382559,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79'","result":{"duration":6372367,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1835306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1273074,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1049161,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1169167,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1228571,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":101406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":750343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":953555,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":958155,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":202212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":276416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:07.414 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ro\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":833448,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":315918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:07.415 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1090863,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":312118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:07.416 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":96806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":252815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:07.417 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":961655,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":293317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:07.418 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":267916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:07.418 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=8f45b8ef-0ce8-463a-9059-5efdcecb785c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1348277,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":462927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":334719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:06.955 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":1364179,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":58304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":373522,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":243814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"4fb15e0d-d88f-40f1-b407-3d3edcf7e184","description":"","id":"4fb15e0d-d88f-40f1-b407-3d3edcf7e184","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '4fb15e0d-d88f-40f1-b407-3d3edcf7e184'","result":{"duration":50303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":544284371,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4fb15e0d-d88f-40f1-b407-3d3edcf7e184'","result":{"duration":1578191,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1360778,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1188968,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1202569,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1037160,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":923753,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":106606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":674939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":728942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":749643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":142008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1073161,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:07.513 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-ro\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":669239,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":636536,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:07.514 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":748143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":550532,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:07.515 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":135408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":478128,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:07.516 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":735442,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":722242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:07.518 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":822848,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:07.518 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-cb527d-f6db-4835-b0cd-deb245241254#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":795645,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"4fb15e0d-d88f-40f1-b407-3d3edcf7e184\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":464927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"4fb15e0d-d88f-40f1-b407-3d3edcf7e184\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":334219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":56904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:07.075 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":89905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":137408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":114206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":497029,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":131007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":502729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":93205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":108906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b4ae5b2c-f557-4a30-bbf2-c2681a544f32","description":"","id":"b4ae5b2c-f557-4a30-bbf2-c2681a544f32","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":42102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":132907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":21801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b4ae5b2c-f557-4a30-bbf2-c2681a544f32'","result":{"duration":12100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":531935860,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b4ae5b2c-f557-4a30-bbf2-c2681a544f32'","result":{"duration":1039960,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":904553,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":833849,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":751944,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":807046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":869450,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":625836,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":587334,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":632837,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":653937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":653438,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:07.618 [print] https:\/\/geodata.nationaalgeoregister.nl\/vin\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":692940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":524230,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:07.619 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":660638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":464926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:07.620 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":38602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":620836,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:07.621 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":782445,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":460627,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:07.622 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":701240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:07.623 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=831f7bd7-c2ae-4336-bd2f-47ab20d7cdb7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":733042,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b4ae5b2c-f557-4a30-bbf2-c2681a544f32\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":594134,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b4ae5b2c-f557-4a30-bbf2-c2681a544f32\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":370121,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":57303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:07.147 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":43503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":125107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":113606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":415424,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":116507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":467527,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":89505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":186710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c0a8e0ee-8639-44d4-be07-d7edf9c276c7","description":"","id":"c0a8e0ee-8639-44d4-be07-d7edf9c276c7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":169310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":27302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":19001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":12701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c0a8e0ee-8639-44d4-be07-d7edf9c276c7'","result":{"duration":11901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":11200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":537974207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c0a8e0ee-8639-44d4-be07-d7edf9c276c7'","result":{"duration":991457,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":782045,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":676039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":632336,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":804946,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":778645,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":900752,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":5866638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":630436,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":72204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":106806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:07.700 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":656138,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":107706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:07.701 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":603735,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":69304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:07.702 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":28202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":31702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:07.702 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":691340,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":68804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:07.702 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":27702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:07.702 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=14657c9b-91e4-4355-8563-2911ad0e78e4#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":812347,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c0a8e0ee-8639-44d4-be07-d7edf9c276c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":805746,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c0a8e0ee-8639-44d4-be07-d7edf9c276c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":450526,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":53503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:07.423 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":154809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":133708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":387222,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":151009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":444226,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":83505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":171010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"37e05521-c323-4dbe-aba4-de1178ba44a5","description":"","id":"37e05521-c323-4dbe-aba4-de1178ba44a5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":144408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":25302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '37e05521-c323-4dbe-aba4-de1178ba44a5'","result":{"duration":11201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":17801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":660690081,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '37e05521-c323-4dbe-aba4-de1178ba44a5'","result":{"duration":4665169,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":16433448,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":6592280,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":6371268,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":5771033,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":6296063,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":93205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":3775317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":3830521,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":4227444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":656537,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":414724,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:08.147 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsoorten\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":4022731,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":421925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:08.151 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":3875423,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":384622,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:08.156 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":85005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":280716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:08.156 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":6213558,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":371521,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:08.163 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":333819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:08.163 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=fcefa13c-44e2-4953-b6d6-1ddceebc57fc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":6561378,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"37e05521-c323-4dbe-aba4-de1178ba44a5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":469327,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"37e05521-c323-4dbe-aba4-de1178ba44a5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":336119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":62104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:07.530 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":46403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":130207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":118307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":627237,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":129908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":453026,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":84805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":556332,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"018a28a5-1019-4747-b031-f66ffc1c6ae7","description":"","id":"018a28a5-1019-4747-b031-f66ffc1c6ae7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":63103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":31202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":13401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":12801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '018a28a5-1019-4747-b031-f66ffc1c6ae7'","result":{"duration":12600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":552604951,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '018a28a5-1019-4747-b031-f66ffc1c6ae7'","result":{"duration":1220870,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":904752,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":827648,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":828048,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":784446,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":868050,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":89705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":605035,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":763644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1814304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":161809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":215512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:08.096 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-ro\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":686540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":143809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:08.097 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":707941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":153709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:08.098 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":63204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":63204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:08.098 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":776644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":1234271,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:08.099 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":214712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:08.101 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-cb527d-f6db-4835-b0cd-deb245241254#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1474885,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"018a28a5-1019-4747-b031-f66ffc1c6ae7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":422224,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"018a28a5-1019-4747-b031-f66ffc1c6ae7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":311418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:07.627 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":63303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":103206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":324919,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":393123,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":457826,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e69bb2e9-eff4-4fb3-86a6-057cf628e761","description":"","id":"e69bb2e9-eff4-4fb3-86a6-057cf628e761","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":22301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e69bb2e9-eff4-4fb3-86a6-057cf628e761'","result":{"duration":56803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":595284811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e69bb2e9-eff4-4fb3-86a6-057cf628e761'","result":{"duration":3851822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":5382410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":5413012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":5544620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":5505717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":5678328,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":132807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":3707414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":3585306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":3446398,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":653538,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":475027,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:08.268 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsoorten\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":13711191,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":1238771,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:08.283 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":3501002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":3299591,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:08.290 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":68904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":4717271,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:08.295 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":4915483,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":8164171,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:08.308 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":1644295,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:08.310 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=fcefa13c-44e2-4953-b6d6-1ddceebc57fc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":26636035,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e69bb2e9-eff4-4fb3-86a6-057cf628e761\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":542031,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e69bb2e9-eff4-4fb3-86a6-057cf628e761\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":353621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:07.715 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":109606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":54103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":607735,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":396923,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":50503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"97a7d966-7261-49d4-bc08-c4900981f092","description":"","id":"97a7d966-7261-49d4-bc08-c4900981f092","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '97a7d966-7261-49d4-bc08-c4900981f092'","result":{"duration":205512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":555034991,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '97a7d966-7261-49d4-bc08-c4900981f092'","result":{"duration":773145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":790446,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":3471700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":734042,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":798746,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":954355,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":91605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":8293878,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":758644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":712041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":112307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1102564,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:08.291 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-a\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":642337,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":461227,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:08.292 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":754743,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":527531,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:08.294 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":94506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":488228,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:08.294 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":6347066,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":163509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:08.301 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":73504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:08.301 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=31de946d-85d4-4c93-bb97-e25f4ef1401a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":617735,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"97a7d966-7261-49d4-bc08-c4900981f092\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":374121,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"97a7d966-7261-49d4-bc08-c4900981f092\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":295717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":45803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:08.105 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":106906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":93105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":340320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":93505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":392422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":91105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":118907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"65f9628b-0a58-4348-8fff-c2d02788acdb","description":"","id":"65f9628b-0a58-4348-8fff-c2d02788acdb","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":294617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":34202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":1089263,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '65f9628b-0a58-4348-8fff-c2d02788acdb'","result":{"duration":80204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":27701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":528103839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '65f9628b-0a58-4348-8fff-c2d02788acdb'","result":{"duration":1316976,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1198970,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1050160,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1031560,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1112464,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1388380,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":130707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":659938,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":756543,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":755644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":173810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":345420,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:08.647 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ra\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1241972,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":255514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:08.649 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":771444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":151509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:08.650 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":459427,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":115306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:08.651 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1205270,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":146809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:08.652 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":442926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:08.652 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=3a7dd0a6-d130-4c4c-b0ba-24365cf036e2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1402781,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"65f9628b-0a58-4348-8fff-c2d02788acdb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1743700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"65f9628b-0a58-4348-8fff-c2d02788acdb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":352620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":54003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:08.173 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":132907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":111506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":404023,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":111707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":500029,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":99406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":231313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d69fee4a-e3ff-47d4-919d-e55276a3fad9","description":"","id":"d69fee4a-e3ff-47d4-919d-e55276a3fad9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":55303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":36402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":13401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd69fee4a-e3ff-47d4-919d-e55276a3fad9'","result":{"duration":10301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":529217703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd69fee4a-e3ff-47d4-919d-e55276a3fad9'","result":{"duration":1112465,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":881251,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":798846,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":768445,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":835149,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":950154,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":94706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":651438,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":781045,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":741543,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":137408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1524488,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:08.714 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-a\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":703240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":2521046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:08.717 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":785945,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":1178968,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:08.719 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":112906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":508329,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:08.720 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":831448,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":522030,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:08.721 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":789546,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:08.722 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=31de946d-85d4-4c93-bb97-e25f4ef1401a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":770344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d69fee4a-e3ff-47d4-919d-e55276a3fad9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":491228,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d69fee4a-e3ff-47d4-919d-e55276a3fad9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":324319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":46503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:08.306 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":128607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":103206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":383422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":106606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":447826,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":85305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":627536,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5bb85b77-fffd-449b-bd61-f076fe07cc4b","description":"","id":"5bb85b77-fffd-449b-bd61-f076fe07cc4b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":52903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":22501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5bb85b77-fffd-449b-bd61-f076fe07cc4b'","result":{"duration":10200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":538597143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5bb85b77-fffd-449b-bd61-f076fe07cc4b'","result":{"duration":1108964,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":861850,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1302575,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":673939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":825247,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":856349,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":155309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":601835,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":674439,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":637636,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":390023,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":301718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:08.856 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/tn-c\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":637836,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":304718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:08.857 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":648437,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":268815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:08.857 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":90905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":201711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:08.858 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":671239,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":291917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:08.859 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":215112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:08.859 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=6c06740d-058f-4a12-bb3f-bf68efd03d09#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":724542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5bb85b77-fffd-449b-bd61-f076fe07cc4b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":459526,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5bb85b77-fffd-449b-bd61-f076fe07cc4b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":324419,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":52003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:08.340 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":115107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":103006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":494728,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":104406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":806646,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":98006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":561733,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e75b66ae-21b1-4303-aeb3-787608707b23","description":"","id":"e75b66ae-21b1-4303-aeb3-787608707b23","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":58004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":26502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e75b66ae-21b1-4303-aeb3-787608707b23'","result":{"duration":10701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":10201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":523255960,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e75b66ae-21b1-4303-aeb3-787608707b23'","result":{"duration":748443,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":760244,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":765745,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":770444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":729742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":2346035,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":79905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":653138,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":709641,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":682339,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":1263473,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":336919,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:08.877 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/elu\/wfs?request=GetCapabilitiesservice=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":660938,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":276216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:08.878 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":716241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":238114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:08.879 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":105506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":202312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:08.879 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":821448,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":278917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:08.880 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":194711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:08.880 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=6318009c-7b11-4ab9-9929-735584dfb692#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":763544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e75b66ae-21b1-4303-aeb3-787608707b23\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":409024,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e75b66ae-21b1-4303-aeb3-787608707b23\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":317818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":57003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:08.669 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":46303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":128808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":112307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":461927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":126907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":1659495,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":102806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":580433,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"66805d91-a5f6-4265-bd36-ef13a429c97e","description":"","id":"66805d91-a5f6-4265-bd36-ef13a429c97e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":57804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":28702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":12101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":11101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '66805d91-a5f6-4265-bd36-ef13a429c97e'","result":{"duration":11201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":11000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":531128813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '66805d91-a5f6-4265-bd36-ef13a429c97e'","result":{"duration":1328076,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1165067,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1014459,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":984757,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2415040,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1094963,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":60903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":898251,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":913553,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":895752,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":232114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1590891,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:09.218 [print] https:\/\/geodata.nationaalgeoregister.nl\/bzk\/bro-bodemkaart\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1024259,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":145309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:09.219 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1506287,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":118907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:09.221 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":49203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":118607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:09.221 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1059461,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":116007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:09.222 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":109107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:09.222 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ed960299-a147-4c1a-bc57-41ff83a2264f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":12350512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"66805d91-a5f6-4265-bd36-ef13a429c97e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":571433,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"66805d91-a5f6-4265-bd36-ef13a429c97e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":390223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":58904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:08.732 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":48603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":129607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":112706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":439125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":121507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":499328,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":88305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":347820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e27e61d8-25b1-45ee-a2df-071312ba8a69","description":"","id":"e27e61d8-25b1-45ee-a2df-071312ba8a69","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":51403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":28102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":11201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e27e61d8-25b1-45ee-a2df-071312ba8a69'","result":{"duration":10801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":554509061,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e27e61d8-25b1-45ee-a2df-071312ba8a69'","result":{"duration":1396080,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1304975,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1058061,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":560332,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":687840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":801146,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":91705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":554532,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":672238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":700741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":169009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":132208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:09.297 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnwateractueel\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1652796,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":277916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:09.299 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1095863,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":217912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:09.301 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":122307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":137107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:09.301 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1225170,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":208012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:09.302 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":213213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:09.303 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=622a632a-c57b-44a2-83a4-e51223d5f15g#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2e31680f-68b5-4ff3-94a4-9c24109ffd5e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw-f7bb2351-9788-42ea-a58b-a5ee1842304e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw-782cab20-8328-45f1-a9b2-c27d07c14066#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1036860,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e27e61d8-25b1-45ee-a2df-071312ba8a69\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":539931,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e27e61d8-25b1-45ee-a2df-071312ba8a69\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":366121,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":47203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:08.863 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":1148666,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":6453672,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":386822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":112307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":459627,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":81204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":2792561,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"94f241c2-43a2-42c3-8e9e-71976605aa0e","description":"","id":"94f241c2-43a2-42c3-8e9e-71976605aa0e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":40403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":27602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":11000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '94f241c2-43a2-42c3-8e9e-71976605aa0e'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":15101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":18501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":564796353,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '94f241c2-43a2-42c3-8e9e-71976605aa0e'","result":{"duration":2475143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2469342,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1604192,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1540389,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1589692,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1725599,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":110206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1062061,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1153667,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1264073,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":215613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":252515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:09.456 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/top10nlv2\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1153666,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":195111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:09.457 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1204870,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":172710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:09.459 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":88105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":113706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:09.459 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1691598,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":185511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:09.461 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":182410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:09.461 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=29d5310f-dd0d-45ba-abad-b4ffc6b8785f#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=af0c582f-9e6b-46e6-865a-fc3a2d5289b9#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=81ff84ec-42a4-4481-840b-12713bbb5d38#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=3eebf700-5abf-42e4-826c-03cfb497e366#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=4b282988-cb91-4bbc-b147-f653014917cb#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=9d9f1738-aced-47c9-aaa0-c62474a2dcfb#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1553990,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"94f241c2-43a2-42c3-8e9e-71976605aa0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":513630,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"94f241c2-43a2-42c3-8e9e-71976605aa0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":461726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:08.884 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":43503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":351820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":414724,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":188411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb","description":"","id":"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '037e55bd-a1dc-4fde-adfe-4610d3a3d5cb'","result":{"duration":42502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":571811558,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '037e55bd-a1dc-4fde-adfe-4610d3a3d5cb'","result":{"duration":754944,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":822547,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":662638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":6094852,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":723741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":2550747,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":86805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":597134,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":667839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":658238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":164309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":147708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:09.472 [print] https:\/\/service.pdok.nl\/cbs\/pd\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":620336,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":355920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:09.473 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":648337,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":161509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:09.474 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":76305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":116807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:09.474 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":634937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":166709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:09.475 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":104706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:09.475 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76541ebb-a554-4540-a017-399d4bb4a860#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":644337,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":335419,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":282116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":53103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:09.240 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":146509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":106606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":395223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":110806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":459526,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":81204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":100906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d7a395a2-8673-4794-a5a6-fed6492cd580","description":"","id":"d7a395a2-8673-4794-a5a6-fed6492cd580","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":33902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":23001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd7a395a2-8673-4794-a5a6-fed6492cd580'","result":{"duration":10300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":346720,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":21502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":534509308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd7a395a2-8673-4794-a5a6-fed6492cd580'","result":{"duration":1605292,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":905852,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":770644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":918253,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":837348,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":963756,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":118707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":658338,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":747843,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":647338,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":140308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":629636,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:09.787 [print] https:\\\/\\\/service.pdok.nl\\\/hwh\\\/luchtfotocir\\\/wms\\\/v1_0?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":620036,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":523631,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:09.788 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":646038,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":513830,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:09.789 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":95105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":451926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:09.790 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":765644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":452826,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:09.791 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":1430182,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:09.792 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1be28290-55fa-4486-b9d3-b9d147117863#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=7c24ea89-074e-4c4f-91e3-d38e813e9cb6#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=7f5d7945-8fa8-4d36-be4c-2fdb3c7d613b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9ed6b8ed-254a-4745-a09a-3b57137d1b69#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=4cfb1469-a152-4ba6-8fe9-4b627acd7ee0#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":697740,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d7a395a2-8673-4794-a5a6-fed6492cd580\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":446226,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d7a395a2-8673-4794-a5a6-fed6492cd580\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":399923,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":70804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:09.307 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":121007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":98905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":373622,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":105606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":453326,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":116107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":102906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b023459a-9f0e-4d53-8059-a794119abbed","description":"","id":"b023459a-9f0e-4d53-8059-a794119abbed","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":33902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":23001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b023459a-9f0e-4d53-8059-a794119abbed'","result":{"duration":11101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":10601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":540776170,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b023459a-9f0e-4d53-8059-a794119abbed'","result":{"duration":874850,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":847849,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":686940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":718242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":728642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":695640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":553432,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":684940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":616935,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":645538,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":593634,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:09.858 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-cdda\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":583834,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":445425,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:09.859 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":625036,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":417824,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:09.860 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":37102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":317519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:09.860 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":565433,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":335620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:09.861 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":622336,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:09.862 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3387ef8a-9237-453a-aa4e-585d1e193550#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":680739,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b023459a-9f0e-4d53-8059-a794119abbed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":543931,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b023459a-9f0e-4d53-8059-a794119abbed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":363021,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":49103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:09.466 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":117007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":100706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":388422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":132708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":484728,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":76304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":134808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ef2a7962-8bb4-483f-ac78-851b619f357f","description":"","id":"ef2a7962-8bb4-483f-ac78-851b619f357f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":42203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":23001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ef2a7962-8bb4-483f-ac78-851b619f357f'","result":{"duration":10301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":581241001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ef2a7962-8bb4-483f-ac78-851b619f357f'","result":{"duration":796045,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":731842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":751244,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":713441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":777045,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":838548,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":96906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":614435,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":726942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":736242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":187211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":539831,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:10.057 [print] https:\/\/services.rce.geovoorziening.nl\/www\/download\/nl.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":753343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":231913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:10.064 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1036260,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":186011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:10.065 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":388123,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":136608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:10.065 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1060461,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":195711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:10.067 [print] Rijksdienst voor het Cultureel Erfgoed \n","line":56}},{"name":"print operateson","result":{"duration":513630,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:10.067 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=6f84efeb-fc1d-4565-a721-80735ea57dbd#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=4e2ef670-cddd-11dd-ad8b-0800200c9a66#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=88a3c1ae-902e-4efa-8663-ddd836101929#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1893809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ef2a7962-8bb4-483f-ac78-851b619f357f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":493728,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ef2a7962-8bb4-483f-ac78-851b619f357f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":347920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":47403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:09.478 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":103006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":94105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":384222,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":101006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":437825,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":77304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":148009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"42da491e-d8b9-47ba-af65-acb15ea8a055","description":"","id":"42da491e-d8b9-47ba-af65-acb15ea8a055","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":44103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":23101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '42da491e-d8b9-47ba-af65-acb15ea8a055'","result":{"duration":11301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":10401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":529818338,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '42da491e-d8b9-47ba-af65-acb15ea8a055'","result":{"duration":1586891,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1002658,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":747644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":13436175,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":866650,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":928953,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":100306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":649137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":653938,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":830248,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":783645,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":735742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:10.033 [print] https:\/\/www.broinspireservices.nl\/wms\/osamepl-a-v1.0?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":624136,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":536431,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:10.034 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":684139,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":523530,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:10.035 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":101606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":474628,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:10.036 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":726641,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":494129,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:10.037 [print]  \n","line":56}},{"name":"print operateson","result":{"duration":755844,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:10.038 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=24de356e-ec4d-4a18-9903-6401d222b77c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":719741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"42da491e-d8b9-47ba-af65-acb15ea8a055\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":437125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"42da491e-d8b9-47ba-af65-acb15ea8a055\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":391823,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:09.796 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":41502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":46502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":286216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":35002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":377722,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":26502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":367721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f20e948e-9e22-4b5a-96a1-f3cc1d16b808","description":"","id":"f20e948e-9e22-4b5a-96a1-f3cc1d16b808","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f20e948e-9e22-4b5a-96a1-f3cc1d16b808'","result":{"duration":37202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":538085814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f20e948e-9e22-4b5a-96a1-f3cc1d16b808'","result":{"duration":1127465,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":959155,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":828648,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1047560,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1069062,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":952555,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":92006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":667738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":732142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1124265,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":746043,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":887651,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:10.346 [print] https:\/\/geodata.nationaalgeoregister.nl\/ahn1\/wcs?request=GetCapabilities&service=wcs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":656238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":518630,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:10.347 [print] OGC:WCS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":715141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":501729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:10.349 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":99406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":451726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:10.349 [print] OGC:WCS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":800646,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":497929,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:10.351 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":928654,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:10.352 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5a1adb58-0bbe-425d-b0fe-577a6c0a4228#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":779345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f20e948e-9e22-4b5a-96a1-f3cc1d16b808\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":442525,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f20e948e-9e22-4b5a-96a1-f3cc1d16b808\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":324019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:09.866 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":327819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":403523,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":426024,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a301ddc7-c26f-42d8-b367-509ae5ae47d0","description":"","id":"a301ddc7-c26f-42d8-b367-509ae5ae47d0","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":30602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a301ddc7-c26f-42d8-b367-509ae5ae47d0'","result":{"duration":39803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":534801625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a301ddc7-c26f-42d8-b367-509ae5ae47d0'","result":{"duration":1155967,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":938954,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":868750,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":734442,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":780245,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":906352,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":103906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":607735,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":706041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":779745,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":146609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":148609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:10.410 [print] https:\\\/\\\/service.pdok.nl\\\/hwh\\\/luchtfotorgb\\\/wms\\\/v1_0?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1129365,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":547632,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:10.412 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":683739,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":133708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:10.413 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":374721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":98606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:10.413 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1195669,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":141008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:10.415 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":473727,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:10.415 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=74aca3eb-c38b-4214-9537-e0abc69e11b5#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=5b274449-b6c2-4672-a32f-e0bd40975a53#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=df15af6e-0d21-4437-a69f-802be3479bba#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=64ff8561-5c56-4cc1-ae0e-94366fb70b7e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=4e2bb25e-a5a9-43a7-986a-40e7aea32e38#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2455642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a301ddc7-c26f-42d8-b367-509ae5ae47d0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":482628,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a301ddc7-c26f-42d8-b367-509ae5ae47d0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":361721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":69404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:10.042 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":122307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":130307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":422724,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":124507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":459026,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":106306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":106906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2650d49b-7d9a-49b5-b748-a0372cd9b5cf","description":"","id":"2650d49b-7d9a-49b5-b748-a0372cd9b5cf","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":34402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":346520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":35502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2650d49b-7d9a-49b5-b748-a0372cd9b5cf'","result":{"duration":43203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":10101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":543418322,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2650d49b-7d9a-49b5-b748-a0372cd9b5cf'","result":{"duration":1555089,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1418582,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":989957,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":774444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":800746,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":757544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":633637,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":601735,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":599534,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":77004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":182210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:10.597 [print] http:\\\/\\\/geodata.nationaalgeoregister.nl\\\/wsdiensteninspire\\\/wms?request=getcapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1554390,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":153009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:10.599 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1036060,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":80804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:10.600 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":338419,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":62304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:10.600 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":779645,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":78204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:10.601 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":126107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:10.601 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=bffcd5d9-02b4-4e7d-991f-a386611cad84#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":747143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2650d49b-7d9a-49b5-b748-a0372cd9b5cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":622236,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2650d49b-7d9a-49b5-b748-a0372cd9b5cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":444325,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":78005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:10.072 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":44703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":137308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":102406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":407124,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":117406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":454226,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":78605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":142809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"542b330b-d3c6-4617-b97f-693e5cfd1872","description":"","id":"542b330b-d3c6-4617-b97f-693e5cfd1872","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":368622,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":44603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":12801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '542b330b-d3c6-4617-b97f-693e5cfd1872'","result":{"duration":10701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":532289981,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '542b330b-d3c6-4617-b97f-693e5cfd1872'","result":{"duration":1491386,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":742443,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":696840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":691840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":698140,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":709141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":610135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":589134,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":581534,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":606035,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":585534,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:10.616 [print] https:\/\/www.broinspireservices.nl\/wfs\/osamepl-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":621736,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":447625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:10.617 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":624936,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":5336508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:10.623 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":43902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":486528,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:10.623 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":12149400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":279516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:10.636 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":3469800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:10.639 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=24de356e-ec4d-4a18-9903-6401d222b77c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":846149,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"542b330b-d3c6-4617-b97f-693e5cfd1872\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":517330,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"542b330b-d3c6-4617-b97f-693e5cfd1872\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":358121,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":48902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:10.356 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":109606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":96805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":390622,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":115207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":587634,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":90205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":485628,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"68d14b1c-71ad-4ce7-8267-45787a80c2d4","description":"","id":"68d14b1c-71ad-4ce7-8267-45787a80c2d4","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":53304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":25302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '68d14b1c-71ad-4ce7-8267-45787a80c2d4'","result":{"duration":11001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":10701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":562595127,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68d14b1c-71ad-4ce7-8267-45787a80c2d4'","result":{"duration":1206469,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1070061,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":844249,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":774445,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":842549,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1001957,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":101106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":656438,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":750943,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":801146,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":158109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":297718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:10.930 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/ad\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":835648,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":394323,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:10.931 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":763944,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":331119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:10.932 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":98406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":282116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:10.933 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":826348,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":320418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:10.934 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":297617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:10.934 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a5f961e9-ebdd-41e2-b8e8-ab33ed340a83#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":813247,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"68d14b1c-71ad-4ce7-8267-45787a80c2d4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":439226,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"68d14b1c-71ad-4ce7-8267-45787a80c2d4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":291517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":45103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:10.421 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":112106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":91405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":368321,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":149608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":457326,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":76004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":520230,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"56093b94-7517-456d-a0d4-338aba3d8c74","description":"","id":"56093b94-7517-456d-a0d4-338aba3d8c74","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":51503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":25602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '56093b94-7517-456d-a0d4-338aba3d8c74'","result":{"duration":10700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":10200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":522609222,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '56093b94-7517-456d-a0d4-338aba3d8c74'","result":{"duration":864250,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":740543,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":733942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":712841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":724342,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":697741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":97406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":594234,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":637537,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":710041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":131708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":227414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:10.953 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":745743,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":134708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:10.954 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":816648,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":268616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:10.955 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":87405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":92705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:10.956 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":915953,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":134007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:10.957 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":75204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:10.957 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":904552,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"56093b94-7517-456d-a0d4-338aba3d8c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":441525,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"56093b94-7517-456d-a0d4-338aba3d8c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":338219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:10.605 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":312818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":117807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":445726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":36602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":119707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a7e4bc31-60c1-4b78-bef1-eed768ceafa0","description":"","id":"a7e4bc31-60c1-4b78-bef1-eed768ceafa0","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a7e4bc31-60c1-4b78-bef1-eed768ceafa0'","result":{"duration":46203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":520953926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a7e4bc31-60c1-4b78-bef1-eed768ceafa0'","result":{"duration":1501386,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1081962,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":897852,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":719541,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":780345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":899852,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":93605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":646737,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":809147,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":715641,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":139008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":947654,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:11.137 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/service\/atom\/id_predefined_dataset \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":635937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":149508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:11.138 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1379180,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":145809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:11.140 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":83404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":79404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:11.140 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":803046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":141108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:11.141 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":122007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:11.141 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":789145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a7e4bc31-60c1-4b78-bef1-eed768ceafa0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":426425,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a7e4bc31-60c1-4b78-bef1-eed768ceafa0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":315919,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":52303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:10.644 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":119307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":112807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":401924,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":105607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":453626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":79705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":1173868,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506","description":"","id":"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":62403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":27201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'caeb52a3-cbaa-4e9b-a23e-d4dc0335b506'","result":{"duration":10401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":10101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":531364527,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'caeb52a3-cbaa-4e9b-a23e-d4dc0335b506'","result":{"duration":978657,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":699840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":624836,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":672138,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":638137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":742543,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":107307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":598735,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":654438,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":636737,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":732443,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":738543,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:11.186 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2020\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":596934,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":521130,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:11.188 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":702741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":499829,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:11.189 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":95006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":469227,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:11.189 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":700441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":431725,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:11.191 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":830248,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:11.191 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f1859b4d-93be-4fc8-9e91-0ecc2fa0f3b3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":651237,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":429225,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":312618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":47102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:10.938 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":131307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":137008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":397723,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":107206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":514330,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":77905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":100106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a","description":"","id":"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":31601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":162709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":27501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":11601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '4074b3c3-ca85-45ad-bc0d-b5fca8540c0a'","result":{"duration":21901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":10000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":544388977,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4074b3c3-ca85-45ad-bc0d-b5fca8540c0a'","result":{"duration":1037260,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":883351,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":9121625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":770245,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":823247,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":932154,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":102206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":658138,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":726442,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":701341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":1394080,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":288217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:11.503 [print] https:\/\/geodata.nationaalgeoregister.nl\/vin\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":725042,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":236014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:11.504 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":885251,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":252214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:11.505 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":238614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":193312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:11.505 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":847949,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":257615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:11.507 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":170810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:11.507 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=831f7bd7-c2ae-4336-bd2f-47ab20d7cdb7 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":772945,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":5329508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":364221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":48903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:10.961 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":213912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":103206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":402223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":104406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":455026,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":80205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":96906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"09588464-071b-47be-8cbe-d15f2e1f9634","description":"","id":"09588464-071b-47be-8cbe-d15f2e1f9634","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":31002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":22602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":35302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '09588464-071b-47be-8cbe-d15f2e1f9634'","result":{"duration":11000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":265515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":19601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":537589686,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '09588464-071b-47be-8cbe-d15f2e1f9634'","result":{"duration":750143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":685039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":3860023,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":730842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1051361,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":803446,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":82905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":566733,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":635637,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":662438,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":309318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":175310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:11.512 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/tn-c\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1812505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":517129,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:11.514 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":673739,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":519930,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:11.515 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":100606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":3740916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:11.519 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":858849,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":827748,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:11.521 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":276216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:11.521 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=6c06740d-058f-4a12-bb3f-bf68efd03d09#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":4134939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"09588464-071b-47be-8cbe-d15f2e1f9634\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1171767,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"09588464-071b-47be-8cbe-d15f2e1f9634\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":309218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":50203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:11.145 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":117207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":97105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":419824,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":105006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":448625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":77805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":99906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"adn83730-e750-485a-9c0c-39bf9bt72cf8","description":"","id":"adn83730-e750-485a-9c0c-39bf9bt72cf8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":32002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":22801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'adn83730-e750-485a-9c0c-39bf9bt72cf8'","result":{"duration":10900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":523008345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn83730-e750-485a-9c0c-39bf9bt72cf8'","result":{"duration":1038259,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":840548,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":709341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":687739,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":766244,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":897252,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":88505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":908652,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":692340,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":712941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":267415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":251114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:11.678 [print] https:\/\/www.rijkswaterstaat.nl\/apps\/geoservices\/geodata\/dmc\/bodemhoogte_5mtr_atom_index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":622136,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":236514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:11.679 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":722542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":553532,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:11.680 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":100006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":463827,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:11.681 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":746343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":543731,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:11.682 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":722741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:11.683 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=9d973c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":765244,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"adn83730-e750-485a-9c0c-39bf9bt72cf8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":490828,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"adn83730-e750-485a-9c0c-39bf9bt72cf8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":377022,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:11.195 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":55403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":330019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":413224,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":469027,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1","description":"","id":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":23301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b1'","result":{"duration":42402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":556189858,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b1'","result":{"duration":1421682,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1146266,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":994757,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":963755,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1075162,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1091963,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":99506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":636136,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1071862,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":751443,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":738243,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":719041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:11.765 [print] https:\/\/inspire.caris.nl\/geoserver3\/rws\/wcs?service=WCS&version=2.0.1&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":701741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":583334,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:11.766 [print] OGC:WCS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":724742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":529030,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:11.767 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":101406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":437925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:11.768 [print] OGC:WCS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":737943,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":485327,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:11.769 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":786446,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:11.770 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=9d973c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":777745,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1828806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":790745,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":52003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:11.519 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":175310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":128807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":1311575,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":160109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":647237,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":91605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":5753332,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3","description":"","id":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":79005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":30901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b3'","result":{"duration":14001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":535399660,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b3'","result":{"duration":1130665,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":911252,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":778845,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":773645,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":832148,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":789645,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":623636,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":609135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":611335,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":72504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":339920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:12.072 [print] https:\/\/inspire.caris.nl\/geoserver3\/rws\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":737442,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":147108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:12.072 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":668939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":81604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:12.073 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":117007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:12.073 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":793246,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":946154,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:12.075 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":776345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:12.076 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=9d973c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":815947,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":566032,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":622636,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":45903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:11.533 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":179911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":114007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":435425,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":126407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":487728,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":77705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":4758075,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4","description":"","id":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":58004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":25502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":14801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b4'","result":{"duration":11200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":18601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":566731066,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b4'","result":{"duration":1183468,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1255572,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1190969,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1195669,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":11614970,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1573791,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":106306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":934654,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":2215127,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1023259,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":198612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":232614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:12.129 [print] https:\\\/\\\/geo.rijkswaterstaat.nl\\\/services\\\/ogc\\\/gdr\\\/bodemhoogte_5mtr\\\/ows?service=WMS&request=getcapabilities&version=1.3.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1476485,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":204412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:12.131 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1395281,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":170610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:12.133 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":408424,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":137208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:12.133 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1761802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":193712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:12.135 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":107507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:12.135 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=9d973c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1220971,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":481427,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":360121,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":47403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:11.687 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":178411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":216713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":492728,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":115406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":494729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":101006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":537831,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2","description":"","id":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":52103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":25401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":30502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":12401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b2'","result":{"duration":10601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":547907781,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b2'","result":{"duration":1498486,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1102863,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":966156,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":959255,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1035460,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":3653910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":106706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":811047,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":829248,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":875950,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":177510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":845049,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:12.251 [print] https:\\\/\\\/inspire.rasdaman.org\\\/rasdaman\\\/ows?SERVICE=WCS&VERSION=2.0.1&REQUEST=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":817047,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":646238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:12.253 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":844548,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":144008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:12.254 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":159009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":248214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:12.254 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1029259,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":135008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:12.255 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":197711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:12.256 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=9d973c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1043560,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":470227,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":339419,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":48203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:11.776 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":108806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":160709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":373621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":99806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":593434,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":91905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":100306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"bef46033-ce69-4ce4-b853-4ab65f6a424d","description":"","id":"bef46033-ce69-4ce4-b853-4ab65f6a424d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":31002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":23501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":35802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":16701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'bef46033-ce69-4ce4-b853-4ab65f6a424d'","result":{"duration":10400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":45202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":537680491,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bef46033-ce69-4ce4-b853-4ab65f6a424d'","result":{"duration":1491386,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1743000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":2027017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":719542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":793845,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":874951,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":99105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":610835,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":678939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1398481,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":141508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":304517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:12.327 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.917b5ba0-4fdd-4654-8c18-b3ccdadaa550_wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":753544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":353121,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:12.328 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":678039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":306518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:12.329 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":92105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":265715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:12.330 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":788845,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":206812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:12.331 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":278316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:12.331 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-rsa-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":729142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"bef46033-ce69-4ce4-b853-4ab65f6a424d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":432125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"bef46033-ce69-4ce4-b853-4ab65f6a424d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":318118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:12.080 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":64604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":314718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":408724,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":68904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f2443309-c655-4e64-b914-149050fd479c","description":"","id":"f2443309-c655-4e64-b914-149050fd479c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f2443309-c655-4e64-b914-149050fd479c'","result":{"duration":46703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":11101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":536366315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f2443309-c655-4e64-b914-149050fd479c'","result":{"duration":1294875,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":838448,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":699641,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":680039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":754643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":854549,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":90605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":621336,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":694040,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":672539,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":129408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":224312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:12.626 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.504afbe6-0069-411b-b69b-2aae3728f735_wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":659038,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":401623,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:12.628 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":677839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":280416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:12.629 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":94106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":201612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:12.629 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":725241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":270716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:12.630 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":190411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:12.630 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=wt-83730-e750-485a-9c0c-39bf9be72cf8#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":727642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f2443309-c655-4e64-b914-149050fd479c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":466927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f2443309-c655-4e64-b914-149050fd479c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":309918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":45902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:12.140 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":43203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":109606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":105406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":478427,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":222013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":443826,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":74904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":137808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3d8c9463-a3da-401d-8251-8c6664865e0c","description":"","id":"3d8c9463-a3da-401d-8251-8c6664865e0c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":41603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":31702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3d8c9463-a3da-401d-8251-8c6664865e0c'","result":{"duration":9500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":530091053,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3d8c9463-a3da-401d-8251-8c6664865e0c'","result":{"duration":1243872,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":702440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":672839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":625236,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":721041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":663438,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":552531,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":569133,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":575933,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":68504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":98005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:12.679 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.504afbe6-0069-411b-b69b-2aae3728f735_wfs?SERVICE=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1165667,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":83005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:12.681 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":927854,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":71504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:12.682 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":329719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":56703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:12.682 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":948554,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":73804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:12.683 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":368721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:12.684 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=wt-83730-e750-485a-9c0c-39bf9be72cf8#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1239371,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3d8c9463-a3da-401d-8251-8c6664865e0c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":470227,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3d8c9463-a3da-401d-8251-8c6664865e0c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":325119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":47303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:12.260 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":108306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":88405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":361421,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":100406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":429325,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":71504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":96906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"tbjk534p-wubf-crbp-cj25-d41611f0gfim","description":"","id":"tbjk534p-wubf-crbp-cj25-d41611f0gfim","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":102105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":31502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":12601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'tbjk534p-wubf-crbp-cj25-d41611f0gfim'","result":{"duration":10501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":539341387,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tbjk534p-wubf-crbp-cj25-d41611f0gfim'","result":{"duration":14228920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1244572,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1053661,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":2199027,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1050661,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1149566,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":92105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":801946,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":850949,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":853949,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":160209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":836148,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:12.826 [print] https:\\\/\\\/marineprojects.openearth.nl\\\/geoserver\\\/ihm_krm\\\/wfs?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":828748,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":695240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:12.828 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":859849,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":503929,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:12.829 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":107406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":519730,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:12.830 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1035159,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":543531,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:12.831 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":801446,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:12.832 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=tbjk534p-wubf-crbp-cj25-d4161160gfim#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1011258,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611f0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":453726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611f0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":315318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":46302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:12.335 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":108306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":88605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":358921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":98905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":429125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":72905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":168010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"tbjk534p-wubf-crbp-cj25-d41611m0gfim","description":"","id":"tbjk534p-wubf-crbp-cj25-d41611m0gfim","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":145209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":51403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":11400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'tbjk534p-wubf-crbp-cj25-d41611m0gfim'","result":{"duration":10800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":10000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":609020903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tbjk534p-wubf-crbp-cj25-d41611m0gfim'","result":{"duration":1523587,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1064061,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":961255,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1028559,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1034860,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":2062319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":1560090,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":804746,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":3103979,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":943455,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":170809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":225113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:12.961 [print] https:\\\/\\\/marineprojects.openearth.nl\\\/geoserver\\\/ihm_krm\\\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1382180,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":199612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:12.963 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1420682,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":178610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:12.964 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":422324,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":145108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:12.965 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1040260,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":176810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:12.967 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":497329,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:12.967 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=tbjk534p-wubf-crbp-cj25-d4161160gfim#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1008958,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611m0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":443726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611m0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":305418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":47302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:12.634 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":107906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":87705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":384322,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":102106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":445825,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":74404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":100806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c4e7ab54-da5c-46ea-a5b5-53df01873240","description":"","id":"c4e7ab54-da5c-46ea-a5b5-53df01873240","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":32502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":22201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c4e7ab54-da5c-46ea-a5b5-53df01873240'","result":{"duration":10300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":526650855,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c4e7ab54-da5c-46ea-a5b5-53df01873240'","result":{"duration":1281474,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":921353,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":902352,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":844149,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":901052,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":954055,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":102006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":679239,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":763444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":801046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":181611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":407524,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:13.172 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.c3955762-73a3-4c16-a15c-f3869487a1e3_wms?SERVICE=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":632736,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":338719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:13.173 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":678740,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":293217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:13.174 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":96406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":200912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:13.174 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":730443,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":291717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:13.175 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":331319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:13.175 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":794946,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c4e7ab54-da5c-46ea-a5b5-53df01873240\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":443025,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c4e7ab54-da5c-46ea-a5b5-53df01873240\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":309418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:12.688 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":34202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":45303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":304018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":410124,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":48503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"822d9417-a69f-4665-bc42-8c6d84e5dedb","description":"","id":"822d9417-a69f-4665-bc42-8c6d84e5dedb","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":43002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '822d9417-a69f-4665-bc42-8c6d84e5dedb'","result":{"duration":365321,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":523396668,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '822d9417-a69f-4665-bc42-8c6d84e5dedb'","result":{"duration":1194969,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1029459,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":910053,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":856449,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":926154,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1106464,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":109706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":763044,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":841149,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":779445,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":130508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":225213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:13.222 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.c3955762-73a3-4c16-a15c-f3869487a1e3_wfs?SERVICE=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1204869,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":192011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:13.224 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1019359,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":173610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:13.225 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":464926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":142808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:13.226 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1016759,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":180310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:13.227 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":491628,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:13.227 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1275273,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"822d9417-a69f-4665-bc42-8c6d84e5dedb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":406524,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"822d9417-a69f-4665-bc42-8c6d84e5dedb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":337120,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":48703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:12.837 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":43703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":110306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":93005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":375621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":99606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":496229,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":76904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":99205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"eu-ecda1-2216-4100-96dc-6bede78f9813","description":"","id":"eu-ecda1-2216-4100-96dc-6bede78f9813","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":31502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":408124,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":21902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":33902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'eu-ecda1-2216-4100-96dc-6bede78f9813'","result":{"duration":10400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":531858855,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'eu-ecda1-2216-4100-96dc-6bede78f9813'","result":{"duration":1073361,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":958955,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":746643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":713841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":797346,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":739642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":582933,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":586534,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":614535,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":80605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":112307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:13.379 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.7c48322f-f9cf-4a08-aa63-c4de080c13a1_wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1238771,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":94605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:13.380 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":10811523,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":516930,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:13.391 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":129307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":296817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:13.391 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":874450,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":193411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:13.393 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":290116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:13.393 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-9d8e-4758-83fx-28b057f185e1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":815247,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"eu-ecda1-2216-4100-96dc-6bede78f9813\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":504429,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"eu-ecda1-2216-4100-96dc-6bede78f9813\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":375522,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":48803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:12.972 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":108807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":91806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":372822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":99006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":439625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":73304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":142509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"eu-e37cb-537f-4d98-8c03-820ee2d872d6","description":"","id":"eu-e37cb-537f-4d98-8c03-820ee2d872d6","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":374322,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":32502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":39302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'eu-e37cb-537f-4d98-8c03-820ee2d872d6'","result":{"duration":13001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":525560892,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'eu-e37cb-537f-4d98-8c03-820ee2d872d6'","result":{"duration":1624693,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1253172,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1102863,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":982356,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":711341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":796746,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":111406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":620836,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1676997,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":2129922,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":206112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":363521,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:13.512 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.7c48322f-f9cf-4a08-aa63-c4de080c13a1_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":633637,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":294817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:13.513 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":667638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":312418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:13.514 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":96905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":208712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:13.515 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":809246,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":268116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:13.516 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":165810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:13.516 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-9d8e-4758-83fx-28b057f185e1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":803146,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"eu-e37cb-537f-4d98-8c03-820ee2d872d6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":456626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"eu-e37cb-537f-4d98-8c03-820ee2d872d6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":315819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":50403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:13.182 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":149509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":123507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":771944,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":151309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":449026,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":78205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":142809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"de93b602-8cbf-4cf0-9ce6-1b201e230ef1","description":"","id":"de93b602-8cbf-4cf0-9ce6-1b201e230ef1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":42103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":65504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":21601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":15101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'de93b602-8cbf-4cf0-9ce6-1b201e230ef1'","result":{"duration":10900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":528069137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'de93b602-8cbf-4cf0-9ce6-1b201e230ef1'","result":{"duration":1584291,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1486486,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1285474,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1240171,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1042460,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":906452,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":88005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":650837,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":710241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":755144,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":173910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":220913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:13.723 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.6cef2128-a227-4aa7-bc74-0e3797644d51_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":705340,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":189311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:13.724 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":676639,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":177610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:13.725 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":87305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":113806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:13.725 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":798146,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":170610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:13.726 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":116707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:13.726 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":789045,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"de93b602-8cbf-4cf0-9ce6-1b201e230ef1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":465027,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"de93b602-8cbf-4cf0-9ce6-1b201e230ef1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":328019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":46303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:13.232 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":105606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":85005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":353721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":95205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":439625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":73804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":136408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2","description":"","id":"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":368221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":38302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2'","result":{"duration":10300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":10801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":530220761,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2'","result":{"duration":1233571,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1304175,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1216970,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1089163,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":784046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":843148,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":79505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":616336,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":622436,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":635436,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":113907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":143708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:13.774 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":656538,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":133307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:13.774 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":619736,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":142508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:13.775 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":76304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":122408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:13.775 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":752244,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":134608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:13.776 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":130708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:13.776 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":749443,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":400223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":315419,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":62704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:13.398 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":106707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":88205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":372221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":91605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":680539,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":86705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":190411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2","description":"","id":"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":70004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":30901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":16401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2'","result":{"duration":9800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":530243262,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2'","result":{"duration":1262572,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":793545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":703941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":743942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":805547,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":910852,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":97806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":621735,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":703241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":689840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":125408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":149309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:13.938 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1310175,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":153009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:13.940 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":971256,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":82004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:13.941 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":343720,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":64504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:13.941 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1040660,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":77205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:13.942 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":398523,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:13.943 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1303175,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":491228,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":328919,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":47502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:13.520 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":116506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":146708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":386322,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":100406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":436225,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":71905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":102406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2","description":"","id":"68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":35402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2'","result":{"duration":10000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":532149372,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2'","result":{"duration":1279874,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1059961,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":887351,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":867250,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":961055,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1070462,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":92505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":734642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":823348,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":811947,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":135508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":172010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:14.063 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":758044,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":201312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:14.064 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":860650,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":136108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:14.065 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":81405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":124207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:14.065 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":942855,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":129008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:14.067 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":109107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:14.067 [print] #notpresent \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":935354,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":471127,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":455126,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":45603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:13.730 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":107407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":88805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":435425,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":113906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":446426,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":75005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":97106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"cf69ec50-9849-4afd-853c-ee56211d336d","description":"","id":"cf69ec50-9849-4afd-853c-ee56211d336d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":31502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":23201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'cf69ec50-9849-4afd-853c-ee56211d336d'","result":{"duration":12701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":544981611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cf69ec50-9849-4afd-853c-ee56211d336d'","result":{"duration":1223070,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1073462,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":981957,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1026459,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":999358,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1083462,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":90205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":757644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":826048,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":807547,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":156209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":217413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:14.287 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":800447,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":186111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:14.288 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WFS\",\"OGC:WFS\",\"landingpage\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":799046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":173910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:14.289 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":87505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":118407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:14.289 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WFS\",\"OGC:WFS\",\"landingpage\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":946154,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":174510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:14.290 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":116906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:14.290 [print] #notpresent \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":934854,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee56211d336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":487028,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee56211d336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":311118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":51903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:13.780 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":110006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":81404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":443325,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":95206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":429825,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":73004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":124307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"cf69ec50-9849-4afd-853c-ee5621fd336d","description":"","id":"cf69ec50-9849-4afd-853c-ee5621fd336d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":33602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'cf69ec50-9849-4afd-853c-ee5621fd336d'","result":{"duration":10301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":532153573,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cf69ec50-9849-4afd-853c-ee5621fd336d'","result":{"duration":876450,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":835849,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":753844,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":734342,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":784445,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":882851,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":84505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":625437,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":683039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":738442,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":120007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":125507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:14.322 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WFS&version=1.1.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":645837,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":132907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:14.323 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":714941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":130007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:14.324 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":73504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":126707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:14.324 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":780345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":203412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:14.325 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":118806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:14.325 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=cf69ec50-9849-4afd-853c-ee56211d336d#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":798346,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621fd336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":432925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621fd336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":315318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:13.947 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":62703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":311918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":430325,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":91605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"cf69ec50-9849-4afd-853c-ee5621md336d","description":"","id":"cf69ec50-9849-4afd-853c-ee5621md336d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'cf69ec50-9849-4afd-853c-ee5621md336d'","result":{"duration":38403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":523431630,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cf69ec50-9849-4afd-853c-ee5621md336d'","result":{"duration":1511786,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1359178,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1225870,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1170367,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1114764,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":902552,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":88406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":612535,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":679939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":683940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":124408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":144908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:14.482 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":630236,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":184011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:14.483 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":680639,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":133208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:14.484 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":76904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":122507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:14.484 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":754244,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":134208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:14.485 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":117206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:14.485 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=cf69ec50-9849-4afd-853c-ee56211d336d#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":749243,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621md336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":489828,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621md336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":8886910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":47503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:14.071 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":104106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":81605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":368522,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":98906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":456526,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":84905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":135207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1c0dcc64-91aa-4d44-a9e3-54355556f5e7","description":"","id":"1c0dcc64-91aa-4d44-a9e3-54355556f5e7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":39102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":22801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1c0dcc64-91aa-4d44-a9e3-54355556f5e7'","result":{"duration":8701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":8501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":540122155,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1c0dcc64-91aa-4d44-a9e3-54355556f5e7'","result":{"duration":1420081,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1301075,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1169167,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1145765,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1268972,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1371579,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":97106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":692140,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":756943,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":805646,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":142508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":156809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:14.624 [print] https:\\\/\\\/service.pdok.nl\\\/lv\\\/bag\\\/wfs\\\/v2_0?request=getCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":718441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":211612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:14.625 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":815747,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":183210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:14.626 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":90205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":116906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:14.626 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":885351,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":215512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:14.627 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":131907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:14.627 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=aa3b5e6e-7baa-40c0-8972-3353e927ec2f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":879451,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1c0dcc64-91aa-4d44-a9e3-54355556f5e7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":459627,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1c0dcc64-91aa-4d44-a9e3-54355556f5e7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":308517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":45803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:14.294 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":106206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":104006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":403624,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":101105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":456126,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":74404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":141808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9e2e977a-16a6-42a4-a208-c4f70704f383","description":"","id":"9e2e977a-16a6-42a4-a208-c4f70704f383","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":40502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":29102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9e2e977a-16a6-42a4-a208-c4f70704f383'","result":{"duration":10101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":536344479,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9e2e977a-16a6-42a4-a208-c4f70704f383'","result":{"duration":1385279,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":964855,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":854649,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":793045,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":859749,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1099863,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":147409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":760343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":754544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":756843,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":139208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":153008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:14.842 [print] https:\\\/\\\/service.pdok.nl\\\/lv\\\/bag\\\/wms\\\/v2_0?request=getCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1426482,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":245214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:14.843 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":756143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":134508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:14.844 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":80704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":137508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:14.844 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":851749,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":167009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:14.845 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":106006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:14.846 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=aa3b5e6e-7baa-40c0-8972-3353e927ec2f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":844748,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9e2e977a-16a6-42a4-a208-c4f70704f383\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":422424,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9e2e977a-16a6-42a4-a208-c4f70704f383\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":329119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":44502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:14.329 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":105106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":84705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":383922,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":96805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":460626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":73804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":137608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"88a337a9-bed3-4d79-80fa-ff4b45990d7d","description":"","id":"88a337a9-bed3-4d79-80fa-ff4b45990d7d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":40602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '88a337a9-bed3-4d79-80fa-ff4b45990d7d'","result":{"duration":10101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":542634133,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '88a337a9-bed3-4d79-80fa-ff4b45990d7d'","result":{"duration":781545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":654438,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":657538,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":602835,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":646138,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":719342,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":82704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":548732,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":605034,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":738443,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":134708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":367221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:14.880 [print] https:\/\/service.pdok.nl\/cbs\/wb2020\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":581533,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":136108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:14.881 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":770944,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":125907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:14.882 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":244314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":158509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:14.883 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":678739,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":154709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:14.883 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":98806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:14.883 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f1859b4d-93be-4fc8-9e91-0ecc2fa0f3b3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":658338,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"88a337a9-bed3-4d79-80fa-ff4b45990d7d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":383622,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"88a337a9-bed3-4d79-80fa-ff4b45990d7d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":300618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":47702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:14.498 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":152609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":98106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":396222,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":106806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":479628,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":78505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":144909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"37308f90-e619-4b62-ae9e-e656bb3f1649","description":"","id":"37308f90-e619-4b62-ae9e-e656bb3f1649","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":41403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '37308f90-e619-4b62-ae9e-e656bb3f1649'","result":{"duration":10201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":544094017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '37308f90-e619-4b62-ae9e-e656bb3f1649'","result":{"duration":1138465,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":763144,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":686639,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":739143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":877051,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":868750,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":92205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":645037,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":680239,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":708541,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":117707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":173610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:15.052 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":826448,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":152608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:15.053 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":766744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":136008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:15.054 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":114807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":197811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:15.054 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":9431541,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":171910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:15.064 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":580533,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:15.064 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8b0b02a0-1e1b-4cda-bcfe-6fa0f738e38f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1376679,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"37308f90-e619-4b62-ae9e-e656bb3f1649\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":434125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"37308f90-e619-4b62-ae9e-e656bb3f1649\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":310217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":47403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:14.631 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":144209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":93006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":488528,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":106706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":437025,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":74204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":135908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"13c6144d-231b-4a52-91d5-edde65076aff","description":"","id":"13c6144d-231b-4a52-91d5-edde65076aff","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":36002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":45803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":19101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '13c6144d-231b-4a52-91d5-edde65076aff'","result":{"duration":10301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":527400960,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '13c6144d-231b-4a52-91d5-edde65076aff'","result":{"duration":1384580,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1247472,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1122264,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1070062,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1188168,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1235171,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":90505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":590833,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":663238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":653438,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":127307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1115964,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:15.172 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.2350b86b-3efd-47e4-883e-519bfa8d0aba_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":630936,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":704740,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:15.173 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":679339,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":531030,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:15.174 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":98106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":572933,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:15.175 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":709341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":514329,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:15.176 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":818747,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:15.177 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-rsa-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":700540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"13c6144d-231b-4a52-91d5-edde65076aff\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":420024,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"13c6144d-231b-4a52-91d5-edde65076aff\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":301717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":46903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:14.850 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":125407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":89905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":373422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":101205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":461827,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":76805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":138408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"dd49e02c-ea87-4ffc-89dd-f888608d95b7","description":"","id":"dd49e02c-ea87-4ffc-89dd-f888608d95b7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":47303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'dd49e02c-ea87-4ffc-89dd-f888608d95b7'","result":{"duration":10201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":529441477,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dd49e02c-ea87-4ffc-89dd-f888608d95b7'","result":{"duration":961755,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":694940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":657038,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":572933,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":657537,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":738042,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":102806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":534531,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":600234,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":614535,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":470327,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":422124,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:15.388 [print] https:\/\/geodata.nationaalgeoregister.nl\/nationaleparken\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":561832,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":372721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:15.389 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":616636,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":349820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:15.390 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":90905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":264415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:15.391 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":642337,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":330419,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:15.392 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":293117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:15.392 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4961d305-fbb5-426a-9ba3-53e1ca5f3b18#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":620636,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"dd49e02c-ea87-4ffc-89dd-f888608d95b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":408223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"dd49e02c-ea87-4ffc-89dd-f888608d95b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":290616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":47002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:14.888 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":103306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":86305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":361421,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":97006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":527331,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":83605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":119507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"24055de7-dcff-487a-8f9a-7aee4f0d8351","description":"","id":"24055de7-dcff-487a-8f9a-7aee4f0d8351","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":34902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":22701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '24055de7-dcff-487a-8f9a-7aee4f0d8351'","result":{"duration":31402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":533644317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '24055de7-dcff-487a-8f9a-7aee4f0d8351'","result":{"duration":945654,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":761544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":680439,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":722342,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":742542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":885151,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":89005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":598834,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":668939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":642837,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":131008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":442526,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:15.431 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.83f948b1-9293-4926-b64d-40857c792f1e?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":722842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":198712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:15.432 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":763243,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":184811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:15.433 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":89905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":135108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:15.433 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":710841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":180911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:15.434 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":268615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:15.435 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.83f948b1-9293-4926-b64d-40857c792f1e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":730942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"24055de7-dcff-487a-8f9a-7aee4f0d8351\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":411024,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"24055de7-dcff-487a-8f9a-7aee4f0d8351\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":287116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":45303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:15.069 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":106906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":88005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":363820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":100806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":422925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":71104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":129707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2bd75565-db8b-4df7-a3a6-0e9ca5289e5e","description":"","id":"2bd75565-db8b-4df7-a3a6-0e9ca5289e5e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":39202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":23401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2bd75565-db8b-4df7-a3a6-0e9ca5289e5e'","result":{"duration":9301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":528614629,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2bd75565-db8b-4df7-a3a6-0e9ca5289e5e'","result":{"duration":1029659,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":924153,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":756843,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":687439,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":805847,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":885750,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":95706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":696039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":11923784,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":821847,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":131107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":142708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:15.619 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.2350b86b-3efd-47e4-883e-519bfa8d0aba_wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1326376,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":147209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:15.620 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":682939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":2026116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:15.623 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":106006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":202612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:15.624 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":772444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":149208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:15.624 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":93605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:15.625 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-rsa-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":723541,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2bd75565-db8b-4df7-a3a6-0e9ca5289e5e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":411324,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2bd75565-db8b-4df7-a3a6-0e9ca5289e5e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":291316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":46202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:15.181 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":43902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":107706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":88205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":359221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":97905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":432925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":94706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":491428,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"257b960c-ece6-4e0f-b893-77b219c6133f","description":"","id":"257b960c-ece6-4e0f-b893-77b219c6133f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":50703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":63303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '257b960c-ece6-4e0f-b893-77b219c6133f'","result":{"duration":9800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":529621887,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '257b960c-ece6-4e0f-b893-77b219c6133f'","result":{"duration":1074461,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":796845,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":670939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":643436,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":704841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":803246,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":87805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":582334,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":601734,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":657738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":140908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":216612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:15.721 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1540388,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":185211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:15.722 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1039159,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":137708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:15.724 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":416724,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":99406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:15.724 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":993357,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":133808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:15.725 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":501729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:15.726 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1189968,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"257b960c-ece6-4e0f-b893-77b219c6133f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":438225,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"257b960c-ece6-4e0f-b893-77b219c6133f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":290216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":44402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:15.396 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":105306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":85905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":380722,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":101505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":428925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":69604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":298817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"cb13a608-3d78-4f79-ba60-be63ccd6e268","description":"","id":"cb13a608-3d78-4f79-ba60-be63ccd6e268","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":43902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'cb13a608-3d78-4f79-ba60-be63ccd6e268'","result":{"duration":10501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":533932434,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cb13a608-3d78-4f79-ba60-be63ccd6e268'","result":{"duration":1423881,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":5530117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":728441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":608935,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":669439,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":829848,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":103206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":554832,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":557232,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":712441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":138508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":127708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:15.945 [print] https:\/\/service.pdok.nl\/cbs\/vk100\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":833547,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":147309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:15.946 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":699540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":123507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:15.946 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":76305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":124207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:15.947 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":676739,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":121807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:15.947 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":129307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:15.948 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1462bbce-ccd3-4362-83d8-4535ca8f44eb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":635837,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"cb13a608-3d78-4f79-ba60-be63ccd6e268\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":420124,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"cb13a608-3d78-4f79-ba60-be63ccd6e268\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":304417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":44502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:15.439 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":103606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":86605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":354320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":96406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":427225,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":68103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":95205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"KKHRN250-DXU9-167I-W6SO-8566T16B30VE","description":"","id":"kkhrn250-dxu9-167i-w6so-8566t16b30ve","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":142208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":26901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'KKHRN250-DXU9-167I-W6SO-8566T16B30VE'","result":{"duration":9601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":528165303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'KKHRN250-DXU9-167I-W6SO-8566T16B30VE'","result":{"duration":782745,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":680339,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":638137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":610735,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":653438,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":715741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":79104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":547031,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":543432,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":632536,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":122007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":110007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:15.975 [print] https:\/\/www.broinspireservices.nl\/arcgis\/services\/inspire\/inspire_geotop_rd\/MapServer\/WMSServer?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":786445,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":131608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:15.976 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":719441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":124107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:15.977 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":175810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":177910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:15.978 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":654237,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":181510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:15.978 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":277216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:15.979 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=7D35598D-DFBF-C64D-0F1A-92A80A45EB14&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":688540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"KKHRN250-DXU9-167I-W6SO-8566T16B30VE\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":385022,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"KKHRN250-DXU9-167I-W6SO-8566T16B30VE\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":294016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":53103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:15.642 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":86205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":148408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":112606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":439525,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":104606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":482328,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":70704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":100306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1887e931-e1b9-4512-9ca2-61526439fd7b","description":"","id":"1887e931-e1b9-4512-9ca2-61526439fd7b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":29601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":146209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1887e931-e1b9-4512-9ca2-61526439fd7b'","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":8900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":520799180,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1887e931-e1b9-4512-9ca2-61526439fd7b'","result":{"duration":1493586,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1372279,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1237971,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1257672,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1368279,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1197769,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":82005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":596135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":625835,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":726242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":146108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":157409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:16.175 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.6cef2128-a227-4aa7-bc74-0e3797644d51_wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":947054,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":204911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:16.177 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":968856,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":175210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:16.178 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":200212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":134008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:16.178 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":781845,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":148208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:16.179 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":300417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:16.180 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":846449,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1887e931-e1b9-4512-9ca2-61526439fd7b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":414523,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1887e931-e1b9-4512-9ca2-61526439fd7b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":314218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":62203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:15.730 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":43403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":110506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":132608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":369721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":443325,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":448726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":73204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":142008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"8a772a52-d659-47b3-a131-82398fb78664","description":"","id":"8a772a52-d659-47b3-a131-82398fb78664","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":364921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":72904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":13001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '8a772a52-d659-47b3-a131-82398fb78664'","result":{"duration":10300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":527442561,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8a772a52-d659-47b3-a131-82398fb78664'","result":{"duration":1012658,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":751743,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":669239,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":634636,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":704640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":813347,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":86605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":583534,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":620636,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":608834,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":125807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":124407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:16.268 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/service\/atom\/id_predefined_dataset \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1436482,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":142008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:16.269 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":966056,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":134608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:16.270 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":420224,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":107206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:16.271 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":957355,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":135308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:16.272 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":452926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:16.273 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1167767,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"8a772a52-d659-47b3-a131-82398fb78664\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":435025,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"8a772a52-d659-47b3-a131-82398fb78664\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":287217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":42403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:15.951 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":104106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":87505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":357921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":95305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":492028,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":78004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":215612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217","description":"","id":"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":47102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":22501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217'","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":536200465,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217'","result":{"duration":1501786,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1190669,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1069661,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1058060,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1168467,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1247672,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":134608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":589334,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":640137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":664038,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":130308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":126908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:16.499 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.28716afd-1e98-4623-9239-8abbd9249408_wms?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1401080,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":148208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:16.501 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":981056,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":133308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:16.502 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":372921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":108806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:16.503 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1005757,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":131808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:16.504 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":496029,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:16.504 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1187068,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":429424,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":300117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":44102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:15.983 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":79105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":112407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":87305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":362620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":99506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":423224,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":66304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":138208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d9227c23-9d36-46ce-8ac9-a208103c218e","description":"","id":"d9227c23-9d36-46ce-8ac9-a208103c218e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":32102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd9227c23-9d36-46ce-8ac9-a208103c218e'","result":{"duration":15601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":535507124,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd9227c23-9d36-46ce-8ac9-a208103c218e'","result":{"duration":768444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":760143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":688440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":705040,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":726442,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":779444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":78405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":578934,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":639336,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":641737,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":139908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":138808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:16.527 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.cefad637-5ffd-4dd0-b475-bc125a11f7e6_wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1162567,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":133107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:16.529 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":8959314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":150509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:16.538 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":397422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":164210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:16.538 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1112464,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":163109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:16.540 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":94006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:16.540 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-rsa-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":728242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d9227c23-9d36-46ce-8ac9-a208103c218e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":423524,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d9227c23-9d36-46ce-8ac9-a208103c218e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":302217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":45302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:16.184 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":44202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":107506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":86505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":444226,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":106707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":431825,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":118006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":132508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"43a37418-365c-4848-b885-5823259ca7c9","description":"","id":"43a37418-365c-4848-b885-5823259ca7c9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":165810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":22102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '43a37418-365c-4848-b885-5823259ca7c9'","result":{"duration":18501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":8201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":527818183,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '43a37418-365c-4848-b885-5823259ca7c9'","result":{"duration":1458084,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1194068,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1056261,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1058761,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1186468,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1279474,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":85005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":568733,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":657937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":667039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":122707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":145008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:16.724 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.cefad637-5ffd-4dd0-b475-bc125a11f7e6_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":735942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":187111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:16.725 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":627336,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":128508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:16.725 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":178211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":136008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:16.726 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":737442,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":126607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:16.727 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":209212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:16.727 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-rsa-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":791245,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"43a37418-365c-4848-b885-5823259ca7c9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":431225,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"43a37418-365c-4848-b885-5823259ca7c9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":282517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":67904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:16.279 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":43902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":205711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":99506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":367121,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":99006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":437126,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":69904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":318618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5e5d713c-e89d-441f-a848-9e4fe5d48400","description":"","id":"5e5d713c-e89d-441f-a848-9e4fe5d48400","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":46302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":23701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":37102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5e5d713c-e89d-441f-a848-9e4fe5d48400'","result":{"duration":11401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":515813294,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5e5d713c-e89d-441f-a848-9e4fe5d48400'","result":{"duration":1344477,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1191768,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1095863,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1048760,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1116464,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":831148,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":87605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":601034,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":674239,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":668638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":129608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":148109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:16.806 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.917b5ba0-4fdd-4654-8c18-b3ccdadaa550_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1218670,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":152609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:16.808 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":937954,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":141109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:16.809 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":406124,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":99706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:16.809 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":995357,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":132707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:16.810 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":431925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:16.811 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-rsa-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1301875,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5e5d713c-e89d-441f-a848-9e4fe5d48400\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":429525,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5e5d713c-e89d-441f-a848-9e4fe5d48400\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":304518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":42902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:16.509 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":103106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":85305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":362621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":96105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":425724,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":67604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":120507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"12505d53-a942-467e-a462-ddbe5ac6467f","description":"","id":"12505d53-a942-467e-a462-ddbe5ac6467f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":39802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '12505d53-a942-467e-a462-ddbe5ac6467f'","result":{"duration":9501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":533550512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '12505d53-a942-467e-a462-ddbe5ac6467f'","result":{"duration":1427082,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":999657,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":678039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":634036,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":684939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":791046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":85905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":589134,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":661738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":635436,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":134208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":948255,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:17.053 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.28716afd-1e98-4623-9239-8abbd9249408_wfs?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":599734,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":145308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:17.054 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1997415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":557232,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:17.056 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":106106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":529831,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:17.057 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":715341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":566333,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:17.058 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":683439,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:17.059 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":708141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"12505d53-a942-467e-a462-ddbe5ac6467f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":426724,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"12505d53-a942-467e-a462-ddbe5ac6467f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":307418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]}],"name":"src\/test\/java\/InspireTest\/ngr\/T02_Services.feature","description":"get details","id":"get-details","keyword":"Feature","uri":"src\/test\/java\/InspireTest\/ngr\/T02_Services.feature","tags":[{"name":"@step1","line":1}]}]