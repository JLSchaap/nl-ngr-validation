[{"line":2,"elements":[{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":111102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:42.840 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":94601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":185703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":291803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":6019476,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":315004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":662709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":182302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":558407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2","description":"","id":"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":152701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":60500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":47400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":45501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a4c5aa6c-6c7f-45d7-9799-011edd83d9c2'","result":{"duration":75201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":83102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":40400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":938202553,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a4c5aa6c-6c7f-45d7-9799-011edd83d9c2'","result":{"duration":1558020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":899311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":943312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":724309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":982513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1196315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":241803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1104314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":898411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":893211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":439805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":386104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:43.803 [print] https:\/\/inspire.caris.nl\/gs5\/ProspectingAndMiningPermitArea\/ows?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":988312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":337205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:43.804 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":957412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":472706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:43.806 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":264203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":347704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:43.807 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":852310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":375505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:43.808 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":312104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:43.808 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c2225e5d-b46f-4e38-8445-ab10fd40c0dc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":703009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1029313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":604808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":107801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:42.848 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":75501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":146702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":197402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":6446282,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":218703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":597308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":133901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":972212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"cd370f58-0e54-48d6-b83b-ccd332bfb7c7","description":"","id":"cd370f58-0e54-48d6-b83b-ccd332bfb7c7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":78401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":94601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":43800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":40901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'cd370f58-0e54-48d6-b83b-ccd332bfb7c7'","result":{"duration":44301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":40300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":56101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":957927702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cd370f58-0e54-48d6-b83b-ccd332bfb7c7'","result":{"duration":974913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":954012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":978112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":974412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1078114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":942312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":161602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":4467356,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":838911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":779810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":308204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":361405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:43.829 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":878711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":333405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:43.830 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":888111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":325604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:43.831 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":161902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":294504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:43.832 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":828110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":352205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:43.833 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":414205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:43.833 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ad6caa40-89ab-47e3-85ab-3f8e32024a71#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1061414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"cd370f58-0e54-48d6-b83b-ccd332bfb7c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":872911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"cd370f58-0e54-48d6-b83b-ccd332bfb7c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":782110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":123602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:42.835 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":133102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":190302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":225503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":450306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":249903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":5279466,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":161102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":3774247,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"68505be5-45c4-4889-a82a-125043bbdc44","description":"","id":"68505be5-45c4-4889-a82a-125043bbdc44","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":82201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":58601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":45600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":61801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '68505be5-45c4-4889-a82a-125043bbdc44'","result":{"duration":47100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":43501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":43601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":898410850,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68505be5-45c4-4889-a82a-125043bbdc44'","result":{"duration":3221841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1034113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":822310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":887711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1076913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1176815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":166802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":2174027,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1257916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1081514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":759609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":746209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:43.760 [print] https:\/\/www.broinspireservices.nl\/wfs\/osgebor-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":4567558,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":871011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:43.766 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1524520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":557307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:43.768 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":203203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":626508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:43.769 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":876711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":650408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:43.770 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":1142514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:43.771 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6c1cf452-8c62-4046-99ab-640a5e184f9c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":875011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"68505be5-45c4-4889-a82a-125043bbdc44\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1488619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"68505be5-45c4-4889-a82a-125043bbdc44\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":890911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":126702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:42.840 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":96601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":179603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":196802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":6131378,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":261804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":768610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":162102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":258103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5f0c583a-101e-45ea-b684-a056713cf811","description":"","id":"5f0c583a-101e-45ea-b684-a056713cf811","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":70401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":64001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":57701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":37601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5f0c583a-101e-45ea-b684-a056713cf811'","result":{"duration":46400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":38200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":36501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":867150555,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5f0c583a-101e-45ea-b684-a056713cf811'","result":{"duration":1410518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":911912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1034413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":785710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2448631,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":869611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":253303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":858211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":2948538,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":728709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":468606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":560907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:43.733 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-baseline-feed.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":893012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":504406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:43.734 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1509219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":544707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:43.736 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":2122527,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":478506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:43.739 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":673809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":337204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:43.740 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":309304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:43.740 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=1249746f-c2a6-4639-98f2-251676b3528e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":704909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5f0c583a-101e-45ea-b684-a056713cf811\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":16322307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5f0c583a-101e-45ea-b684-a056713cf811\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":789710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":33500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:43.764 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":65601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":89401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":105501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":456706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":214003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":564507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":59400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":5052763,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e29b19de-d191-47f2-b944-5056a7674cce","description":"","id":"e29b19de-d191-47f2-b944-5056a7674cce","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":22100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e29b19de-d191-47f2-b944-5056a7674cce'","result":{"duration":65401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":8300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":857564134,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":25601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e29b19de-d191-47f2-b944-5056a7674cce'","result":{"duration":1148414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":854911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":717309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":749909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":893811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":736809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":80301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":748009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":678609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":668309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":144302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":288204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:44.642 [print] https:\/\/inspire.caris.nl\/gs5\/am\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1082213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":163402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:44.643 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":739409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":160102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:44.644 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":105801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":163402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:44.645 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":812310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":144102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:44.646 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":197403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:44.646 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4617f0e0-6af4-4ac0-9044-31df9d03071c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":798810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e29b19de-d191-47f2-b944-5056a7674cce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":994313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e29b19de-d191-47f2-b944-5056a7674cce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":775410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":27200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:43.779 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":60401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":89502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":139601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":514806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":71101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":383005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":56301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":230203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"060d1139-c371-4c1e-9890-55999adfa4f9","description":"","id":"060d1139-c371-4c1e-9890-55999adfa4f9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":30301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '060d1139-c371-4c1e-9890-55999adfa4f9'","result":{"duration":82401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":10500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":894443400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '060d1139-c371-4c1e-9890-55999adfa4f9'","result":{"duration":878512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":782110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":674108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":665508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":712409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":721509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":41300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":589407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":656209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":837211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":457706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":594207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:44.684 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":730210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":430405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:44.685 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":690408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":178803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:44.686 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":100601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":404705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:44.686 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":715709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":491506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:44.687 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":782809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:44.688 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=a5241416-8401-4623-be61-57ef50447a41&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":917611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"060d1139-c371-4c1e-9890-55999adfa4f9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":812710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"060d1139-c371-4c1e-9890-55999adfa4f9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":604708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":32401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:43.823 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":53200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":70900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":134201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":360705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":73501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":426306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":57901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":209702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f0eb64f9-8888-42e1-9550-bf91c32da4bc","description":"","id":"f0eb64f9-8888-42e1-9550-bf91c32da4bc","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":29800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f0eb64f9-8888-42e1-9550-bf91c32da4bc'","result":{"duration":66301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":8600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":888778428,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f0eb64f9-8888-42e1-9550-bf91c32da4bc'","result":{"duration":981313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":740409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":707209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":719710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":825610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":866211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":117001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":688809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":774909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":768809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":377305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":338505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:44.722 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":727409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":735709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:44.724 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1022913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":312004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:44.725 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":112801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":288303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:44.725 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":802910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":218203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:44.726 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":153202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:44.727 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e1e99000-ec47-4e9f-84a5-adad24fef0dc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":744610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f0eb64f9-8888-42e1-9550-bf91c32da4bc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":957512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f0eb64f9-8888-42e1-9550-bf91c32da4bc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":523207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":27401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:43.839 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":70901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":318704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":71601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":518506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":90802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":281403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"efb5222c-112a-4c57-9bbf-f2af918cb9b5","description":"","id":"efb5222c-112a-4c57-9bbf-f2af918cb9b5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":31301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'efb5222c-112a-4c57-9bbf-f2af918cb9b5'","result":{"duration":66401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":29100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":8101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":901087983,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'efb5222c-112a-4c57-9bbf-f2af918cb9b5'","result":{"duration":727009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":933812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":853411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":746610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":778210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":770910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":69801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":601007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":675308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":744610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":1269416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":271304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:44.750 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-aansluitende-zone-feed.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":758609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":314404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:44.751 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":725509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":307003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:44.753 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":128901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":321405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:44.753 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":918211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":313503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:44.754 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":262303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:44.755 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4cda487b-c467-490c-a843-6563fec016be#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":705209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"efb5222c-112a-4c57-9bbf-f2af918cb9b5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1438218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"efb5222c-112a-4c57-9bbf-f2af918cb9b5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":700608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":27400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:44.651 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":44401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":66201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":124202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":449205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":123902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":568907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":83801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":173602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"555f668f-63b4-47ef-a666-f12d71c2cc4a","description":"","id":"555f668f-63b4-47ef-a666-f12d71c2cc4a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":63901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":23900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '555f668f-63b4-47ef-a666-f12d71c2cc4a'","result":{"duration":69200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":8000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":882730758,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":8100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '555f668f-63b4-47ef-a666-f12d71c2cc4a'","result":{"duration":1298421,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":649210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":651611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":600309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":878613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1052016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":179803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":832013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":781513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":765712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":232204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1204019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:45.545 [print] https:\/\/service.pdok.nl\/cbs\/wb2018\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":903214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":245804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:45.547 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1128418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":255004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:45.548 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":132402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":495507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:45.549 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":833513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":310705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:45.551 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":227404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:45.551 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ffefc3dc-dc8f-4589-ae22-a60bebcdf5cb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1237620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"555f668f-63b4-47ef-a666-f12d71c2cc4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":2609641,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"555f668f-63b4-47ef-a666-f12d71c2cc4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":565109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":26500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:44.694 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":62201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":117401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":355605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":68401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":433406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":55601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":463506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ea4cb6a2-f637-413a-91cc-d58473c2f138","description":"","id":"ea4cb6a2-f637-413a-91cc-d58473c2f138","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":29600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":35101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ea4cb6a2-f637-413a-91cc-d58473c2f138'","result":{"duration":67101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":869916187,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ea4cb6a2-f637-413a-91cc-d58473c2f138'","result":{"duration":884213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":811212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":720911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":747912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":836513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":851213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":116002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":699411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":768912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1109117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":219903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":233904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:45.574 [print] http:\/\/services.inspire-provincies.nl\/EnvironmentalMonitoringFacilities\/services\/view_EF?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1535024,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":295704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:45.576 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":871213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":278004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:45.577 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":145403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":535408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:45.578 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":840613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":229303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:45.580 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":270705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:45.580 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=c829abeb-bfac-4224-8332-e7a9a89e692e&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=fe45c540-e37d-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1718127,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ea4cb6a2-f637-413a-91cc-d58473c2f138\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":647711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ea4cb6a2-f637-413a-91cc-d58473c2f138\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":574709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":25900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:44.731 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":77301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":96302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":334704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":78301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":433006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":69101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":415605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ef2a7962-8bb4-483f-ca52-85123f579","description":"","id":"ef2a7962-8bb4-483f-ca52-85123f579","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":29500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":12501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ef2a7962-8bb4-483f-ca52-85123f579'","result":{"duration":61001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":25000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":876425506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ef2a7962-8bb4-483f-ca52-85123f579'","result":{"duration":765812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":752512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":870514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":788913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1240219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1018216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":139502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":786612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":780713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":720311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":653010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":589009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:45.619 [print] http:\/\/data.waterkwaliteitsportaal.nl\/inspire\/ds\/nl.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":905915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":520208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:45.621 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":823713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":516008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:45.622 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":152802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":520308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:45.623 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":835013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":589110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:45.624 [print] Informatiehuis Water \n","line":56}},{"name":"print operateson","result":{"duration":961815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:45.625 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=110f9ec6-4464-462e-9765-83d90cefbeab&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=891ddc2d-8949-4a45-be96-c65b87c41f13&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":738712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ef2a7962-8bb4-483f-ca52-85123f579\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":683511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ef2a7962-8bb4-483f-ca52-85123f579\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":613310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":28501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:44.760 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":371205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":71401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":114301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":363705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":141002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":432206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":53000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":292903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"101304f0-2cf2-4ce0-aa23-cd7e4000fbba","description":"","id":"101304f0-2cf2-4ce0-aa23-cd7e4000fbba","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":25901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '101304f0-2cf2-4ce0-aa23-cd7e4000fbba'","result":{"duration":78301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":874091460,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '101304f0-2cf2-4ce0-aa23-cd7e4000fbba'","result":{"duration":945714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":669610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":641111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":700011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":943415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1088117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":152902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":738611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":921814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":798313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":788913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":638910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:45.646 [print] https:\/\/service.pdok.nl\/kadaster\/sr\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":736212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":559809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:45.647 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":730312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":508308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:45.649 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":129902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":517708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:45.649 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":674610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":537709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:45.651 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":744612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:45.651 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":671311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"101304f0-2cf2-4ce0-aa23-cd7e4000fbba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":754612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"101304f0-2cf2-4ce0-aa23-cd7e4000fbba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":624010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":88602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:45.559 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":80501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":160103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":174903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":483408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":328505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":551409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":128302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":242704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a931e334-b752-4935-8a98-00eddc443789","description":"","id":"a931e334-b752-4935-8a98-00eddc443789","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":320105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":59601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":42200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":35900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a931e334-b752-4935-8a98-00eddc443789'","result":{"duration":36401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":35701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":36901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":878486118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a931e334-b752-4935-8a98-00eddc443789'","result":{"duration":1072416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1076017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":887114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":855514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":925415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":840513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":40300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":705411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":692911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":716811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":244704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":917615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:46.450 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":703911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":464008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:46.451 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":716511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":461308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:46.452 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":92401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":554608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:46.453 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":810912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":114901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:46.454 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":818912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:46.455 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8a4f5c3b-aced-48fd-afb5-f1f1d0ef21d6#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":774412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a931e334-b752-4935-8a98-00eddc443789\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":971315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a931e334-b752-4935-8a98-00eddc443789\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":622509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":69401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:45.586 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":56301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":147103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":165802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":456507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":167803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":487007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":126502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":235904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ff8f6da2-949e-4838-90f6-fd895a4a240f","description":"","id":"ff8f6da2-949e-4838-90f6-fd895a4a240f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":321905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":49901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":38301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":36200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ff8f6da2-949e-4838-90f6-fd895a4a240f'","result":{"duration":37600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":37501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":53801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":882221977,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ff8f6da2-949e-4838-90f6-fd895a4a240f'","result":{"duration":769612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":743812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":891214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":722911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":726911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":687011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":40501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":588709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":660710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":779313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":324705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":315405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:46.479 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":685510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":295104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:46.480 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":731811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":310405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:46.481 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":49701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":294205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:46.481 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":780413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":304505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:46.482 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":315405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:46.483 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d24ccb35-e9d2-41bf-b231-43083fc0c76d \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":996616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ff8f6da2-949e-4838-90f6-fd895a4a240f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":6232098,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ff8f6da2-949e-4838-90f6-fd895a4a240f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":539709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":82301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:45.631 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":72502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":155002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":170502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":449007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":183003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":494908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":131102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":684611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"52d0313e-0d2b-44b4-b51e-d9e504307f70","description":"","id":"52d0313e-0d2b-44b4-b51e-d9e504307f70","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":280605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":76301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":45901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":53901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '52d0313e-0d2b-44b4-b51e-d9e504307f70'","result":{"duration":54201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":53700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":64701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":866456928,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '52d0313e-0d2b-44b4-b51e-d9e504307f70'","result":{"duration":709511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":630709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":787012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":938215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":705511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":742811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":48900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":703111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":639410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":612310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":80301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":472608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:46.508 [print] https:\/\/service.pdok.nl\/bzk\/bro-environmental-monitoring-facilities\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1001516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":95002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:46.509 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":850114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":94101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:46.510 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":325105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":85901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:46.511 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":991116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":190603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:46.512 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":139903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:46.512 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":818913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"52d0313e-0d2b-44b4-b51e-d9e504307f70\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":762312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"52d0313e-0d2b-44b4-b51e-d9e504307f70\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":539309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":89801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:45.657 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":60201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":149402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":164703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":439807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":209204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":604709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":162202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":604610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"13e4dff0-1e80-11e2-81c1-0800200c9a66","description":"","id":"13e4dff0-1e80-11e2-81c1-0800200c9a66","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":72301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":50700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":39100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":37800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '13e4dff0-1e80-11e2-81c1-0800200c9a66'","result":{"duration":36901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":36001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":36700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":874787659,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '13e4dff0-1e80-11e2-81c1-0800200c9a66'","result":{"duration":673610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":698111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":658110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":671511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":763312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":698611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":50901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":586209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":609610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":574909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":119002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":399106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:46.542 [print] https:\/\/www.gdngeoservices.nl\/inspire\/downloads\/services.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":644110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":192903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:46.542 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":660410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":141703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:46.543 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":117102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":990115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:46.545 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":928314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":189803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:46.546 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":297705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:46.546 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=11a292bd-9022-4a9f-b1bf-02f5c89ad74a&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=80630ee7-3a15-4ea0-bdc0-a8aebfa2f204&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":760812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"13e4dff0-1e80-11e2-81c1-0800200c9a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":752512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"13e4dff0-1e80-11e2-81c1-0800200c9a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":494208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":25300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:46.460 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":61701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":130702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":407206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":64501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":438806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":52400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":111601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f59357eb-185f-42a5-b465-90bfa6e3e416","description":"","id":"f59357eb-185f-42a5-b465-90bfa6e3e416","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":313504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f59357eb-185f-42a5-b465-90bfa6e3e416'","result":{"duration":60601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":838998397,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f59357eb-185f-42a5-b465-90bfa6e3e416'","result":{"duration":1218019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":908214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":919315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":777612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":923115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":713211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":627310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":601110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":597510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":124202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":175403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:47.309 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":723411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":90102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:47.310 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":655010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":102501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:47.311 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":44001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":93702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:47.311 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":978715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":169202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:47.312 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":152902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:47.312 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=32a21114-8694-40ce-ab76-9dcd885c7861#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":811412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f59357eb-185f-42a5-b465-90bfa6e3e416\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":978015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f59357eb-185f-42a5-b465-90bfa6e3e416\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":517508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":26100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:46.493 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":74901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":66501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":346105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":62501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":405907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":52401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":97401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7","description":"","id":"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":261904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a88b4ed1-49c1-4f91-991e-dc1cc7c575f7'","result":{"duration":65801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":874744659,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":23701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a88b4ed1-49c1-4f91-991e-dc1cc7c575f7'","result":{"duration":835013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":704111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1306720,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1032416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":788812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":823613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":55701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":684511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":695411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":806313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":132702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":161603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:47.379 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/ProductionAndIndustrialFacilities\\\/services\\\/view_PF?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":781412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":125502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:47.380 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":811813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":105001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:47.381 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":43600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":164903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:47.381 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":865014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":151002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:47.382 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":97701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:47.382 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=8e986f37-74d7-4b6c-8026-87c960456423&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=afc450bd-65b3-4e59-b0fb-619869bf6ada&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1001416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":759612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":545409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:46.516 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":66801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":82501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":302405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":60501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":1111917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":70401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":85201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d293204f-6581-4b0a-811b-1dcce97adedd","description":"","id":"d293204f-6581-4b0a-811b-1dcce97adedd","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":20001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":341105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd293204f-6581-4b0a-811b-1dcce97adedd'","result":{"duration":80002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":24401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":882285078,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd293204f-6581-4b0a-811b-1dcce97adedd'","result":{"duration":706311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":673811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":851014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":768212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":731212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":714211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":616110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":583409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":624210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":218803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":259204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:47.408 [print] https:\/\/geodata.nationaalgeoregister.nl\/publiekrechtelijkebeperking\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":623809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":227303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:47.409 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":756712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":307905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:47.410 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":49400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":247804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:47.410 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":788912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":285705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:47.412 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":269004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:47.412 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e536d943-ecff-4d7a-9500-cc31a263a6af#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1178118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d293204f-6581-4b0a-811b-1dcce97adedd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":867213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d293204f-6581-4b0a-811b-1dcce97adedd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":674510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":46001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:46.551 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":65101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":376206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":75101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":460807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":74502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":241104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"6de8b875-c4c2-4469-ac80-0782bb67f285","description":"","id":"6de8b875-c4c2-4469-ac80-0782bb67f285","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":24500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '6de8b875-c4c2-4469-ac80-0782bb67f285'","result":{"duration":76301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":885292825,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6de8b875-c4c2-4469-ac80-0782bb67f285'","result":{"duration":865513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":719712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":708211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":714312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":713711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1757928,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":44101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":658710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":18467990,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1172818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":680611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":946715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:47.466 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/au\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":991716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":537708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:47.467 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":759211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":484907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:47.469 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":130502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":953815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:47.470 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":729411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":539808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:47.471 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":699511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:47.472 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7dd1fd45-ace5-41e0-93a6-64e3be231717#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":688410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"6de8b875-c4c2-4469-ac80-0782bb67f285\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":797412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"6de8b875-c4c2-4469-ac80-0782bb67f285\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":706311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:47.317 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":56100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":84601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":85001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":398106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":59601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":498408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":72901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":84501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f","description":"","id":"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":39701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f'","result":{"duration":62401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":27101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846907421,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f'","result":{"duration":1243520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":722611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":636710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":3446954,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1204019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1738027,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":315905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":798612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":673310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":923514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":461208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":443307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:48.179 [print] https:\/\/inspire.caris.nl\/gs5\/ProspectingAndMiningPermitArea\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":812513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":337505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:48.180 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1100318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":294304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:48.182 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":162302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":333705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:48.182 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":838313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":486008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:48.183 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":264304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:48.184 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c2225e5d-b46f-4e38-8445-ab10fd40c0dc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":704811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":854114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":589609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:47.386 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":96501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":67901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":335605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":63801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":379606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":58901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":105102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"87a382da-c6dc-403c-a006-2379eb6daaa6","description":"","id":"87a382da-c6dc-403c-a006-2379eb6daaa6","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '87a382da-c6dc-403c-a006-2379eb6daaa6'","result":{"duration":58101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":872069617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '87a382da-c6dc-403c-a006-2379eb6daaa6'","result":{"duration":2473439,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":936215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":671411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":693311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":932214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1106617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":132802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":732011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":742511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":928514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":723211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":703311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:48.271 [print] https:\/\/inspire.caris.nl\/gs5\/pssa_nl\/ows?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":942914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":559508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:48.273 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1320321,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":8555134,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:48.283 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":124102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":554708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:48.283 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":664710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":4047964,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:48.288 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":713211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:48.289 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=f1d27179-36eb-4376-8048-f51d2eb23a09&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":692111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"87a382da-c6dc-403c-a006-2379eb6daaa6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1057316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"87a382da-c6dc-403c-a006-2379eb6daaa6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":781012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:47.417 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":108901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":306505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":59200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":420206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":72201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":116302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f2d2cd9d-7410-485a-95e0-c1b885243eaf","description":"","id":"f2d2cd9d-7410-485a-95e0-c1b885243eaf","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":23901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f2d2cd9d-7410-485a-95e0-c1b885243eaf'","result":{"duration":57101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":857205384,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f2d2cd9d-7410-485a-95e0-c1b885243eaf'","result":{"duration":734012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":777812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":768812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1430022,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":995415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1481723,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":139203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":4144965,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":630910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":920115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":4035264,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":3240251,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:48.295 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":717811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":479807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:48.297 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":788513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":532908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:48.298 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":123302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":482307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:48.299 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":3741658,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":677210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:48.303 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":798012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:48.304 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e8b84fae-00b3-49c1-80c1-df8f69f64e8c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":803813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f2d2cd9d-7410-485a-95e0-c1b885243eaf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":568409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f2d2cd9d-7410-485a-95e0-c1b885243eaf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":560109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":124401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:47.478 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":79901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":232404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":213904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":537408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":219803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":536009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":173403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":695211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e27e61d8-25b1-45ee-a2df-071312ba8a69","description":"","id":"e27e61d8-25b1-45ee-a2df-071312ba8a69","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":73101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":50301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":39001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":69401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e27e61d8-25b1-45ee-a2df-071312ba8a69'","result":{"duration":36001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":35501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":35600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":851863399,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e27e61d8-25b1-45ee-a2df-071312ba8a69'","result":{"duration":825013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":704711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":672310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":685611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":935215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":896814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":170203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":862213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":655010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":853314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":517208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":770313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:48.343 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnwateractueel\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":727711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":432106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:48.344 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":707511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":582309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:48.345 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":75801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":430507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:48.346 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":812812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":458407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:48.347 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":1474423,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:48.349 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=622a632a-c57b-44a2-83a4-e51223d5f15g#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2e31680f-68b5-4ff3-94a4-9c24109ffd5e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw-f7bb2351-9788-42ea-a58b-a5ee1842304e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw-782cab20-8328-45f1-a9b2-c27d07c14066#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":901615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e27e61d8-25b1-45ee-a2df-071312ba8a69\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":729911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e27e61d8-25b1-45ee-a2df-071312ba8a69\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":553808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":79202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:48.189 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":57101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":198803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":162903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":431707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":245604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":565109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":115602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":233804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"88a337a9-bed3-4d79-80fa-ff4b45990d7d","description":"","id":"88a337a9-bed3-4d79-80fa-ff4b45990d7d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":63201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":80001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":62701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":67901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '88a337a9-bed3-4d79-80fa-ff4b45990d7d'","result":{"duration":1703327,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":64401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":59501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":873798144,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '88a337a9-bed3-4d79-80fa-ff4b45990d7d'","result":{"duration":1112517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":4611273,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1144918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":617610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":706911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":640810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":57001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":554409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":575109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":563409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":564609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":610710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:49.079 [print] https:\/\/service.pdok.nl\/cbs\/wb2020\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":676411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":397106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:49.080 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":616409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":505808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:49.082 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":88202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":377106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:49.082 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":659010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":435707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:49.083 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":594009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:49.084 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f1859b4d-93be-4fc8-9e91-0ecc2fa0f3b3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":620710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"88a337a9-bed3-4d79-80fa-ff4b45990d7d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":753512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"88a337a9-bed3-4d79-80fa-ff4b45990d7d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":478308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":71201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:48.299 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":90101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":145903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":179003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":442707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":206203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":493508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":4601573,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":457807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"539ec652-482d-4806-a830-0458cf8be477","description":"","id":"539ec652-482d-4806-a830-0458cf8be477","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":101202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":49401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":38901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":1141118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '539ec652-482d-4806-a830-0458cf8be477'","result":{"duration":97902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":49001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":39600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":833024302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '539ec652-482d-4806-a830-0458cf8be477'","result":{"duration":765512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":639310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":616310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":603910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":637210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":643710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":603810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":650210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":627409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":371405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":462907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:49.148 [print] http:\/\/data.waterkwaliteitsportaal.nl\/inspire\/vs\/EF \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":740712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":438307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:49.149 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":868014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":570309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:49.151 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":124702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":480007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:49.151 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1072617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":440907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:49.153 [print] Informatiehuis Water \n","line":56}},{"name":"print operateson","result":{"duration":857614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:49.154 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=891ddc2d-8949-4a45-be96-c65b87c41f13&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":813113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"539ec652-482d-4806-a830-0458cf8be477\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":577109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"539ec652-482d-4806-a830-0458cf8be477\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":509408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":87701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:48.312 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":53601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":142102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":175903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":401207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":171403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":457607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":125602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":472108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"cb13a608-3d78-4f79-ba60-be63ccd6e268","description":"","id":"cb13a608-3d78-4f79-ba60-be63ccd6e268","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":68901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":43401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":37301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":35001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'cb13a608-3d78-4f79-ba60-be63ccd6e268'","result":{"duration":35300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":34001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":54001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":893798059,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cb13a608-3d78-4f79-ba60-be63ccd6e268'","result":{"duration":826113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1218719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":773812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":672910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":697811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":756812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":82801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":603909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":563609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":660011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":84101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":202403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:49.216 [print] https:\/\/service.pdok.nl\/cbs\/vk100\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":713111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":124802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:49.217 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":764212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":429007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:49.218 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":53101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":388206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:49.219 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":728912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":171403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:49.220 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":89901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:49.220 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1462bbce-ccd3-4362-83d8-4535ca8f44eb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1368022,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"cb13a608-3d78-4f79-ba60-be63ccd6e268\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":647710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"cb13a608-3d78-4f79-ba60-be63ccd6e268\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":835614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:48.354 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":62701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":266104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":58001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":337806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":46101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":371406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"KKHRN250-DXU9-167I-W6SO-8566T16B30VE","description":"","id":"kkhrn250-dxu9-167i-w6so-8566t16b30ve","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":24400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":34501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'KKHRN250-DXU9-167I-W6SO-8566T16B30VE'","result":{"duration":57701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":890257203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'KKHRN250-DXU9-167I-W6SO-8566T16B30VE'","result":{"duration":742111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":616009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":603109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":619910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":663411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":725712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":53101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":612009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":838113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":687411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":230003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":184503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:49.252 [print] https:\/\/www.broinspireservices.nl\/arcgis\/services\/inspire\/inspire_geotop_rd\/MapServer\/WMSServer?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":608009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":220303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:49.253 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":648611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":131602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:49.254 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":45901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":111502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:49.254 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":695811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":91002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:49.255 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":152802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:49.255 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=7D35598D-DFBF-C64D-0F1A-92A80A45EB14&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":683610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"KKHRN250-DXU9-167I-W6SO-8566T16B30VE\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":581509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"KKHRN250-DXU9-167I-W6SO-8566T16B30VE\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":483408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":26100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:49.090 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":55100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":61301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":103601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":434506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":63501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":393106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":46501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":81001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0080a9ce-b836-45bc-8fdf-07dcbe97101d","description":"","id":"0080a9ce-b836-45bc-8fdf-07dcbe97101d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":87502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0080a9ce-b836-45bc-8fdf-07dcbe97101d'","result":{"duration":74701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850658180,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0080a9ce-b836-45bc-8fdf-07dcbe97101d'","result":{"duration":840413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":686511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":812513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":711412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":823113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":876214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":58801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":706212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":620210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":679411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":376906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":369306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:49.951 [print] https:\/\/service.pdok.nl\/rce\/ps-ch\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":604709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":290004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:49.952 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":615309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":284505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:49.953 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":51301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":284405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:49.953 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":964015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":377306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:49.954 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":361505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:49.955 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=493ab81b-75f8-4205-b030-6b2fd9eb4295#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":714011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0080a9ce-b836-45bc-8fdf-07dcbe97101d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":3670758,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0080a9ce-b836-45bc-8fdf-07dcbe97101d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":447807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:49.158 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":66001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":296105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":59701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":354706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":46901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":381706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"081bcfff-5f66-467c-95d0-d88dcf9aa4cf","description":"","id":"081bcfff-5f66-467c-95d0-d88dcf9aa4cf","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":33200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":11301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '081bcfff-5f66-467c-95d0-d88dcf9aa4cf'","result":{"duration":67601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":1288521,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":845716102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '081bcfff-5f66-467c-95d0-d88dcf9aa4cf'","result":{"duration":752212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":779612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":634410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":605509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":673111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":670611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":544408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":588209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":577709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":93602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":510008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:50.014 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":608610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":123302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:50.015 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":858214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":101501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:50.016 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":58001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":315405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:50.016 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":888314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":103902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:50.017 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":646510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:50.018 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b3f66964-a8c1-456f-9799-9cafca2cb7b1 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":844314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"081bcfff-5f66-467c-95d0-d88dcf9aa4cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":607909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"081bcfff-5f66-467c-95d0-d88dcf9aa4cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":401006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:49.225 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":65701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":372905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":105201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":440906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":47600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":406106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"22bedc12-e9cb-4419-8e51-dfb375d46d01","description":"","id":"22bedc12-e9cb-4419-8e51-dfb375d46d01","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":25601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":33000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":16901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '22bedc12-e9cb-4419-8e51-dfb375d46d01'","result":{"duration":59101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":856906678,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '22bedc12-e9cb-4419-8e51-dfb375d46d01'","result":{"duration":821312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":823213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":662610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":810113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":767012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":929515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":81301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":747211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":654010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":615810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":104202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":254004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:50.092 [print] http:\/\/services.inspire-provincies.nl\/NaturalRiskZones\/services\/view_NZ?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":740512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":123702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:50.093 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":924414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":367406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:50.094 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":65101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":104201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:50.094 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":823913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":127902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:50.095 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":236804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:50.096 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88f76a94-ee4d-4e0c-9fde-91b692403e39&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=08af1182-91fe-4d21-aa21-ee002953c3cc&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=d91126e0-e37b-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=667ebfb0-e37c-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":805613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"22bedc12-e9cb-4419-8e51-dfb375d46d01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":726811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"22bedc12-e9cb-4419-8e51-dfb375d46d01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":513009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:49.259 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":279004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":58401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":340706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":46000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":203103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1512b29e-80d4-4677-bcae-a3f9f82a223d","description":"","id":"1512b29e-80d4-4677-bcae-a3f9f82a223d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":23000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1512b29e-80d4-4677-bcae-a3f9f82a223d'","result":{"duration":74201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":860545536,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1512b29e-80d4-4677-bcae-a3f9f82a223d'","result":{"duration":11416480,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1084017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":690011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":595210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":871814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1388422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":144002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":660310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":671111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":874114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":243604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":267804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:50.140 [print] https:\/\/service.pdok.nl\/brt\/top10nl\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":832414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":192403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:50.141 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1229619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":209303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:50.143 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":198803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":153703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:50.143 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1306721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":168702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:50.145 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":246403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:50.145 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=29d5310f-dd0d-45ba-abad-b4ffc6b8785f&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":826213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1512b29e-80d4-4677-bcae-a3f9f82a223d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":952415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1512b29e-80d4-4677-bcae-a3f9f82a223d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":7034511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":66102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:49.962 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":180803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":366106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":82701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":404806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":46601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":63801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"364c5d7a-d6ec-11ea-87d0-0242ac130003","description":"","id":"364c5d7a-d6ec-11ea-87d0-0242ac130003","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":66701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":100001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '364c5d7a-d6ec-11ea-87d0-0242ac130003'","result":{"duration":58501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":844121278,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '364c5d7a-d6ec-11ea-87d0-0242ac130003'","result":{"duration":1066217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":858114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":596710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":601310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1578125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":781912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":111502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":698311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":740511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":666011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":171203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":271205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:50.817 [print] #notpresent \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":835813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":241404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:50.818 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1364722,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":187503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:50.819 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":129202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":142102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:50.820 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":653110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":670310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:50.821 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":7041111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:50.828 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=2a379cc6-d16e-11ea-87d0-0242ac130003&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":774813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"364c5d7a-d6ec-11ea-87d0-0242ac130003\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":3159750,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"364c5d7a-d6ec-11ea-87d0-0242ac130003\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":519908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":25701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:50.030 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":68601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":421706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":62801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":379706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":47201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":1377521,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0d7ca7bc-99de-4539-af33-70b206f29355","description":"","id":"0d7ca7bc-99de-4539-af33-70b206f29355","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":28600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0d7ca7bc-99de-4539-af33-70b206f29355'","result":{"duration":107902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848185241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0d7ca7bc-99de-4539-af33-70b206f29355'","result":{"duration":919715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":630210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":583509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1300020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1296321,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":4976978,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":128802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":670910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":820813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":706211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":234504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":243604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:50.894 [print] https:\/\/service.pdok.nl\/kadaster\/adressen\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1285721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":169202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:50.895 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":636710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":183203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:50.896 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":106202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":146802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:50.896 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":621610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":183503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:50.897 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":173303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:50.897 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76091be7-358a-4a44-8182-b4139c96c6a4#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":642210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0d7ca7bc-99de-4539-af33-70b206f29355\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":811013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0d7ca7bc-99de-4539-af33-70b206f29355\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":544309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":43201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:50.100 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":66601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":369706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":108202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":523308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":48601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":101402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"95e2c712-1b91-4f24-9453-c56b95227717","description":"","id":"95e2c712-1b91-4f24-9453-c56b95227717","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":38201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '95e2c712-1b91-4f24-9453-c56b95227717'","result":{"duration":82401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":862539367,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '95e2c712-1b91-4f24-9453-c56b95227717'","result":{"duration":879614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":696011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1229120,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":629710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1171918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":817112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":221303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":700811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":668310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1406923,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":160002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":283104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:50.974 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":758412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":166303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:50.975 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":828613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":182003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:50.976 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":191203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":139402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:50.976 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":781112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":195403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:50.977 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":245204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:50.978 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f2f86edf-ac3a-48e8-9292-0544da2d7645 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":757612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"95e2c712-1b91-4f24-9453-c56b95227717\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":698311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"95e2c712-1b91-4f24-9453-c56b95227717\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":526109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":92701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:50.157 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":63801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":144702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":153302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":436506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":187603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":404406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":115302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":191803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0bb27a13-76f1-4374-8d44-76e937198e8d","description":"","id":"0bb27a13-76f1-4374-8d44-76e937198e8d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":60101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":141902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":72001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":35201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0bb27a13-76f1-4374-8d44-76e937198e8d'","result":{"duration":35601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":34900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":35000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":855879063,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0bb27a13-76f1-4374-8d44-76e937198e8d'","result":{"duration":835613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":688410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1295420,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":625210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":902215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":880914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":67001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":720012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":688411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1293020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":94301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":119202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:51.024 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-Maritieme-grenzen-Noordzee.gml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":690211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":88102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:51.025 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":803413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":94301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:51.026 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":140802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":67701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:51.026 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":763812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":112701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:51.027 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":56100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:51.027 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=a5241416-8401-4623-be61-57ef50447a41&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1029616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0bb27a13-76f1-4374-8d44-76e937198e8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":763712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0bb27a13-76f1-4374-8d44-76e937198e8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":460108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":77301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:50.849 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":72201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":178903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":228504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":554909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":211003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":456608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":112501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":162302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"6d86c14f-cccf-41e9-a58e-ead9d52ae35d","description":"","id":"6d86c14f-cccf-41e9-a58e-ead9d52ae35d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":58101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":46701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":101802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":53101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '6d86c14f-cccf-41e9-a58e-ead9d52ae35d'","result":{"duration":693911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":37401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":63401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":856310636,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6d86c14f-cccf-41e9-a58e-ead9d52ae35d'","result":{"duration":984312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":654808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1302516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":592908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":773910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":686409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":56500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":869411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":676509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1351217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":546207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":564407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:51.719 [print] http:\/\/data.waterkwaliteitsportaal.nl\/inspire\/vs\/AM \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":637808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":438006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:51.720 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":592208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":431105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:51.721 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":54001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":403405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:51.721 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":722009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":500206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:51.723 [print] Informatiehuis Water \n","line":56}},{"name":"print operateson","result":{"duration":670509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:51.723 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=110f9ec6-4464-462e-9765-83d90cefbeab&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":649108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"6d86c14f-cccf-41e9-a58e-ead9d52ae35d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":778910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"6d86c14f-cccf-41e9-a58e-ead9d52ae35d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":447706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":68801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:50.902 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":52701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":245404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":201603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":459407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":199303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":1131918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":202203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":204804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"91b1f8ca-63a0-4ce6-b7e1-456ee6945638","description":"","id":"91b1f8ca-63a0-4ce6-b7e1-456ee6945638","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":59701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":47701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":65701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":43101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '91b1f8ca-63a0-4ce6-b7e1-456ee6945638'","result":{"duration":36601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":34100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":71501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":947321606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '91b1f8ca-63a0-4ce6-b7e1-456ee6945638'","result":{"duration":954711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":858810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1495619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":919011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1063713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":777010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":42701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":753909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":583807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1214915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":127602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":129402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:51.863 [print] https:\/\/service.pdok.nl\/rvo\/schelpdierpercelen\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":650208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":108201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:51.864 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":923612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":91401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:51.865 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":308204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":92201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:51.866 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":859310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":109801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:51.867 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":718709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:51.867 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c4b4e95a-12d7-4c74-933c-cb267cfe0bcf#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":615308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"91b1f8ca-63a0-4ce6-b7e1-456ee6945638\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":831611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"91b1f8ca-63a0-4ce6-b7e1-456ee6945638\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":539606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":73501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:50.984 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":56701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":256604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":179603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":525408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":195403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":436807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":128802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":142703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"73286af2-d0f4-4a62-9455-86ffa45ef279","description":"","id":"73286af2-d0f4-4a62-9455-86ffa45ef279","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":74301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":45401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":36301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":34501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '73286af2-d0f4-4a62-9455-86ffa45ef279'","result":{"duration":34400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":33701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":70001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":893645177,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '73286af2-d0f4-4a62-9455-86ffa45ef279'","result":{"duration":556607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":659308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1243016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":581208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":666208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":682709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":747409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1428618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":636408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":448805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":653009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:51.889 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wfs\/zoutvelden_en_productieputten?service=WFS&request=GetCapabilities&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":669609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":404305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:51.890 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":644808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":372505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:51.891 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":51201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":413005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:51.892 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":662409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":440005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:51.893 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":586908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:51.893 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=e3b0da1e-0664-4025-b3f5-a54d74a26450&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":683809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"73286af2-d0f4-4a62-9455-86ffa45ef279\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":525606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"73286af2-d0f4-4a62-9455-86ffa45ef279\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1028812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:51.032 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":60501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":157702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":450907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":67201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":386606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":47701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":69101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5","description":"","id":"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":119902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5'","result":{"duration":60701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":870885839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5'","result":{"duration":635808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":629308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1180315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":646908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":912512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":802410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":686009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":603207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1279416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":89701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":145102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:51.913 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":620308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":378004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:51.914 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":669508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":81501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:51.915 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":41601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":50201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:51.915 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1060613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":472906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:51.917 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":96001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:51.917 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e1e99000-ec47-4e9f-84a5-adad24fef0dc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":735709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":674609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":540507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:51.729 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":84201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":380504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":62200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":342604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":45901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":294403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"01572637-b851-4cc3-b06a-56c1ae1115cc","description":"","id":"01572637-b851-4cc3-b06a-56c1ae1115cc","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":25400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":28300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '01572637-b851-4cc3-b06a-56c1ae1115cc'","result":{"duration":63001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":23900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852811986,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '01572637-b851-4cc3-b06a-56c1ae1115cc'","result":{"duration":917111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":639908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":695208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":979313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":963112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":941912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":51401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":766710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":620908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":687909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":98701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":369205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:52.591 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":790510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":157102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:52.592 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":752310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":149202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:52.593 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":49101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":103301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:52.593 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":851610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":144901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:52.594 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":103901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:52.595 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d9baa847-4652-4588-abe1-0b050f40f27f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":823410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"01572637-b851-4cc3-b06a-56c1ae1115cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1001213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"01572637-b851-4cc3-b06a-56c1ae1115cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":605308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":61001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:51.873 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":363804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":93301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":76201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":330804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":61600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":442206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":66801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":98802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d467c2cc-4026-b80a-d4e1a9d2bf79","description":"","id":"d467c2cc-4026-b80a-d4e1a9d2bf79","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":23401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":23100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd467c2cc-4026-b80a-d4e1a9d2bf79'","result":{"duration":78601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":855033213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd467c2cc-4026-b80a-d4e1a9d2bf79'","result":{"duration":1201815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1033313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1361117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":737510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":811110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":838411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":86001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":650308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1405317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":635808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":961912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":148202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:52.741 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/hy-n\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":673408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":166303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:52.741 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":673408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":151902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:52.742 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":67001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":124002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:52.742 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":824410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":180102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:52.743 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":132402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:52.744 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1504619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d467c2cc-4026-b80a-d4e1a9d2bf79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":782310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d467c2cc-4026-b80a-d4e1a9d2bf79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":3444943,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":46000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:51.901 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":70701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":394305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":144302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":419905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":49901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":1220115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"82fa284e-8218-40e4-a593-c2f8a832c3d5","description":"","id":"82fa284e-8218-40e4-a593-c2f8a832c3d5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":37701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '82fa284e-8218-40e4-a593-c2f8a832c3d5'","result":{"duration":385204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":11200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":877980802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '82fa284e-8218-40e4-a593-c2f8a832c3d5'","result":{"duration":816610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":641208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1154114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":566607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":672909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":747409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":832611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":687309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1199515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":438805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":555507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:52.791 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/olie_en_gasvelden?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":651608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":404605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:52.793 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":629408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":449906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:52.794 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":49101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":378805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:52.794 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":692709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":462006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:52.795 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":629708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:52.796 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=b61a773c-ecad-4e60-93e9-0a4caac0b52f&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":657208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"82fa284e-8218-40e4-a593-c2f8a832c3d5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":615908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"82fa284e-8218-40e4-a593-c2f8a832c3d5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":657609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:51.922 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":285004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":75001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":354005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":47100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":90301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0d2ca03b-fb7b-466a-bb93-e2bfb596e394","description":"","id":"0d2ca03b-fb7b-466a-bb93-e2bfb596e394","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":295504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0d2ca03b-fb7b-466a-bb93-e2bfb596e394'","result":{"duration":58301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":877439795,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0d2ca03b-fb7b-466a-bb93-e2bfb596e394'","result":{"duration":667709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":674608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1210615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":607608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1131214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":676409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":141802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":2171727,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":916212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1232516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":458306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":544807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:52.812 [print] https:\/\/inspire.caris.nl\/gs5\/pssa_nl\/ows?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":743509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":383605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:52.814 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":585808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":410605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:52.815 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":67501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":381405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:52.815 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":618608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":450406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:52.816 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":596707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:52.817 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=f1d27179-36eb-4376-8048-f51d2eb23a09&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":651909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0d2ca03b-fb7b-466a-bb93-e2bfb596e394\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":584607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0d2ca03b-fb7b-466a-bb93-e2bfb596e394\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":550307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:52.601 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":54700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":60001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":67201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":369705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":62901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":500506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":70801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":65701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"deaf8380-ad45-48d2-8c3e-81164471bafb","description":"","id":"deaf8380-ad45-48d2-8c3e-81164471bafb","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":26200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'deaf8380-ad45-48d2-8c3e-81164471bafb'","result":{"duration":56000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":860847638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'deaf8380-ad45-48d2-8c3e-81164471bafb'","result":{"duration":870712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":710609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":723610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":537107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1311817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":692110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":53601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":621909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":525307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":506807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":106101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":225103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:53.470 [print] https:\/\/service.pdok.nl\/cbs\/vk500\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":668409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":125402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:53.471 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1266517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":149302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:53.473 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":47001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":118102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:53.473 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":882112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":92101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:53.474 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":93602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:53.474 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f605a24f-60cd-4c40-94c8-2186aba3ddd0#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":644109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"deaf8380-ad45-48d2-8c3e-81164471bafb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1442219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"deaf8380-ad45-48d2-8c3e-81164471bafb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":668509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":45201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:52.755 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":59101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":89401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":73001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":427006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":66601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":417405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":47601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":129102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7af7b20d-3f8a-4d7f-8124-73980535a4f6","description":"","id":"7af7b20d-3f8a-4d7f-8124-73980535a4f6","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":34700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7af7b20d-3f8a-4d7f-8124-73980535a4f6'","result":{"duration":68701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":855029195,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7af7b20d-3f8a-4d7f-8124-73980535a4f6'","result":{"duration":942713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":691809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":648508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":730309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":687309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1628122,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":71101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":858512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":725710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":680109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":654509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":687309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:53.622 [print] https:\/\/www.broinspireservices.nl\/arcgis\/services\/inspire\/inspire_dgm_rd\/MapServer\/WMSServer?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":699809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":473706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:53.623 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":636008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":418806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:53.624 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":69801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":373505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:53.624 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":915612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":539407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:53.626 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":795311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:53.627 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=F646DFB9-5BF6-EAB9-042B-CAB6FF2DC275&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":843912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7af7b20d-3f8a-4d7f-8124-73980535a4f6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":775410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7af7b20d-3f8a-4d7f-8124-73980535a4f6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":473706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":34501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:52.801 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":66301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":314504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":78801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":363505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":64001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":393505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"bb85e473-c04a-42a6-9fdc-f0bb0239327e","description":"","id":"bb85e473-c04a-42a6-9fdc-f0bb0239327e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":24601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'bb85e473-c04a-42a6-9fdc-f0bb0239327e'","result":{"duration":56500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850902980,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bb85e473-c04a-42a6-9fdc-f0bb0239327e'","result":{"duration":761311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":668009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":748610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":722009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":998914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1025514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":82301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":739610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":729909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":741110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":232603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":194903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:53.662 [print] https:\/\/service.pdok.nl\/kadaster\/gebouwen\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":647709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":210803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:53.663 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":680909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":259304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:53.664 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":50001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":199602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:53.664 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":654508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":280903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:53.665 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":185802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:53.665 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b4ae622c-6201-49d8-bd2e-f7fce9206a1e#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":641009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"bb85e473-c04a-42a6-9fdc-f0bb0239327e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":608308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"bb85e473-c04a-42a6-9fdc-f0bb0239327e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":562608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:52.822 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":54001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":62701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":330704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":120602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":470006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":44301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":438505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"15c3c30f-0db2-4b3b-80f6-b990c8fc8225","description":"","id":"15c3c30f-0db2-4b3b-80f6-b990c8fc8225","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":23101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '15c3c30f-0db2-4b3b-80f6-b990c8fc8225'","result":{"duration":73100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":865533894,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '15c3c30f-0db2-4b3b-80f6-b990c8fc8225'","result":{"duration":855411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":641709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":635309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":607608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":733610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":847411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":36501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":754210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":717810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":762710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":83001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":356505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:53.697 [print] https:\/\/service.pdok.nl\/hwh\/hydrografie\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1063914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":125002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:53.698 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1415019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":148802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:53.700 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":405905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":84901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:53.700 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1656822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":104402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:53.702 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":349705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:53.702 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=07575774-57a1-4419-bab4-6c88fdeb02b2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1401119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"15c3c30f-0db2-4b3b-80f6-b990c8fc8225\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":724909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"15c3c30f-0db2-4b3b-80f6-b990c8fc8225\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":7006494,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:53.479 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":98202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":470706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":151802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":368705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":45600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":115402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"923a666c-ee4f-496c-8c85-94d5f81e1f30","description":"","id":"923a666c-ee4f-496c-8c85-94d5f81e1f30","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":36101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '923a666c-ee4f-496c-8c85-94d5f81e1f30'","result":{"duration":58401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":25101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":853027733,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '923a666c-ee4f-496c-8c85-94d5f81e1f30'","result":{"duration":1053114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":638409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":655109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":604008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":738110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":681709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":567408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":636009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":583508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":624908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":549607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:54.342 [print] https:\/\/inspire.caris.nl\/gs5\/am\/wfs?service=WFS&request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":716010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":412406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:54.343 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":748110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":506006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:54.344 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":62300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":586007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:54.345 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":837011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":528807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:54.346 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":696310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:54.347 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4617f0e0-6af4-4ac0-9044-31df9d03071c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":710009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"923a666c-ee4f-496c-8c85-94d5f81e1f30\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":898012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"923a666c-ee4f-496c-8c85-94d5f81e1f30\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":410305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:53.631 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":65301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":66701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":363405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":61801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":513807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":52001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":429206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a12ae6ca-b755-4707-884f-95c0d66f431a","description":"","id":"a12ae6ca-b755-4707-884f-95c0d66f431a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":25200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a12ae6ca-b755-4707-884f-95c0d66f431a'","result":{"duration":60201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":27701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":851065207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a12ae6ca-b755-4707-884f-95c0d66f431a'","result":{"duration":1017214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":993113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":630408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":658708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":780910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1487220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":74501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":749710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":802311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":778710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":703210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":768710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:54.494 [print] https:\/\/inspire.caris.nl\/gs5\/MarineRegion\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":762510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":538907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:54.496 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":829911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":162502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:54.497 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":459206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":469407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:54.497 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":704609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":501906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:54.499 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":763610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:54.499 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f44dac86-2228-412f-8355-e56446ca9933#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":777810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a12ae6ca-b755-4707-884f-95c0d66f431a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":744710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a12ae6ca-b755-4707-884f-95c0d66f431a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":546507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":41500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:53.681 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":76501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":91001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":388305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":78301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":450106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":47501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":2196930,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0fa448bb-332b-40b2-adab-13626b29bee6","description":"","id":"0fa448bb-332b-40b2-adab-13626b29bee6","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":25700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0fa448bb-332b-40b2-adab-13626b29bee6'","result":{"duration":57901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":855063161,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0fa448bb-332b-40b2-adab-13626b29bee6'","result":{"duration":725310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":588408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":650409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":598208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":672909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":610508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":50401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":521807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":592608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":572408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":2156729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":504207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:54.549 [print] https:\/\/service.pdok.nl\/kadaster\/lu\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":654909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":451406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:54.550 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":640508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":394806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:54.551 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":44500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":348105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:54.552 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":663409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":390706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:54.553 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":636808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:54.553 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=17716ed7-ce0d-4bfd-8868-a398e5578a88#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":663008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0fa448bb-332b-40b2-adab-13626b29bee6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":707509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0fa448bb-332b-40b2-adab-13626b29bee6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":520907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":25601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:53.714 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":66800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":77801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":487706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":85801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":532307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":57101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":89701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a02c6566-e0ad-4fc1-b217-67cc1099dea2","description":"","id":"a02c6566-e0ad-4fc1-b217-67cc1099dea2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":36001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":353305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":11601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a02c6566-e0ad-4fc1-b217-67cc1099dea2'","result":{"duration":89701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":861165543,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a02c6566-e0ad-4fc1-b217-67cc1099dea2'","result":{"duration":737010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":752810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":840111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":878612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":966013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":841611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":632308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":761710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":777810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":321804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":280004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:54.591 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":712810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":217903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:54.592 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":684609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":232403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:54.593 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":44100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":199103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:54.593 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":935913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":221203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:54.594 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":188003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:54.595 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8b0b02a0-1e1b-4cda-bcfe-6fa0f738e38f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":732110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a02c6566-e0ad-4fc1-b217-67cc1099dea2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":2867738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a02c6566-e0ad-4fc1-b217-67cc1099dea2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":489406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":25101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:54.352 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":145402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":345204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":79801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":437106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":82601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":464706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"fbe544b6-6e6f-43a0-80b9-ced1df78c434","description":"","id":"fbe544b6-6e6f-43a0-80b9-ced1df78c434","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":25300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'fbe544b6-6e6f-43a0-80b9-ced1df78c434'","result":{"duration":150902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":837498825,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'fbe544b6-6e6f-43a0-80b9-ced1df78c434'","result":{"duration":1115315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":911213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":683909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":719810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":741010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":679309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":636309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":571408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":619608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":101102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":432206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:55.199 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":666209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":306504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:55.200 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":732410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":329605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:55.202 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":45901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":260203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:55.202 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":709210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":390805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:55.203 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":321404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:55.203 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ad6caa40-89ab-47e3-85ab-3f8e32024a71#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":773810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"fbe544b6-6e6f-43a0-80b9-ced1df78c434\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":730309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"fbe544b6-6e6f-43a0-80b9-ced1df78c434\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":434605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":25101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:54.509 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":65801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":378805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":59700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":448306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":49101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":401306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1ff0035a-acc0-4a67-a76c-3b79646b4eef","description":"","id":"1ff0035a-acc0-4a67-a76c-3b79646b4eef","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":25300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1ff0035a-acc0-4a67-a76c-3b79646b4eef'","result":{"duration":67901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":920160432,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1ff0035a-acc0-4a67-a76c-3b79646b4eef'","result":{"duration":1069414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":668509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":596208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":586808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":700209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":834311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":42501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":717409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":684109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":956913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":195303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":846511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:55.440 [print] https:\/\/inspire.caris.nl\/server\/services\/ows\/view\/map\/amplitude-getij_IVS?request=GetCapabilities&service=WMS&version=1.3.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":703109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":171603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:55.441 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1126215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":162802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:55.442 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":43801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":7355799,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:55.449 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":2492134,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":164002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:55.452 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":401006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:55.453 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=be6551de-a709-4c6d-a5e2-f63f0cf038ba&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1662422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1ff0035a-acc0-4a67-a76c-3b79646b4eef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1050214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1ff0035a-acc0-4a67-a76c-3b79646b4eef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":5866078,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:54.558 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":68701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":63101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":315504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":57900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":350405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":46001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":406105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"91041d33-54f8-40f1-8965-a867ba00cab8","description":"","id":"91041d33-54f8-40f1-8965-a867ba00cab8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":22900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '91041d33-54f8-40f1-8965-a867ba00cab8'","result":{"duration":72001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":876909454,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '91041d33-54f8-40f1-8965-a867ba00cab8'","result":{"duration":800211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1067314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":6838491,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":827712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":760010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":814311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":53500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1934726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":654608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":582007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":2247130,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":296704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:55.454 [print] https:\/\/inspire.caris.nl\/geoserver2\/gn\/wfs?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":825811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":241904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:55.455 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":732010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":307704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:55.456 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":57701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":242403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:55.456 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":936512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":250904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:55.458 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":445306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:55.458 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/xml.metadata.get?uuid=34e95842-4e4e-46de-9198-79e8cd4d30dc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":955613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"91041d33-54f8-40f1-8965-a867ba00cab8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":692409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"91041d33-54f8-40f1-8965-a867ba00cab8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":581608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:54.601 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":67901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":54301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":64001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":381705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":2375632,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":391605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":50000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":481507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"542b330b-d3c6-4617-b97f-693e5cfd1872","description":"","id":"542b330b-d3c6-4617-b97f-693e5cfd1872","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":26700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":53400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":26001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '542b330b-d3c6-4617-b97f-693e5cfd1872'","result":{"duration":78601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":861714650,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '542b330b-d3c6-4617-b97f-693e5cfd1872'","result":{"duration":751410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":687410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":765010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":759410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":766510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":18601050,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":164502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1030514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":779511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":759610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":5399873,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1769724,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:55.500 [print] https:\/\/www.broinspireservices.nl\/wfs\/osamepl-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":940312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":451506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:55.501 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":997114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":467806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:55.503 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":175703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":371505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:55.503 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":796111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":380305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:55.504 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":399606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:55.505 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=24de356e-ec4d-4a18-9903-6401d222b77c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":755210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"542b330b-d3c6-4617-b97f-693e5cfd1872\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":583908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"542b330b-d3c6-4617-b97f-693e5cfd1872\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":576008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":26100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:55.208 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":60901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":65901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":416306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":59401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":367805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":43401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":63401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"6b608d4e-5628-4d59-97fc-0322c57357b2","description":"","id":"6b608d4e-5628-4d59-97fc-0322c57357b2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":18601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '6b608d4e-5628-4d59-97fc-0322c57357b2'","result":{"duration":110202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":841740182,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6b608d4e-5628-4d59-97fc-0322c57357b2'","result":{"duration":1236217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":677509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":660709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":614908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1003413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":696210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":118201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":714809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":803011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":676909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":188902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":363805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:56.061 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierenpercelen\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":778111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":229003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:56.062 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":2422833,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":302404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:56.065 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":106802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":250603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:56.065 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":678509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":250603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:56.066 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":233603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:56.066 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe0e1e5f-512f-4bb1-bbf8-4028d3dfa24f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":758311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"6b608d4e-5628-4d59-97fc-0322c57357b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":579108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"6b608d4e-5628-4d59-97fc-0322c57357b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":434206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":122601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:55.465 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":153502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":270904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":192802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":551108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":193903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":480506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":128902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":6190983,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ebd6ea46-ee7b-432f-83c4-058c889a790d","description":"","id":"ebd6ea46-ee7b-432f-83c4-058c889a790d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":102201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":49801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":38300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":1113415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ebd6ea46-ee7b-432f-83c4-058c889a790d'","result":{"duration":92901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":52401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":35800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":880608002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ebd6ea46-ee7b-432f-83c4-058c889a790d'","result":{"duration":790810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":762710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":724710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":768810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2324731,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1163216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":131502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":955313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":763410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":986113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":230704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1049114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:56.391 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/EnvironmentalMonitoringFacilities\\\/services\\\/download_EF?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":857812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":457606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:56.392 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":959013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":363305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:56.393 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":110102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":310304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:56.394 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":800411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":344505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:56.395 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":777510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:56.396 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=c829abeb-bfac-4224-8332-e7a9a89e692e&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=fe45c540-e37d-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1138515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ebd6ea46-ee7b-432f-83c4-058c889a790d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1238317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ebd6ea46-ee7b-432f-83c4-058c889a790d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":498407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":3548048,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:55.489 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":142902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":134502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":148702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":374505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":148602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":396605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":109702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":4052154,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"bd14098b-44e6-47e5-959d-f40dda65da5a","description":"","id":"bd14098b-44e6-47e5-959d-f40dda65da5a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":74801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":63400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":36700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":34801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'bd14098b-44e6-47e5-959d-f40dda65da5a'","result":{"duration":35000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":33501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":34200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":854664455,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bd14098b-44e6-47e5-959d-f40dda65da5a'","result":{"duration":981013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":772310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":832711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":822311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1090415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":669109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":115301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":658108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":769610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":819011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":186203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":708409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:56.362 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":699209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":159403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:56.363 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":955713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":157102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:56.364 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":440606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":218603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:56.365 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1275817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":200502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:56.366 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":1111315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:56.368 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d9baa847-4652-4588-abe1-0b050f40f27f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":763411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"bd14098b-44e6-47e5-959d-f40dda65da5a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":636808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"bd14098b-44e6-47e5-959d-f40dda65da5a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":485506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":76201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:55.509 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":48401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":120301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":144002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":339504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":143902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":387005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":109401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":331804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9ad3f0c0-9e2c-4d44-a467-b57920aa512f","description":"","id":"9ad3f0c0-9e2c-4d44-a467-b57920aa512f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":74501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":54301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":43701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":35700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9ad3f0c0-9e2c-4d44-a467-b57920aa512f'","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":33501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":34000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":893744878,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9ad3f0c0-9e2c-4d44-a467-b57920aa512f'","result":{"duration":1130715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":725410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":685909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":989114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":845811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":727310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":93702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":713109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":721109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":916212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":310204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":342805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:56.415 [print] https:\/\/geodata.nationaalgeoregister.nl\/hwh\/eenheden\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":638709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":238703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:56.416 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":761911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":292804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:56.417 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":64401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":225303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:56.417 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":735710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":262704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:56.418 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":232603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:56.418 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d4ec7e6-50ae-4c71-bd20-5b9211e2135f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":702210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9ad3f0c0-9e2c-4d44-a467-b57920aa512f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":459806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9ad3f0c0-9e2c-4d44-a467-b57920aa512f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":412606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":68701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:56.071 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":51201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":257703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":152702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":665008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":186802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":554908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":110501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":219203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5dfccef3-9b52-47f2-bb02-66b74aaf3af8","description":"","id":"5dfccef3-9b52-47f2-bb02-66b74aaf3af8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":61901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":45900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":35500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":32601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5dfccef3-9b52-47f2-bb02-66b74aaf3af8'","result":{"duration":32700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":31701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":35500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850551700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":18701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5dfccef3-9b52-47f2-bb02-66b74aaf3af8'","result":{"duration":951913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":719610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":795511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":786311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1065214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":741510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":816811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":858711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":935812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":128301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":274904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:56.934 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":783110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":127101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:56.935 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":730809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":82601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:56.935 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":146202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":121102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:56.936 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":680809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":148802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:56.937 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":181402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:56.937 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=4d514a2b-4a7e-4686-b9ea-87cb3e17ed52&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":777810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5dfccef3-9b52-47f2-bb02-66b74aaf3af8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":666309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5dfccef3-9b52-47f2-bb02-66b74aaf3af8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":448006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":43600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:56.373 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":61601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":61101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":106001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":402806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":54601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":452706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":45101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":300804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"dc9fbc85-1263-4a1b-b001-7be701a6039e","description":"","id":"dc9fbc85-1263-4a1b-b001-7be701a6039e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":23100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'dc9fbc85-1263-4a1b-b001-7be701a6039e'","result":{"duration":79701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":845883338,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dc9fbc85-1263-4a1b-b001-7be701a6039e'","result":{"duration":1089514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":656209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":736110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":856512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":713910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":633008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":629609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":715410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":570108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":478106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":543907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:57.229 [print] https:\/\/service.pdok.nl\/kadaster\/plu\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":593708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":480907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:57.230 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":602208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":394106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:57.232 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":43001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":346804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:57.232 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":666709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":91201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:57.233 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":923012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:57.233 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=17716ed7-ce0d-4bfd-8868-a398e5578a36#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":794711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"dc9fbc85-1263-4a1b-b001-7be701a6039e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1114015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"dc9fbc85-1263-4a1b-b001-7be701a6039e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":619809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:56.401 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":65701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":299304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":52501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":341105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":42601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":139102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda","description":"","id":"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":23700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c56433ca-35f2-4aaf-8bfa-35d8e0e52dda'","result":{"duration":56301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":854584954,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c56433ca-35f2-4aaf-8bfa-35d8e0e52dda'","result":{"duration":899112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":685909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":667609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":644809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":888412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":862112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":600808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":616208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":819811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":103302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":197702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:57.265 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":2931539,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":89701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:57.268 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":2349532,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":96101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:57.270 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":126202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":67701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:57.271 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":781111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":100801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:57.272 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":141902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:57.272 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=08b27bf0-e34a-4b30-9eac-5edadfb6a288 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":905212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1267917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":413906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:56.422 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":62301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":282404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":70101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":423705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":50200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":133402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"710a6a9b-c09f-4660-b15a-2d5bee27e7e3","description":"","id":"710a6a9b-c09f-4660-b15a-2d5bee27e7e3","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":24601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '710a6a9b-c09f-4660-b15a-2d5bee27e7e3'","result":{"duration":57500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":862135555,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '710a6a9b-c09f-4660-b15a-2d5bee27e7e3'","result":{"duration":855211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":590908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":578608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":655309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":639609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":613608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":538307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":657609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":571908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":87201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":717910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:57.292 [print] https:\/\/service.pdok.nl\/cbs\/gebiedsindelingen\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":823411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":1914926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:57.295 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":784611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":99601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:57.296 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":39801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":49101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:57.296 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1173816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":403005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:57.298 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":137502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:57.298 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=effe1ab0-073d-437c-af13-df5c5e07d6cd#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1235017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"710a6a9b-c09f-4660-b15a-2d5bee27e7e3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":685409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"710a6a9b-c09f-4660-b15a-2d5bee27e7e3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":803811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:56.942 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":73401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":60800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":66801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":381305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":57001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":371605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":63101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":118602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7a748a59-36f4-475b-9647-402b5ce89a1c","description":"","id":"7a748a59-36f4-475b-9647-402b5ce89a1c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":23400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7a748a59-36f4-475b-9647-402b5ce89a1c'","result":{"duration":57601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":838038732,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7a748a59-36f4-475b-9647-402b5ce89a1c'","result":{"duration":1028614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":656809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":591808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":625908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":717610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":643808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":47900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":581708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":643209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":664309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":115202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":2537534,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:57.789 [print] https:\/\/service.pdok.nl\/kadaster\/lc\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":852112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":459406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:57.792 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":675309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":490107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:57.793 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":47601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":486606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:57.794 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1146915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":472106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:57.795 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":690509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:57.796 [print] https:\/\/ngr.acceptatie.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1689d1b7-ef22-417a-becd-d8d9a8a90a10#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":719710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7a748a59-36f4-475b-9647-402b5ce89a1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":696909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7a748a59-36f4-475b-9647-402b5ce89a1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1145216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:57.239 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":111602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":64901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":363705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":55301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":421105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":42701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":532307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9ff1a13c-d1e0-4150-8523-91cb489ae1a4","description":"","id":"9ff1a13c-d1e0-4150-8523-91cb489ae1a4","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":25301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9ff1a13c-d1e0-4150-8523-91cb489ae1a4'","result":{"duration":56500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":855959872,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9ff1a13c-d1e0-4150-8523-91cb489ae1a4'","result":{"duration":1062414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":819411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":893912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":787010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1213716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":842811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":63801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1046815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":934412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":807510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":89301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":376105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:58.106 [print] https:\/\/geodata.nationaalgeoregister.nl\/atom\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":831411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":129202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:58.107 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":827111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":97501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:58.108 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":37201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":152602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:58.109 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1024914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":101301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:58.110 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":131002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:58.110 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=5a1adb58-0bbe-425d-b0fe-577a6c0a4228#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8829e5dd-c861-4639-a6c8-fdbb6e3440d2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=710c381c-ab2d-45d5-a45d-af2eba811e5f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a9b7026e-0a81-4813-93bd-ba49e6f28502#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=00d8c7c8-98ff-4b06-8f53-b44216e6e75c#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=701d4eb8-8aae-4708-bba5-3edf6987676d#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=831f7bd7-c2ae-4336-bd2f-47ab20d7cdb7#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=abaf1e22-55aa-4a11-a855-7ac963e4a82b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=07d73b60-dfd6-4c54-9c82-9fac70c6c48e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d25fe199-2430-48fd-ad57-5b5f79f73cdf#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=e536d943-ecff-4d7a-9500-cc31a263a6af#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=bbece924-9aab-4e00-8392-bce36b8f494e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=c935f2ab-9b65-4dc4-94a0-73aeb840a941#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=81ff84ec-42a4-4481-840b-12713bbb5d38#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=af0c582f-9e6b-46e6-865a-fc3a2d5289b9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=3eebf700-5abf-42e4-826c-03cfb497e366#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9d9f1738-aced-47c9-aaa0-c62474a2dcfb#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8eee71f9-9365-490d-9484-00263c6fa35c#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=4961d305-fbb5-426a-9ba3-53e1ca5f3b18#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2af8df10-81ba-434a-8125-34fe8f127cf9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=6cde2ce7-3ecd-4785-b7b8-d62c3381efe9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=3229e4d7-4bcd-4b94-819d-8e62de69ce2e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=bffcd5d9-02b4-4e7d-991f-a386611cad84#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2d3dd6d2-2d2b-4b5f-9e30-86e19ed77a56#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1038114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9ff1a13c-d1e0-4150-8523-91cb489ae1a4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1212317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9ff1a13c-d1e0-4150-8523-91cb489ae1a4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":844611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:57.277 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":64901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":504307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":55601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":344105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":69901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":107801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb","description":"","id":"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":48001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '037e55bd-a1dc-4fde-adfe-4610d3a3d5cb'","result":{"duration":86801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":857017186,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '037e55bd-a1dc-4fde-adfe-4610d3a3d5cb'","result":{"duration":677209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":648109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":730810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":932812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":688210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":683409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":40201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":730510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":613708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":653809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":74701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":80701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:58.148 [print] https:\/\/service.pdok.nl\/cbs\/pd\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":604109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":86301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:58.149 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":740710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":84001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:58.150 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":37700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":54701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:58.150 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":836411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":111002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:58.151 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":71701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:58.151 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76541ebb-a554-4540-a017-399d4bb4a860#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":704010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":484106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":426805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:57.303 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":282904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":49901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":364305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":58301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6","description":"","id":"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":64701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1a8d5470-8c5e-477a-ab6b-4893b6d21ab6'","result":{"duration":71501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":865356198,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1a8d5470-8c5e-477a-ab6b-4893b6d21ab6'","result":{"duration":745810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":697909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":670609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":735210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":805411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1172016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":53701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":584608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":640809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":609709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":88501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":117702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:58.177 [print] https:\/\/www.broinspireservices.nl\/wms\/osgebor-a-v1.0?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":670409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":90101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:58.178 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":626109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":73901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:58.179 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":70401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":65001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:58.179 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":659209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":76101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:58.180 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":52101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:58.180 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6c1cf452-8c62-4046-99ab-640a5e184f9c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":743110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":643109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":418105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:57.802 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":61401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":339604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":53600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":371005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":41401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":375805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"66805d91-a5f6-4265-bd36-ef13a429c97e","description":"","id":"66805d91-a5f6-4265-bd36-ef13a429c97e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":24401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '66805d91-a5f6-4265-bd36-ef13a429c97e'","result":{"duration":73201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849250482,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '66805d91-a5f6-4265-bd36-ef13a429c97e'","result":{"duration":1138915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":776711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":652309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":757310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":913912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":895012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":65101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":796711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":842211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":704509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":111602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":142402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:58.661 [print] https:\/\/geodata.nationaalgeoregister.nl\/bzk\/bro-bodemkaart\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1383218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":110401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:58.662 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1046914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":146501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:58.663 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":44800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":377405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:58.664 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1110115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":161602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:58.665 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":740510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:58.666 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ed960299-a147-4c1a-bc57-41ff83a2264f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":842811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"66805d91-a5f6-4265-bd36-ef13a429c97e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":703909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"66805d91-a5f6-4265-bd36-ef13a429c97e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":410406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:58.115 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":52401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":76801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":64101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":340905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":50101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":1117215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":69601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":103001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e","description":"","id":"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a299a4af-ccd8-4d32-b1fb-ffab77b32e0e'","result":{"duration":80601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":25600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":856343778,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":30301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a299a4af-ccd8-4d32-b1fb-ffab77b32e0e'","result":{"duration":1130215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":665209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":750210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":776910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":739710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":697610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":36000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":677109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":732309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":766810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":690709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":776611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:58.983 [print] https:\/\/www.broinspireservices.nl\/wfs\/osgegmw-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":754510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":430906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:58.985 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":752210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":444906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:58.986 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":46800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":376505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:58.986 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":690709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":101501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:58.987 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":761111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:58.987 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=f99e915a-75e5-4c36-97f2-61eff692d85b&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":658309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":615508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":493406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:58.155 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":315404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":52701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":354405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":42801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":60900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"37308f90-e619-4b62-ae9e-e656bb3f1649","description":"","id":"37308f90-e619-4b62-ae9e-e656bb3f1649","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '37308f90-e619-4b62-ae9e-e656bb3f1649'","result":{"duration":55100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":840457164,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":14700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '37308f90-e619-4b62-ae9e-e656bb3f1649'","result":{"duration":700209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":717310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":730110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":663909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":781111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":780811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":49500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":957912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":610708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":809011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":108501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":87102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:59.004 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":944412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":83601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:59.005 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":926412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":85602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:59.006 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":329104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":72201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:59.006 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":964313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":86102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:59.007 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":369105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:59.008 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8b0b02a0-1e1b-4cda-bcfe-6fa0f738e38f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1178116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"37308f90-e619-4b62-ae9e-e656bb3f1649\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":576808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"37308f90-e619-4b62-ae9e-e656bb3f1649\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":467606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:58.184 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":56101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":479206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":71100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":497206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":114101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":62301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"03c39474-aef9-4169-95da-9890af440b14","description":"","id":"03c39474-aef9-4169-95da-9890af440b14","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":34501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '03c39474-aef9-4169-95da-9890af440b14'","result":{"duration":54001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":869294651,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '03c39474-aef9-4169-95da-9890af440b14'","result":{"duration":948713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":749010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":787111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":858912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1098914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":840811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":628108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":722210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":905012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":81801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":760410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:59.063 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":967213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":93102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:59.064 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":922812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":87001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:59.065 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":355804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":77801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:59.066 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1162315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":89302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:59.067 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":341804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:59.068 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=08b27bf0-e34a-4b30-9eac-5edadfb6a288 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1295918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"03c39474-aef9-4169-95da-9890af440b14\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":812411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"03c39474-aef9-4169-95da-9890af440b14\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":398505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":37101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:58.674 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":75201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":80601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":87001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":492707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":62301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":470707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":245403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":96001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f61eec5c-cb91-40b6-ad35-9bca967006cc","description":"","id":"f61eec5c-cb91-40b6-ad35-9bca967006cc","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":35100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":342605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f61eec5c-cb91-40b6-ad35-9bca967006cc'","result":{"duration":84701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":855110361,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f61eec5c-cb91-40b6-ad35-9bca967006cc'","result":{"duration":987113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":751510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":668109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":824311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":754010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":661509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":625209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":637908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":821411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":100901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":594308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:59.539 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":622608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":83201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:59.540 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":908613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":83001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:59.541 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":85101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:59.542 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1102415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":107402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:59.543 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":729710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:59.544 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=588a4cb1-b442-4ac1-87e4-40401e353166#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":754910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f61eec5c-cb91-40b6-ad35-9bca967006cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":733310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f61eec5c-cb91-40b6-ad35-9bca967006cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":476007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":25100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:58.992 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":62101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":342404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":53001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":598208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":47201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":58501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"dd414384-0bcb-4188-86e2-2843e12a579e","description":"","id":"dd414384-0bcb-4188-86e2-2843e12a579e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'dd414384-0bcb-4188-86e2-2843e12a579e'","result":{"duration":71301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":926309615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dd414384-0bcb-4188-86e2-2843e12a579e'","result":{"duration":900313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":730810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1081014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":602408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":682309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":633808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":602508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":609609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":560707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":111302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":199603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:59.927 [print] https:\/\/www.broinspireservices.nl\/wfs\/ossosgm-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":619008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":75701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:59.928 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":607108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":72201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:59.928 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":84701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:59.929 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":665709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":93001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:59.929 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":146402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:59.929 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=a7fb2234-f7b4-4a03-b282-f10947f42fb1&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":766310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"dd414384-0bcb-4188-86e2-2843e12a579e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":672609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"dd414384-0bcb-4188-86e2-2843e12a579e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":412305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":27100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:59.012 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":120401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":62201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":274104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":49601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":650409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":83801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":143201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"4074b3c3-ca85-45ad-bc0d-b5fca8540z0b","description":"","id":"4074b3c3-ca85-45ad-bc0d-b5fca8540z0b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '4074b3c3-ca85-45ad-bc0d-b5fca8540z0b'","result":{"duration":72500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":948182508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4074b3c3-ca85-45ad-bc0d-b5fca8540z0b'","result":{"duration":1145815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":614009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":789810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":802510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":693510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":629108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":78001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":623808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":573008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":584408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":656209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":498907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:59.970 [print] https:\/\/service.pdok.nl\/kadaster\/adressen\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":556008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":460806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:59.971 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":542207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":407606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:59.972 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":40901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":365705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:59.972 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":896212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":378905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:59.974 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":604308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:59.974 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76091be7-358a-4a44-8182-b4139c96c6a4#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":646008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"4074b3c3-ca85-45ad-bc0d-b5fca8540z0b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":541007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"4074b3c3-ca85-45ad-bc0d-b5fca8540z0b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":397105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:59.072 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":361505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":50201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":670509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":55801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":80201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c7dad4b9-42a8-452f-a33b-d4938ed22142","description":"","id":"c7dad4b9-42a8-452f-a33b-d4938ed22142","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":23100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c7dad4b9-42a8-452f-a33b-d4938ed22142'","result":{"duration":72101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":933322310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c7dad4b9-42a8-452f-a33b-d4938ed22142'","result":{"duration":721310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":709909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":620208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":616509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":695209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":724710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":36101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1577821,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":764911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":732110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":397405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":350405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:00.016 [print] https:\/\/inspire.caris.nl\/gs5\/MarineRegion\/ows?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":790711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":259303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:00.017 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":734609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":245703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:00.018 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":59301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":137502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:00.019 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":705609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":207302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:00.020 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":182902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:00.020 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f44dac86-2228-412f-8355-e56446ca9933#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":679109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c7dad4b9-42a8-452f-a33b-d4938ed22142\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":612909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c7dad4b9-42a8-452f-a33b-d4938ed22142\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":528207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":27500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:59.548 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":62001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":353705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":372205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":52001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":380305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":54801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":93701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f5660ac6-8031-4acc-832c-1d1b82b062ba","description":"","id":"f5660ac6-8031-4acc-832c-1d1b82b062ba","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":26100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f5660ac6-8031-4acc-832c-1d1b82b062ba'","result":{"duration":85801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846221141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f5660ac6-8031-4acc-832c-1d1b82b062ba'","result":{"duration":1215616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":749510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":733810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":687509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":981013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":820311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":110201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":701710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":798611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":740810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":692409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":711309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:00.406 [print] https:\/\/www.gdngeoservices.nl\/inspire\/downloads\/services.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":847312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":1315617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:00.408 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1013213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":599108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:00.410 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":118401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":456607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:00.411 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":775910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":516507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:00.412 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":792411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:00.413 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=11a292bd-9022-4a9f-b1bf-02f5c89ad74a&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":715110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f5660ac6-8031-4acc-832c-1d1b82b062ba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":632208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f5660ac6-8031-4acc-832c-1d1b82b062ba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":469706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:59.934 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":57801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":378405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":50601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":389905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":40801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":88001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"914a6e0c-2aae-42f8-8425-2a047c245dab","description":"","id":"914a6e0c-2aae-42f8-8425-2a047c245dab","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '914a6e0c-2aae-42f8-8425-2a047c245dab'","result":{"duration":63501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850032593,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '914a6e0c-2aae-42f8-8425-2a047c245dab'","result":{"duration":1138215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":707810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":620808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":619808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":845411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":744610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":97901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":776311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":2050627,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":845312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":524007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":387305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:00.795 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b_wfs?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":851611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":308904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:00.796 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":961013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":225403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:00.797 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":207702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":175402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:00.798 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1012314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":296204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:00.799 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":267404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:00.799 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":841511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"914a6e0c-2aae-42f8-8425-2a047c245dab\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":587508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"914a6e0c-2aae-42f8-8425-2a047c245dab\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":613008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:59.978 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":71201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":291004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":48100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":354704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":377505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e222648d-d19e-4a99-a67d-2af1c9aabd75","description":"","id":"e222648d-d19e-4a99-a67d-2af1c9aabd75","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":41401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":22701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e222648d-d19e-4a99-a67d-2af1c9aabd75'","result":{"duration":64601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":854383551,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e222648d-d19e-4a99-a67d-2af1c9aabd75'","result":{"duration":658109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":635708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":600708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":594508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":848611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":730910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":90401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":662208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":672609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":802111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":164102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":602008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:00.842 [print] https:\/\/service.pdok.nl\/kadaster\/cp\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1196816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":162902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:00.843 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1044914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":150902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:00.844 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":421806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":217203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:00.845 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":729310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":196503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:00.846 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":225303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:00.847 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e80ad426-1392-4349-9f80-14dae5f1bf57#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":779110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e222648d-d19e-4a99-a67d-2af1c9aabd75\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":513707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e222648d-d19e-4a99-a67d-2af1c9aabd75\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":435406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":97701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:00.025 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":59400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":372605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":89301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":26234652,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":361405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":204003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7c664a91-1aa2-4923-9d17-6a43e4075f47","description":"","id":"7c664a91-1aa2-4923-9d17-6a43e4075f47","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":69801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":53501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":51700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":85301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7c664a91-1aa2-4923-9d17-6a43e4075f47'","result":{"duration":32500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":35101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":34100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":858793810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7c664a91-1aa2-4923-9d17-6a43e4075f47'","result":{"duration":1130215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":838711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":638809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":624308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":847612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":753010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":94301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1668922,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":690409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":703909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":351305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":305604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:00.920 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-Territoriale-Zee-Noordzee-feed.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":760410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":369405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:00.922 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":756310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":407105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:00.923 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":149902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":297004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:00.923 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":680209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":268304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:00.924 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":261503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:00.925 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=bb11be63-bd38-4632-bf54-df44c423a529#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":680209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7c664a91-1aa2-4923-9d17-6a43e4075f47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":2103528,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7c664a91-1aa2-4923-9d17-6a43e4075f47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":423606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":69601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:00.419 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":49800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":203602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":190703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":543408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":168202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":418206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":109302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":910012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7b4a0b26-5885-45cd-a99d-27887cff68e5","description":"","id":"7b4a0b26-5885-45cd-a99d-27887cff68e5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":71901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":125602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":56201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":35901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7b4a0b26-5885-45cd-a99d-27887cff68e5'","result":{"duration":36200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":70901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":74701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849133115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7b4a0b26-5885-45cd-a99d-27887cff68e5'","result":{"duration":941712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":751709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":823110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":703909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":762309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1013613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":69200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":680808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":791910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":922311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":83001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":783310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:01.279 [print] https:\/\/www.broinspireservices.nl\/wms\/ossosgm-a-v1.0?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":600807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":79801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:01.281 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1212315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":121202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:01.282 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":53900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":330204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:01.282 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":937611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":95501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:01.284 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":664908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:01.284 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=a7fb2234-f7b4-4a03-b282-f10947f42fb1&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":889011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7b4a0b26-5885-45cd-a99d-27887cff68e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":817910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7b4a0b26-5885-45cd-a99d-27887cff68e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":639808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":62401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:00.804 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":46900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":129601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":136902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":577508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":199303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":380305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":100502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":222103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a6098c24-4caf-4528-954c-672b9ec6cf78","description":"","id":"a6098c24-4caf-4528-954c-672b9ec6cf78","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":145602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":65701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":34200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":35100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a6098c24-4caf-4528-954c-672b9ec6cf78'","result":{"duration":33101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":31200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":31501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":856825399,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a6098c24-4caf-4528-954c-672b9ec6cf78'","result":{"duration":1084013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":873910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":803010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":741909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":844010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":896310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":48800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":712408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":753609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":776409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":109201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":169502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:01.672 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":757609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":93401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:01.673 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":695309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":118801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:01.674 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":60001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":55601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:01.674 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":803110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":101101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:01.675 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":52601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:01.675 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=32a21114-8694-40ce-ab76-9dcd885c7861#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":801910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a6098c24-4caf-4528-954c-672b9ec6cf78\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":725409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a6098c24-4caf-4528-954c-672b9ec6cf78\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":523306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":136802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:00.857 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":893212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":187203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":185202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":467707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":159002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":358305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":99701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":126501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"35546103-58eb-4f61-a858-a6fbc5a7e814","description":"","id":"35546103-58eb-4f61-a858-a6fbc5a7e814","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":49001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":123702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":32700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":47401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '35546103-58eb-4f61-a858-a6fbc5a7e814'","result":{"duration":31301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":29700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":29901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849196536,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '35546103-58eb-4f61-a858-a6fbc5a7e814'","result":{"duration":858611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1012212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":790310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":718808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":841910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":803210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":48100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":686808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":714209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":662308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":99201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":146802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:01.717 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":718708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":90001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:01.719 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":930811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":106002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:01.720 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":39800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":206302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:01.721 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1285816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":101001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:01.722 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":1465818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:01.724 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":828710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"35546103-58eb-4f61-a858-a6fbc5a7e814\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":686809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"35546103-58eb-4f61-a858-a6fbc5a7e814\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":481506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":61301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:00.930 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":48401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":149902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":140702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":439606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":140002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":409606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":41300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":198602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"755d488b-7b94-4883-95be-6aa279604f85","description":"","id":"755d488b-7b94-4883-95be-6aa279604f85","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":22001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '755d488b-7b94-4883-95be-6aa279604f85'","result":{"duration":52000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":861764193,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":9800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '755d488b-7b94-4883-95be-6aa279604f85'","result":{"duration":838010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":767009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":903811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":853610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":799009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":679309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":632008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":570507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":571807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":72101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":181002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:01.801 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":2111426,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":132902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:01.804 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":662408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":93201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:01.804 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":104801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:01.804 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":822810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":86101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:01.805 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":89001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:01.806 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=36a7e8cb-8300-4602-93d2-135943365a6f \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":809609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"755d488b-7b94-4883-95be-6aa279604f85\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":683009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"755d488b-7b94-4883-95be-6aa279604f85\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":397705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:01.289 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":54800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":376005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":50601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":394004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":41700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":51601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"76342a6d-452e-4e21-b5c0-81ff7b1be90e","description":"","id":"76342a6d-452e-4e21-b5c0-81ff7b1be90e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":37901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":24700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '76342a6d-452e-4e21-b5c0-81ff7b1be90e'","result":{"duration":53101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":863496130,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '76342a6d-452e-4e21-b5c0-81ff7b1be90e'","result":{"duration":965812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":607308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":817210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":740809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":864310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":697909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":579907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":533906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":881711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":101202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":198102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:02.161 [print] https:\/\/www.broinspireservices.nl\/wfs\/ossobor-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":786710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":146002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:02.162 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":651608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":93901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:02.163 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":84101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:02.163 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":732709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":94901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:02.164 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":83701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:02.164 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=9dd9bf30-36e6-45ae-b368-bdef2720bdde&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":706709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"76342a6d-452e-4e21-b5c0-81ff7b1be90e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":785709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"76342a6d-452e-4e21-b5c0-81ff7b1be90e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":670608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:01.679 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":75701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":96001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":399405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":53201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":617508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":97801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":168502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"feeae7d3-7485-4a39-895c-ed65e945ced0","description":"","id":"feeae7d3-7485-4a39-895c-ed65e945ced0","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":26900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'feeae7d3-7485-4a39-895c-ed65e945ced0'","result":{"duration":59701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":24301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":856776649,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'feeae7d3-7485-4a39-895c-ed65e945ced0'","result":{"duration":873511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":855011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":857110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":822309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":758109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":660208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":558606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":595708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":586307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":97901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":181603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:02.545 [print] https:\/\/www.broinspireservices.nl\/arcgis\/services\/inspire\/inspire_regis_rd\/MapServer\/WMSServer?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":601407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":133502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:02.546 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":721909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":156602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:02.547 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":38900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":77201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:02.547 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":714609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":103201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:02.548 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":68200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:02.548 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=E7D9F0D6-2B8D-6699-F26E-4A781228F2DD&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":860211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"feeae7d3-7485-4a39-895c-ed65e945ced0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":963812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"feeae7d3-7485-4a39-895c-ed65e945ced0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":432005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":39601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:01.728 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":54201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":60000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":62400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":361005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":52701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":450405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":45801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":72301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7a914681-61bd-4f67-902b-45037a00c469","description":"","id":"7a914681-61bd-4f67-902b-45037a00c469","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":35001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":101401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7a914681-61bd-4f67-902b-45037a00c469'","result":{"duration":57101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":843863794,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7a914681-61bd-4f67-902b-45037a00c469'","result":{"duration":825910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":770309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":717809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":813010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":851811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":792609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":667908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1037613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":736509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":99901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":276404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:02.581 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn2\\\/wms?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":739809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":281103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:02.583 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":690609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":246803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:02.584 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":41100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":164102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:02.584 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":793809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":232203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:02.585 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":171302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:02.585 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7939fd42-cf88-42c5-ab3b-232cf232a3ac#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":845810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7a914681-61bd-4f67-902b-45037a00c469\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":659908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7a914681-61bd-4f67-902b-45037a00c469\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":447105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:01.810 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":54201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":91801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":375604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":45600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":337004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":74201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"94e5b115-bece-4140-99ed-93b8f363948e","description":"","id":"94e5b115-bece-4140-99ed-93b8f363948e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '94e5b115-bece-4140-99ed-93b8f363948e'","result":{"duration":136601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":853987015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '94e5b115-bece-4140-99ed-93b8f363948e'","result":{"duration":1066213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":857510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":873211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":816510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":856610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1049712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":657408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":790010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":937711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":133001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":154002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:02.674 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn3\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1181915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":125701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:02.676 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1036813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":104301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:02.677 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":38701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":391505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:02.677 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1167214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":429805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:02.679 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":627408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:02.679 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=41daef8b-155e-4608-b49c-c87ea45d931c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":864211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"94e5b115-bece-4140-99ed-93b8f363948e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":848110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"94e5b115-bece-4140-99ed-93b8f363948e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":422905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:02.168 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":59101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":430705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":53201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":428405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":36701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":78101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"68d14b1c-71ad-4ce7-8267-45787a80c2d4","description":"","id":"68d14b1c-71ad-4ce7-8267-45787a80c2d4","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":34700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":23000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '68d14b1c-71ad-4ce7-8267-45787a80c2d4'","result":{"duration":55401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":25400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":855496534,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68d14b1c-71ad-4ce7-8267-45787a80c2d4'","result":{"duration":2041325,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":795410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1512718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1561819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1253416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1433217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1225915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1667720,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":787910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":155102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":447005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:03.039 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/ad\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1763621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":282503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:03.041 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1464817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":121002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:03.042 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":40101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":95301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:03.043 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1267616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":157102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:03.044 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":94701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:03.044 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a5f961e9-ebdd-41e2-b8e8-ab33ed340a83#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1688620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"68d14b1c-71ad-4ce7-8267-45787a80c2d4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":811810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"68d14b1c-71ad-4ce7-8267-45787a80c2d4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":438206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:02.552 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":48301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":54300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":59200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":364705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":48301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":401304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":154902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5b40b9b4-fcb2-4553-bcab-34824c43c992","description":"","id":"5b40b9b4-fcb2-4553-bcab-34824c43c992","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":40401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5b40b9b4-fcb2-4553-bcab-34824c43c992'","result":{"duration":58201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":21801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":857744660,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5b40b9b4-fcb2-4553-bcab-34824c43c992'","result":{"duration":1032712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":736508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":756709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":762009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":812010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":805510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":694408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1659220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":732809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":102702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":337504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:03.420 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ad\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":676708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":100901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:03.421 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":682908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":93301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:03.422 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":98601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:03.422 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":3844946,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":162102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:03.426 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":938611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:03.427 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a5f961e9-ebdd-41e2-b8e8-ab33ed340a83#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1014413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5b40b9b4-fcb2-4553-bcab-34824c43c992\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":787409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5b40b9b4-fcb2-4553-bcab-34824c43c992\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":466705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:02.589 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":48101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":57701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":477706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":59901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":545007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":55201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":229603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448","description":"","id":"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c3ee15e4-38bf-4d54-9c0b-cfe0e609d448'","result":{"duration":54700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":851133480,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c3ee15e4-38bf-4d54-9c0b-cfe0e609d448'","result":{"duration":793109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":807309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":798410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":867511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":919611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":811110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":821510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":796009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":773809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":80701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":159502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:03.450 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn1\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":766810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":129201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:03.451 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":831310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":76201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:03.452 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":50500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":120702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:03.452 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":914411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":154002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:03.453 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":101801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:03.453 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5a1adb58-0bbe-425d-b0fe-577a6c0a4228#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":918012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":446605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":394105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:02.684 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":76501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":381805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":52600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":409605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":398505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5523cfd7-a72c-409e-a0c7-89b858aafa64","description":"","id":"5523cfd7-a72c-409e-a0c7-89b858aafa64","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5523cfd7-a72c-409e-a0c7-89b858aafa64'","result":{"duration":57601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":861036401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5523cfd7-a72c-409e-a0c7-89b858aafa64'","result":{"duration":701809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":731009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":803009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":595007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":692208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":597308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":522007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":677308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":513306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":109601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":166202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:03.553 [print] https:\/\/service.pdok.nl\/bzk\/bro-environmental-monitoring-facilities\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":586307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":91501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:03.554 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":558306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":71101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:03.555 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":78201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:03.555 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":606907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":77301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:03.556 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":93802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:03.556 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":638807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5523cfd7-a72c-409e-a0c7-89b858aafa64\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":577506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5523cfd7-a72c-409e-a0c7-89b858aafa64\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":455505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:03.050 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":60801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":130501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":464905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":69400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":393705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":40601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":99601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"26e2e9f4-be88-4c8c-bdef-94edfa93bde9","description":"","id":"26e2e9f4-be88-4c8c-bdef-94edfa93bde9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '26e2e9f4-be88-4c8c-bdef-94edfa93bde9'","result":{"duration":57801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":862150914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '26e2e9f4-be88-4c8c-bdef-94edfa93bde9'","result":{"duration":870710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":593208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":597807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":561807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":778609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":676208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":119401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":579407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":587507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":583507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":616307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":514006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:03.921 [print] https:\/\/service.pdok.nl\/bzk\/bro-hydrogeology\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":608007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":470206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:03.922 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1574319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":525807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:03.924 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":60201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":365904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:03.925 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":803310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":505006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:03.926 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":754709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:03.927 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":782309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"26e2e9f4-be88-4c8c-bdef-94edfa93bde9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":804110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"26e2e9f4-be88-4c8c-bdef-94edfa93bde9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":420105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":45701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:03.436 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":357904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":48001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":416005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":310404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ac3a9efe-2154-4a4c-aae3-ea269044945d","description":"","id":"ac3a9efe-2154-4a4c-aae3-ea269044945d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":23900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ac3a9efe-2154-4a4c-aae3-ea269044945d'","result":{"duration":120601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":926257188,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ac3a9efe-2154-4a4c-aae3-ea269044945d'","result":{"duration":1075213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":739309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":616808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":923911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":775709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1023913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":49301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":700408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":524707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":657808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":91101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":227403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:04.372 [print] https:\/\/geodata.nationaalgeoregister.nl\/bzk\/bro-bodemkaart\/wms\/v1_0?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":623507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":114301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:04.374 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":966212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":129901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:04.375 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":386305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:04.375 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":634508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":98101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:04.376 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":39700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:04.376 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ed960299-a147-4c1a-bc57-41ff83a2264f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1319215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ac3a9efe-2154-4a4c-aae3-ea269044945d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":908411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ac3a9efe-2154-4a4c-aae3-ea269044945d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1799721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:03.457 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":54400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":299004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":494406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":115402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":80501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e258f171-6f56-4d4d-8311-027b30213c2d","description":"","id":"e258f171-6f56-4d4d-8311-027b30213c2d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":31800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":12801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e258f171-6f56-4d4d-8311-027b30213c2d'","result":{"duration":58001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":8100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":948035452,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e258f171-6f56-4d4d-8311-027b30213c2d'","result":{"duration":654408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":958912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":675308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":960012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1108413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":688108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":653607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":662908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":855210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":338204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":327404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:04.415 [print] https:\/\/service.pdok.nl\/kadaster\/cp\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":707808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":278004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:04.416 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":606407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":247403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:04.417 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":37601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":265503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:04.417 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":840111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":195702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:04.418 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":375405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:04.418 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e80ad426-1392-4349-9f80-14dae5f1bf57#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":646908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e258f171-6f56-4d4d-8311-027b30213c2d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":533506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e258f171-6f56-4d4d-8311-027b30213c2d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":463906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:03.560 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":82101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":326204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":336404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":36201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":56501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e08079df-6c19-486e-916e-5c9948cfafea","description":"","id":"e08079df-6c19-486e-916e-5c9948cfafea","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e08079df-6c19-486e-916e-5c9948cfafea'","result":{"duration":51101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":882753263,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e08079df-6c19-486e-916e-5c9948cfafea'","result":{"duration":691908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":664608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":655008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":690309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":692208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":941712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":774610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":617707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":574707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":66101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":111102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:04.451 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/su-vector\/wfs?&request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1285915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":114102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:04.452 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1030512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":111501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:04.454 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":380504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:04.454 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":972612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":95301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:04.455 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":766010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:04.456 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=10d1153e-778f-4995-9b6c-7c69b196cccb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":28095839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e08079df-6c19-486e-916e-5c9948cfafea\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":964212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e08079df-6c19-486e-916e-5c9948cfafea\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":449706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:03.931 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":54101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":57701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":363704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":47101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":397405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":36100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":123601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"88a93a3b-d522-4c5d-9b0f-c6c39a118442","description":"","id":"88a93a3b-d522-4c5d-9b0f-c6c39a118442","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":85801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":397004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '88a93a3b-d522-4c5d-9b0f-c6c39a118442'","result":{"duration":55000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":853762213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '88a93a3b-d522-4c5d-9b0f-c6c39a118442'","result":{"duration":1100813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":882710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":836111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":797409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1251816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1140114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":146201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1546218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":805709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":896211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":289804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1182014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:04.798 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/su-vector\/wms?&request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":776009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":230902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:04.799 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":936211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":657308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:04.801 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":171703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":591207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:04.802 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":904811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":317304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:04.803 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":910111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:04.804 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=10d1153e-778f-4995-9b6c-7c69b196cccb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":852811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"88a93a3b-d522-4c5d-9b0f-c6c39a118442\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":736609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"88a93a3b-d522-4c5d-9b0f-c6c39a118442\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":517106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":45301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:04.382 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":386905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":65701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":381004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":46200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":87801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d94b1eca-8a7d-4dc4-b979-36257878758f","description":"","id":"d94b1eca-8a7d-4dc4-b979-36257878758f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":32001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd94b1eca-8a7d-4dc4-b979-36257878758f'","result":{"duration":79901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850501773,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd94b1eca-8a7d-4dc4-b979-36257878758f'","result":{"duration":1292315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":690808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1646920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":688008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1116613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":767109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":98001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":784010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":720909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":789909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":238903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1143014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:05.244 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsgebiedsindelingen\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":764310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":219002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:05.246 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":716609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":214602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:05.247 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":161902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":234103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:05.248 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":692108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":205003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:05.249 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":234603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:05.249 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=effe1ab0-073d-437c-af13-df5c5e07d6cd#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":711308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d94b1eca-8a7d-4dc4-b979-36257878758f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":561107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d94b1eca-8a7d-4dc4-b979-36257878758f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":528507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:04.422 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":69300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":57100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":303904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":55301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":422405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":272503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"89b35a6c-c099-456b-8eaf-2b83c7a35c74","description":"","id":"89b35a6c-c099-456b-8eaf-2b83c7a35c74","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":36501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '89b35a6c-c099-456b-8eaf-2b83c7a35c74'","result":{"duration":54701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":895283614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '89b35a6c-c099-456b-8eaf-2b83c7a35c74'","result":{"duration":1136314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":778109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":685509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":787809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":895611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":818710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":99302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":691508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":839810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":734609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":685908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":822710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:05.328 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-np\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":760510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":453305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:05.330 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":860111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":485306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:05.331 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":125502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":415705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:05.332 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":704508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":496106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:05.333 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":884610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:05.334 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=247a1d15-0a67-40ce-85be-1403c08f15a8#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":714308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"89b35a6c-c099-456b-8eaf-2b83c7a35c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":511807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"89b35a6c-c099-456b-8eaf-2b83c7a35c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":395205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":116302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:04.488 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":83701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":136302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":197902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":596907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":152402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":477905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":128001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":210603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d7d19437-f875-45b3-86cd-2fa3335479ec","description":"","id":"d7d19437-f875-45b3-86cd-2fa3335479ec","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":142202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":386804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":38100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":30400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd7d19437-f875-45b3-86cd-2fa3335479ec'","result":{"duration":30000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":39000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":29600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":854815925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd7d19437-f875-45b3-86cd-2fa3335479ec'","result":{"duration":767109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":952712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":759809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":764210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":868510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":854811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":94701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":677508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":730709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":755010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":908311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":804910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:05.356 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-np\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":902211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":511306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:05.358 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1057913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":604208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:05.359 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":117801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":420405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:05.360 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":711608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":2910235,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:05.364 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":856310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:05.364 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=247a1d15-0a67-40ce-85be-1403c08f15a8#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":767810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d7d19437-f875-45b3-86cd-2fa3335479ec\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":512706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d7d19437-f875-45b3-86cd-2fa3335479ec\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":407205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":92001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:04.810 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":67201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":145002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":220403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":442505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":149002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":2221627,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":143202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":248303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a7aeddf2-3b37-4668-9c75-de93d9326276","description":"","id":"a7aeddf2-3b37-4668-9c75-de93d9326276","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":368205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":50901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":35000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":33301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a7aeddf2-3b37-4668-9c75-de93d9326276'","result":{"duration":68001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":36400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":33301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847372535,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a7aeddf2-3b37-4668-9c75-de93d9326276'","result":{"duration":1052112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":812509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":664409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":731509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":793909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":801109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":623507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":624307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":920611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":204203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":670208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:05.671 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-natura2000\/wms?request=Getcapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1404917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":100402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:05.672 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1164914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":127302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:05.673 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":327003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":101401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:05.674 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1115814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":101801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:05.675 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":788910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:05.676 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=280ed37a-b8d2-4ac5-8567-04d84fad3a41#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":752409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a7aeddf2-3b37-4668-9c75-de93d9326276\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":767710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a7aeddf2-3b37-4668-9c75-de93d9326276\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":379204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":98401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:05.255 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":77601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":160902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":194903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":745309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":158202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":601207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":158502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":352105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"db1e010a-96f8-453e-b63c-9c27d6273157","description":"","id":"db1e010a-96f8-453e-b63c-9c27d6273157","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":422005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":58701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":42301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":69200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'db1e010a-96f8-453e-b63c-9c27d6273157'","result":{"duration":32800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":31300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":31700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":876257584,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'db1e010a-96f8-453e-b63c-9c27d6273157'","result":{"duration":897711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":845510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":814510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":832110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1015313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":713608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":43300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":760909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":633807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":720809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":78801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":241103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:06.143 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestandbodemgebruik2015\\\/wms?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":674909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":105501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:06.144 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1376717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":116601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:06.146 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":53301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":470706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:06.146 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1812322,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":100301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:06.148 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":830710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:06.149 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d3dd6d2-2d2b-4b5f-9e30-86e19ed77a56#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1105713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"db1e010a-96f8-453e-b63c-9c27d6273157\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":714109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"db1e010a-96f8-453e-b63c-9c27d6273157\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":392105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":75901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:05.340 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":99901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":150301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":190103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":449105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":187803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":485506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":101101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":487406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"25a99d92-ea8a-4163-82ab-3521c9b0c96b","description":"","id":"25a99d92-ea8a-4163-82ab-3521c9b0c96b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":62101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":46901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":33100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":30601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '25a99d92-ea8a-4163-82ab-3521c9b0c96b'","result":{"duration":48900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":29301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":29900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":856918751,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '25a99d92-ea8a-4163-82ab-3521c9b0c96b'","result":{"duration":789310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":804510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":818910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":703009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":797309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":783709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":49801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":783210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1144114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":647408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":72101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":247103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:06.207 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestandbodemgebruik2015\\\/wfs?service=WFS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1612419,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":123901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:06.209 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":774810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":98901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:06.210 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":199802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:06.210 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":948312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":100801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:06.211 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":87801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:06.212 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d3dd6d2-2d2b-4b5f-9e30-86e19ed77a56#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":958312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"25a99d92-ea8a-4163-82ab-3521c9b0c96b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":648108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"25a99d92-ea8a-4163-82ab-3521c9b0c96b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":382205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:05.369 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":49400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":359004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":48400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":403205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":55601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":408305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a5437cb4-98ef-4c8e-a5ed-000e7a82b774","description":"","id":"a5437cb4-98ef-4c8e-a5ed-000e7a82b774","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":20600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a5437cb4-98ef-4c8e-a5ed-000e7a82b774'","result":{"duration":53801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":24200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":858192266,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a5437cb4-98ef-4c8e-a5ed-000e7a82b774'","result":{"duration":670508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":858610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":632707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":634808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":694109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":777909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":554306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":560206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":497006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":80701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":827410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:06.236 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten100mv2\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":572907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":128702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:06.237 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1159214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":100401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:06.238 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":342804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":140202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:06.239 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":629408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":112702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:06.240 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":231702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:06.240 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1462bbce-ccd3-4362-83d8-4535ca8f44eb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":690408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a5437cb4-98ef-4c8e-a5ed-000e7a82b774\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":486506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a5437cb4-98ef-4c8e-a5ed-000e7a82b774\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":356004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:05.680 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":57600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":331804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":83201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":464005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":75401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"abf1f9f0-1b85-40e8-86ec-86bee6003b4e","description":"","id":"abf1f9f0-1b85-40e8-86ec-86bee6003b4e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'abf1f9f0-1b85-40e8-86ec-86bee6003b4e'","result":{"duration":458305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849712164,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'abf1f9f0-1b85-40e8-86ec-86bee6003b4e'","result":{"duration":748609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":573707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":611408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":607207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":660208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":570407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":41800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":620908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":486706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":533906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":123202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":970812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:06.538 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten100mv2\/wms\/?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":582807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":76501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:06.539 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1068013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":107902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:06.541 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":67801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:06.541 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":868211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":100201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:06.542 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":63901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:06.542 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1462bbce-ccd3-4362-83d8-4535ca8f44eb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1615819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"abf1f9f0-1b85-40e8-86ec-86bee6003b4e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":611107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"abf1f9f0-1b85-40e8-86ec-86bee6003b4e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":388905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:06.153 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":74601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":59900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":339704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":49601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":368504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":80101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36","description":"","id":"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a2fdecfc-de33-4ce3-b935-4c9ac18c5a36'","result":{"duration":364704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":865491054,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a2fdecfc-de33-4ce3-b935-4c9ac18c5a36'","result":{"duration":1128313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":790509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":717709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":671708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":705109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":805310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":42800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":575207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":530006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":570607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":74901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":102401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:07.028 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten500mv2\/wms\/?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":742709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":80401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:07.029 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":629507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":93701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:07.030 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":186603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:07.030 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":700208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":80001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:07.031 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":182103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:07.031 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f605a24f-60cd-4c40-94c8-2186aba3ddd0#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":659108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":621107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":345705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:06.216 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":74701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":354505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":48100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":407405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":123202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f1e26638-3b45-4dd5-9ad0-f7d3654700f1","description":"","id":"f1e26638-3b45-4dd5-9ad0-f7d3654700f1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":20500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f1e26638-3b45-4dd5-9ad0-f7d3654700f1'","result":{"duration":207302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":27100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":842583477,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f1e26638-3b45-4dd5-9ad0-f7d3654700f1'","result":{"duration":776609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":824510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":572007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":841711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":714809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":700608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":561507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":758509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":536807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":135001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":370604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:07.067 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten500mv2\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":628008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":120601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:07.068 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":624208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":141202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:07.069 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":62701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":151402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:07.069 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":644707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":122102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:07.070 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":262603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:07.071 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f605a24f-60cd-4c40-94c8-2186aba3ddd0#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":658808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f1e26638-3b45-4dd5-9ad0-f7d3654700f1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":503506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f1e26638-3b45-4dd5-9ad0-f7d3654700f1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":359704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:06.243 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":54401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":340504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":403405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":72101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":76901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1601e160-91e8-4091-9aca-10294f819d42","description":"","id":"1601e160-91e8-4091-9aca-10294f819d42","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":22300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1601e160-91e8-4091-9aca-10294f819d42'","result":{"duration":234303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850033267,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1601e160-91e8-4091-9aca-10294f819d42'","result":{"duration":1058913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":859410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1408017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":783709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":868011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1007212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":48501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":739909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":619708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":667308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":530907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":554806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:07.105 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-natura2000\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":757709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":435005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:07.106 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":906711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":527907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:07.107 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":39900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":472806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:07.108 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":762109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":369704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:07.109 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":623608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:07.110 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=280ed37a-b8d2-4ac5-8567-04d84fad3a41#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":684308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1601e160-91e8-4091-9aca-10294f819d42\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":484706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1601e160-91e8-4091-9aca-10294f819d42\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":410705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:06.547 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":55500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":370205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":313803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":55201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"275b64ab-34c2-41f8-8904-97812c7f716e","description":"","id":"275b64ab-34c2-41f8-8904-97812c7f716e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '275b64ab-34c2-41f8-8904-97812c7f716e'","result":{"duration":316304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":24500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":21100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846196822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '275b64ab-34c2-41f8-8904-97812c7f716e'","result":{"duration":900611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":705209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":5361864,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":771709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":894811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":698609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":635108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":632108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":617807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":99702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":161102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:07.406 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-wl\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":762809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":74101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:07.408 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":781209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":106102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:07.409 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":663808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:07.410 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":961212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":106001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:07.411 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":614808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:07.411 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=19165027-a13a-4c19-9013-ec1fd191019d#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":602207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"275b64ab-34c2-41f8-8904-97812c7f716e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":701509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"275b64ab-34c2-41f8-8904-97812c7f716e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":466206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:07.034 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":56900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":334104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":46300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":471706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":49001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":117802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7b8f44b5-6eae-4113-a835-84b8678c3dd5","description":"","id":"7b8f44b5-6eae-4113-a835-84b8678c3dd5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":34101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":13300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7b8f44b5-6eae-4113-a835-84b8678c3dd5'","result":{"duration":138002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":24200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852750601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7b8f44b5-6eae-4113-a835-84b8678c3dd5'","result":{"duration":991512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":737809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":775109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":692509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":875110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":932712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":36700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":659707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":548806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":543207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":89401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":137902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:07.896 [print] https:\/\/service.pdok.nl\/rce\/ps-ch\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":617708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":73101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:07.897 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":621107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":121302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:07.898 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":81601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:07.898 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":659808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":133201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:07.899 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":75301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:07.899 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=493ab81b-75f8-4205-b030-6b2fd9eb4295#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":681409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7b8f44b5-6eae-4113-a835-84b8678c3dd5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":650208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7b8f44b5-6eae-4113-a835-84b8678c3dd5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":335104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:07.074 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":74301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":308703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":45701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":353204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":36300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":94701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7ab53b91-9df1-4c39-ba0e-06ec80ce512b","description":"","id":"7ab53b91-9df1-4c39-ba0e-06ec80ce512b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":183302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":94901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":11100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7ab53b91-9df1-4c39-ba0e-06ec80ce512b'","result":{"duration":60701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846547625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7ab53b91-9df1-4c39-ba0e-06ec80ce512b'","result":{"duration":608808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":649208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":882511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":730009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":730608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":677308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":556407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":521607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":560907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":189102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":259903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:07.929 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-cdda\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":694008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":258503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:07.930 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":673009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":183002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:07.931 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":145301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:07.931 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":660408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":184302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:07.932 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":133402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:07.932 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=3387ef8a-9237-453a-aa4e-585d1e193550#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":632607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7ab53b91-9df1-4c39-ba0e-06ec80ce512b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":449806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7ab53b91-9df1-4c39-ba0e-06ec80ce512b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":364704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:07.114 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":73101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":357205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":47700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":412005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":434105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"35359958-c40a-486f-9cf5-567a94de905e","description":"","id":"35359958-c40a-486f-9cf5-567a94de905e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":37100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '35359958-c40a-486f-9cf5-567a94de905e'","result":{"duration":97201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":23600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":854228518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":10601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '35359958-c40a-486f-9cf5-567a94de905e'","result":{"duration":767209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":689408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":775309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":760609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":831010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":855610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":734409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":591007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":753109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":96901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":586007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:07.978 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestuurlijkegrenzen\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":684508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":398205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:07.979 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":626408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":384504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:07.980 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":40100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":419005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:07.981 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":840611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":402204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:07.982 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":692308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:07.983 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe24c2a7-b121-4177-887a-fa16d943729b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":767509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"35359958-c40a-486f-9cf5-567a94de905e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":611108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"35359958-c40a-486f-9cf5-567a94de905e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":413405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:07.415 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":78501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":93002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":412905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":48600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":380804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":52901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":79701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa","description":"","id":"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa'","result":{"duration":202103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":854682624,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa'","result":{"duration":1002312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":634907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":654108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":626108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":687408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":585607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":721708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":618508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":600407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":138902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":816110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:08.280 [print] https:\/\/service.pdok.nl\/kadaster\/lc\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":665808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":145702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:08.281 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":892711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":97401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:08.283 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":513706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:08.283 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":685409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":95601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:08.284 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":799010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:08.285 [print] https:\/\/ngr.acceptatie.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1689d1b7-ef22-417a-becd-d8d9a8a90a10#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":630608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":603707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":386605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:07.903 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":67301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":69001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":352004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":335204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":36501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":155802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"25c69c01-8dfa-406f-bbcb-24feba25dcc6","description":"","id":"25c69c01-8dfa-406f-bbcb-24feba25dcc6","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":22900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":62201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":13000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '25c69c01-8dfa-406f-bbcb-24feba25dcc6'","result":{"duration":76100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":876591988,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '25c69c01-8dfa-406f-bbcb-24feba25dcc6'","result":{"duration":1184414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1052413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":959211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":895111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":813610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":819510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":713408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":570507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":658408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":97501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1151214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:08.790 [print] https:\/\/geodata.nationaalgeoregister.nl\/provincies\/ps\/wms\/v1?SERVICE=WMS&REQUEST=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":718609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":105601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:08.791 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1085014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":81601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:08.792 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":477406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:08.793 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1043813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":174602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:08.794 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":450506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:08.794 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=49ab8bee-b467-486a-96ca-b950443c453a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1395717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"25c69c01-8dfa-406f-bbcb-24feba25dcc6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":642208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"25c69c01-8dfa-406f-bbcb-24feba25dcc6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":359604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:07.936 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":65501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":284003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":314104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":157902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c6fa88ab-e440-414b-a773-793c4ce6d8df","description":"","id":"c6fa88ab-e440-414b-a773-793c4ce6d8df","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":12801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c6fa88ab-e440-414b-a773-793c4ce6d8df'","result":{"duration":75201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":864465242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c6fa88ab-e440-414b-a773-793c4ce6d8df'","result":{"duration":775409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":924511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":790810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":838310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":902611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":896511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":65600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1167314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":769109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1502019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":136302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":116101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:08.811 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestuurlijkegrenzen\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":937912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":114301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:08.812 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":749309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":100802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:08.813 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":64401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:08.813 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1179314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":140202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:08.814 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":88501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:08.814 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe24c2a7-b121-4177-887a-fa16d943729b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1553218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c6fa88ab-e440-414b-a773-793c4ce6d8df\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":676208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c6fa88ab-e440-414b-a773-793c4ce6d8df\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":417405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:07.987 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":94001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":59501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":404305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":47400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":354105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":36300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":402805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"bc0b75c6-3eef-49de-aca2-8483024903c1","description":"","id":"bc0b75c6-3eef-49de-aca2-8483024903c1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":20601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'bc0b75c6-3eef-49de-aca2-8483024903c1'","result":{"duration":52101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846850529,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bc0b75c6-3eef-49de-aca2-8483024903c1'","result":{"duration":663808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":678908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":627208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":667708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":786310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":818310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":25974914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1428217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":722309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":148402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":230303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:08.869 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-wl\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1048513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":185002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:08.870 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":809310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":183002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:08.872 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":246003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":172502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:08.872 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":908111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":339104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:08.873 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":195202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:08.874 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=19165027-a13a-4c19-9013-ec1fd191019d#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1268816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"bc0b75c6-3eef-49de-aca2-8483024903c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":654708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"bc0b75c6-3eef-49de-aca2-8483024903c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":512106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":339404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:08.289 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":71901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":106001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":353104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":45100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":369604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":84301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506","description":"","id":"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'caeb52a3-cbaa-4e9b-a23e-d4dc0335b506'","result":{"duration":67301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":23900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":838433348,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":20000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'caeb52a3-cbaa-4e9b-a23e-d4dc0335b506'","result":{"duration":1034913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":642308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":586808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":606608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":960712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":767309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":101101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":584508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":682808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":641209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":138401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":2231127,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:09.139 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2020\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":764709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":220103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:09.140 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":665909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":285603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:09.141 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":96902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":129101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:09.141 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":682608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":245303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:09.142 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":170503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:09.142 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f1859b4d-93be-4fc8-9e91-0ecc2fa0f3b3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1025913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":630408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":388605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:08.799 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":83801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":390905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":45100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":413205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":61501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f917ffa9-1531-48ea-867e-0d413d85b05a","description":"","id":"f917ffa9-1531-48ea-867e-0d413d85b05a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":23400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f917ffa9-1531-48ea-867e-0d413d85b05a'","result":{"duration":77901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":868839356,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f917ffa9-1531-48ea-867e-0d413d85b05a'","result":{"duration":1037613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":588807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":616207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":559807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":790410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":944412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":83701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":2107527,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":636408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":637408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":176102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":231603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:09.686 [print] https:\/\/geodata.nationaalgeoregister.nl\/digitaaltopografischbestand\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":762810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":232703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:09.687 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":793910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":129102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:09.688 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":104301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":115101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:09.688 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":781610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":221303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:09.689 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":114301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:09.689 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4b137b8-2317-42c2-aced-204c4216d68d&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4bed072-0fda-47b8-96fa-457a938b88fc&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=3229e4d7-4bcd-4b94-819d-8e62de69ce2e&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":713609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f917ffa9-1531-48ea-867e-0d413d85b05a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":595607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f917ffa9-1531-48ea-867e-0d413d85b05a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":504507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:08.819 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":1066412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":70300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":448805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":56000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"03c48a93-1e31-4c69-92c6-9a7efecf67a9","description":"","id":"03c48a93-1e31-4c69-92c6-9a7efecf67a9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":12500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '03c48a93-1e31-4c69-92c6-9a7efecf67a9'","result":{"duration":75500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":883407044,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '03c48a93-1e31-4c69-92c6-9a7efecf67a9'","result":{"duration":799910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":653609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":607607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":583508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":702309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":697809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":107301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":677809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":724509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":840711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":157102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":147702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:09.712 [print] https:\/\/geodata.nationaalgeoregister.nl\/digitaaltopografischbestand\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":690809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":162502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:09.712 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":912312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":168602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:09.714 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":101201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":121202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:09.714 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":707709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":156602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:09.715 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":114502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:09.715 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4b137b8-2317-42c2-aced-204c4216d68d&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4bed072-0fda-47b8-96fa-457a938b88fc&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=3229e4d7-4bcd-4b94-819d-8e62de69ce2e&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":786410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"03c48a93-1e31-4c69-92c6-9a7efecf67a9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":541307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"03c48a93-1e31-4c69-92c6-9a7efecf67a9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":401905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":76201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:08.879 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":45101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":164402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":167202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":420305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":126402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":451806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":88501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":173402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3ac5737f-55ed-455d-8350-44af11b67fc3","description":"","id":"3ac5737f-55ed-455d-8350-44af11b67fc3","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":159602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":45601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":28400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":26101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3ac5737f-55ed-455d-8350-44af11b67fc3'","result":{"duration":30900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":26600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":27400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":853043190,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3ac5737f-55ed-455d-8350-44af11b67fc3'","result":{"duration":623207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":592208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":591207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":554907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":756909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":678109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":100601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":522707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":552807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":510507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":72901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":96601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:09.740 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2019\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":634308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":91901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:09.741 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":618908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":69101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:09.742 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":44100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:09.742 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":603708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":70801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:09.743 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":47101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:09.743 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5c37d29a-006d-4136-8989-adfc35a1d4a7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":580107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3ac5737f-55ed-455d-8350-44af11b67fc3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":2011225,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3ac5737f-55ed-455d-8350-44af11b67fc3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":412005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":98201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:09.148 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":178303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":170202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":127102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":674408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":183102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":470706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":93001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":179303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a035801a-3256-4a36-9f81-02421aacee17","description":"","id":"a035801a-3256-4a36-9f81-02421aacee17","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":57901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":42401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":28600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":27800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a035801a-3256-4a36-9f81-02421aacee17'","result":{"duration":29601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":43900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":32301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":856776325,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a035801a-3256-4a36-9f81-02421aacee17'","result":{"duration":1140714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":648108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":661708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":984513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":983712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":680209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":605808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":571307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":574508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":92701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":113601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:10.015 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2018\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1428617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":94501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:10.016 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1002813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":99501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:10.017 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":51601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":79701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:10.018 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":884811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":96601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:10.019 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":46101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:10.019 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ffefc3dc-dc8f-4589-ae22-a60bebcdf5cb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1276116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a035801a-3256-4a36-9f81-02421aacee17\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":647808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a035801a-3256-4a36-9f81-02421aacee17\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":453205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":57101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:09.694 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":124701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":162202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":390905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":118702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":453506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":111501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":171202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"feabca04-e3fd-4802-96f2-583d328e30ad","description":"","id":"feabca04-e3fd-4802-96f2-583d328e30ad","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":95901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":38901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":26800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":43301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'feabca04-e3fd-4802-96f2-583d328e30ad'","result":{"duration":25700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":35701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":25800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847290907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'feabca04-e3fd-4802-96f2-583d328e30ad'","result":{"duration":944312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":720909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":668508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":640108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":724009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":705809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":667408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":632208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":634008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":148202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":145802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:10.550 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2018\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":795410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":130902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:10.551 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":763909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":112502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:10.552 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":44601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:10.552 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":924012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":87401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:10.553 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":41601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:10.553 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ffefc3dc-dc8f-4589-ae22-a60bebcdf5cb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":706509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"feabca04-e3fd-4802-96f2-583d328e30ad\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":755409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"feabca04-e3fd-4802-96f2-583d328e30ad\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":454605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":62501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:09.721 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":116702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":219303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":382905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":137002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":495106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":105601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":151202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5be14ec9-9bb3-4395-a061-e7e78d04a527","description":"","id":"5be14ec9-9bb3-4395-a061-e7e78d04a527","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":43101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":33700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":27100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":24600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5be14ec9-9bb3-4395-a061-e7e78d04a527'","result":{"duration":25201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":24600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":24601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":860959177,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5be14ec9-9bb3-4395-a061-e7e78d04a527'","result":{"duration":872211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":897311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":851911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":768209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":807311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":928411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":957512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":672008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1731322,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":153302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":217503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:10.593 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/bu\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1502919,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":176002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:10.595 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":848911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":128002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:10.596 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":211603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:10.596 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1086114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":116101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:10.597 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":110302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:10.597 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b4ae622c-6201-49d8-bd2e-f7fce9206a1e#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1130414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5be14ec9-9bb3-4395-a061-e7e78d04a527\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":724609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5be14ec9-9bb3-4395-a061-e7e78d04a527\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":471106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:09.747 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":43501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":47901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":267703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":349204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":52801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c474b492-da63-4a33-9bdd-b3709ce2cd6c","description":"","id":"c474b492-da63-4a33-9bdd-b3709ce2cd6c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":12800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c474b492-da63-4a33-9bdd-b3709ce2cd6c'","result":{"duration":46401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":863467109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c474b492-da63-4a33-9bdd-b3709ce2cd6c'","result":{"duration":1059613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":854411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":928312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":754109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":828711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":936112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":794310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":852710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":688308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":83001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":103502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:10.620 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholnacht\/v2\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":890411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":90101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:10.621 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":763009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":140502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:10.622 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":52900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:10.622 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1042813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":90701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:10.623 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":53801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:10.623 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=58d39928-f502-48c9-a8c1-03244dc181bf#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":796410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c474b492-da63-4a33-9bdd-b3709ce2cd6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":431305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c474b492-da63-4a33-9bdd-b3709ce2cd6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":325304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":35000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:10.024 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":63301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":53501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":403205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":61401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":480806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":50801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":84201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"74620aa8-4fa2-414d-8350-50d93e500da8","description":"","id":"74620aa8-4fa2-414d-8350-50d93e500da8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":39900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":395905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '74620aa8-4fa2-414d-8350-50d93e500da8'","result":{"duration":88401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":83101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848012416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '74620aa8-4fa2-414d-8350-50d93e500da8'","result":{"duration":1175314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":927411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":946412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":987913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":860111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":826210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":644408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":666308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":672808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":89601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":187503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:10.883 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rwsgeluidskaarten\\\/wfs?service=WFS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1307617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":166302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:10.884 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1141114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":90301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:10.885 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":38600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":502607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:10.886 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1080613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":132101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:10.887 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":67401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:10.887 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=50eef6be-619d-4e16-9b92-48971109b636\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=8de2f5eb-b09f-4f6d-8397-8878a1b86238\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf8\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf36\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf9\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf38\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2817635,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"74620aa8-4fa2-414d-8350-50d93e500da8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":735009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"74620aa8-4fa2-414d-8350-50d93e500da8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":461206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":34001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:10.558 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":68801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":446906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":79601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":369505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":92701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d","description":"","id":"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":30600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":29300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '4b6752ae-65d6-44b5-98ef-1fc30f4fd92d'","result":{"duration":68101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850331144,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4b6752ae-65d6-44b5-98ef-1fc30f4fd92d'","result":{"duration":1111614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":819310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":890911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":818410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":952412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":863111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":39900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":612508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":605008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":677308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":124102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":479206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:11.418 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rwsgeluidskaarten\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":859111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":327104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:11.419 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1073013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":375105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:11.420 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":60801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":126901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:11.421 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1239415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":187103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:11.422 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":355404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:11.423 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf8#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf36#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf38#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=50eef6be-619d-4e16-9b92-48971109b636#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8de2f5eb-b09f-4f6d-8397-8878a1b86238#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":883611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":792809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":481406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:10.602 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":50900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":70901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":435206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":45400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":475605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":408205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"027e3f15-3b58-4570-97bb-779ce3ca947e","description":"","id":"027e3f15-3b58-4570-97bb-779ce3ca947e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":34800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":108802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '027e3f15-3b58-4570-97bb-779ce3ca947e'","result":{"duration":123201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":859310357,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '027e3f15-3b58-4570-97bb-779ce3ca947e'","result":{"duration":871011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":757510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":634108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":697209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":647508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":619607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":544407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":580707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":563007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":91201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":209702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:11.470 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2019\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":674308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":138502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:11.471 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":607008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":77801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:11.472 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":84001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:11.472 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":618807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":94902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:11.473 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":85401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:11.473 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5c37d29a-006d-4136-8989-adfc35a1d4a7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":647508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"027e3f15-3b58-4570-97bb-779ce3ca947e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":596008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"027e3f15-3b58-4570-97bb-779ce3ca947e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":442905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:10.627 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":50301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":52901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":354704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":46001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":415805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":43901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":45301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ce963e61-779f-470f-a99d-48d9796e5ba3","description":"","id":"ce963e61-779f-470f-a99d-48d9796e5ba3","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ce963e61-779f-470f-a99d-48d9796e5ba3'","result":{"duration":54001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":893534585,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ce963e61-779f-470f-a99d-48d9796e5ba3'","result":{"duration":921311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":689009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":708109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":677409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":752409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":774310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":644809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":617607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":792210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":1138414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":138702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:11.530 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/gn\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":904611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":112902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:11.531 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":697709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":137102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:11.532 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":37500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":93301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:11.532 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":814610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":172002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:11.533 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":87701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:11.533 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=1a40eb6f-4f33-4e15-a0b1-2d350ad2636e#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":737009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ce963e61-779f-470f-a99d-48d9796e5ba3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":972212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ce963e61-779f-470f-a99d-48d9796e5ba3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1868624,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:10.894 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":59900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":1667520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":59900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":448905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":66401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"6a129fd1-0988-4b8a-975a-6ff134b6754a","description":"","id":"6a129fd1-0988-4b8a-975a-6ff134b6754a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":38600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":41000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '6a129fd1-0988-4b8a-975a-6ff134b6754a'","result":{"duration":67101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":841791638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6a129fd1-0988-4b8a-975a-6ff134b6754a'","result":{"duration":901112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":749109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":689309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":710209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1056513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":886112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":115301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":717809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":712509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":746109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":452206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":298504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:11.747 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegennacht\/v1\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":935012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":346105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:11.748 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":837110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":334604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:11.750 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":39100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":244604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:11.750 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":775409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":267304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:11.751 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":251003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:11.751 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=002d9127-c16d-4b8d-9f5e-102a8c8e36c4#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":713709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"6a129fd1-0988-4b8a-975a-6ff134b6754a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":947912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"6a129fd1-0988-4b8a-975a-6ff134b6754a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":618908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":37100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:11.427 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":50001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":72801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":71501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":337604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":45801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":498106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":60601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":121002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"42f5363b-cea7-4163-a4e9-bc2d1a7a243c","description":"","id":"42f5363b-cea7-4163-a4e9-bc2d1a7a243c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '42f5363b-cea7-4163-a4e9-bc2d1a7a243c'","result":{"duration":52300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":861494684,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '42f5363b-cea7-4163-a4e9-bc2d1a7a243c'","result":{"duration":1063013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":710909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":872111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":725109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":937012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":797210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":49101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":855611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":674108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":669908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":138802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1045713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:12.299 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegennacht\/v1\/wfs?service=WFS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":718709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":112202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:12.300 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1008313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":130601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:12.301 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":355104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:12.302 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":959912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":112801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:12.303 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":703309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:12.303 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=002d9127-c16d-4b8d-9f5e-102a8c8e36c4#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":653708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"42f5363b-cea7-4163-a4e9-bc2d1a7a243c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":770410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"42f5363b-cea7-4163-a4e9-bc2d1a7a243c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":412605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:11.476 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":56600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":54701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":375105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":49001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":419805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":113701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7827b68f-647e-46cc-a02a-cac48eaa5dda","description":"","id":"7827b68f-647e-46cc-a02a-cac48eaa5dda","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":32701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7827b68f-647e-46cc-a02a-cac48eaa5dda'","result":{"duration":71501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":923407759,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7827b68f-647e-46cc-a02a-cac48eaa5dda'","result":{"duration":786110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":652808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":638008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":632607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":683308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":770810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":65301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":569507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":601608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":561007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":87801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":772610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:12.408 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholnacht\/v2\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":593708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":121101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:12.409 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1085014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":612408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:12.411 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":51401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":89501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:12.411 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1151615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":94601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:12.412 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":708609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:12.413 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=58d39928-f502-48c9-a8c1-03244dc181bf#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":958412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7827b68f-647e-46cc-a02a-cac48eaa5dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1883924,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7827b68f-647e-46cc-a02a-cac48eaa5dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":376905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:11.539 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":50601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":302404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":356904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":92601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a1ed8a00-da07-472e-9627-99175d437c94","description":"","id":"a1ed8a00-da07-472e-9627-99175d437c94","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a1ed8a00-da07-472e-9627-99175d437c94'","result":{"duration":50100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":21900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":924490473,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a1ed8a00-da07-472e-9627-99175d437c94'","result":{"duration":719309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":781110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":935412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":720109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":745410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":710609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":674709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":768410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":773910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":641908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":546907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:12.473 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholetmaal\/v2\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":709909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":361605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:12.474 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":710109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":404805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:12.475 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":40001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":406905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:12.476 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":743609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":404805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:12.477 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":752009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:12.478 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=83dab947-387b-49df-8ad2-32bb10d46d38#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":728709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a1ed8a00-da07-472e-9627-99175d437c94\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":576608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a1ed8a00-da07-472e-9627-99175d437c94\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":375205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:11.756 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":113102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":402305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":46000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":379104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":36101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":261103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a","description":"","id":"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a'","result":{"duration":70301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846863101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a'","result":{"duration":960412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":746210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":639708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":709809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":753609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":884711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":48000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":642808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":688408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":674109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":690409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":4053750,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:12.616 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholetmaal\/v2\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":829410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":592708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:12.617 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":597807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":437606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:12.619 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":38200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":351204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:12.619 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":770310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":442705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:12.620 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":637308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:12.621 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=83dab947-387b-49df-8ad2-32bb10d46d38#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":778909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":677209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":393905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:12.307 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":105902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":92501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":385905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":1404317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":56101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":189003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a9a8e1cf-3f4e-4067-9842-ea2a6f2d2ed9","description":"","id":"a9a8e1cf-3f4e-4067-9842-ea2a6f2d2ed9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":36600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":383405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":22001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a9a8e1cf-3f4e-4067-9842-ea2a6f2d2ed9'","result":{"duration":103101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":868693975,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a9a8e1cf-3f4e-4067-9842-ea2a6f2d2ed9'","result":{"duration":1042013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":730410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":576507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":514707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":725009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":550507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":466906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":481006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":622007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":409706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":314104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:13.186 [print] https:\/\/service.pdok.nl\/kadaster\/lu\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":598907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":69601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:13.187 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":636608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":69601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:13.188 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":150702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:13.188 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":915811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":194302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:13.189 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":175602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:13.189 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=17716ed7-ce0d-4bfd-8868-a398e5578a88#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":695209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a9a8e1cf-3f4e-4067-9842-ea2a6f2d2ed9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":23856699,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a9a8e1cf-3f4e-4067-9842-ea2a6f2d2ed9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":818910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:12.419 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":92101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":340504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":60900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":388204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":216903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7e87a655-c4eb-404d-9d0a-efa2dccef7cc","description":"","id":"7e87a655-c4eb-404d-9d0a-efa2dccef7cc","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":30000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7e87a655-c4eb-404d-9d0a-efa2dccef7cc'","result":{"duration":56100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848116317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7e87a655-c4eb-404d-9d0a-efa2dccef7cc'","result":{"duration":1100814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":866811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":851311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":679108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":802410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":915612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":119402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":747109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":712009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":706308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":630208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":284804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:13.277 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/gn\/wfs?&request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":915612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":395805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:13.278 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":894311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":449006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:13.280 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":106701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":394805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:13.280 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":924911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":346705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:13.282 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":353604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:13.282 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=1a40eb6f-4f33-4e15-a0b1-2d350ad2636e#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":958512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7e87a655-c4eb-404d-9d0a-efa2dccef7cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":555907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7e87a655-c4eb-404d-9d0a-efa2dccef7cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1278516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:12.482 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":65401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":67301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":291003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":347905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":36200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":388405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"62dc32f1-853c-416a-876b-6e083554f1b6","description":"","id":"62dc32f1-853c-416a-876b-6e083554f1b6","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '62dc32f1-853c-416a-876b-6e083554f1b6'","result":{"duration":72401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":899305557,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '62dc32f1-853c-416a-876b-6e083554f1b6'","result":{"duration":877711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":906711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":810110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":707608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1110113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":805710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":87701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":636508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":708409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":810911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":181802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":397905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:13.391 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegenetmaal\/v1\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":793010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":437806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:13.392 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":689709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":391905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:13.393 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":93201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":296404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:13.394 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":781110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":324304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:13.395 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":318604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:13.395 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c3c004ad-5387-4b00-a225-9afbcaa5d31b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":665708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"62dc32f1-853c-416a-876b-6e083554f1b6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":498306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"62dc32f1-853c-416a-876b-6e083554f1b6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":385705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:12.625 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":303204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":335004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":367005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9c4862c3-0bab-49c3-bc2f-ac5486826766","description":"","id":"9c4862c3-0bab-49c3-bc2f-ac5486826766","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":34200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9c4862c3-0bab-49c3-bc2f-ac5486826766'","result":{"duration":47600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":886689299,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9c4862c3-0bab-49c3-bc2f-ac5486826766'","result":{"duration":2449430,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2815836,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":3117039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":3164940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":3485244,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":3383142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":906011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":2443931,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":2352529,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":2576432,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":493306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":415105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:13.542 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsoorten\\\/v2\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":9038813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":349904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:13.551 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":2313728,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":247503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:13.554 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":108701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":216803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:13.554 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":3425643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":230503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:13.558 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":201303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:13.558 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=28c4780a-1a44-4376-b283-14a50a481729#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":3167340,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9c4862c3-0bab-49c3-bc2f-ac5486826766\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":590607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9c4862c3-0bab-49c3-bc2f-ac5486826766\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":463906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":96001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:13.218 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":55501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":166602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":450706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":810811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":145902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":522906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":95002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":389805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9c5351c8-d8f4-41c2-9642-42a63496a6fe","description":"","id":"9c5351c8-d8f4-41c2-9642-42a63496a6fe","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":91501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":39101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":27600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":25600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9c5351c8-d8f4-41c2-9642-42a63496a6fe'","result":{"duration":24701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":24800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":24301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":867832163,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9c5351c8-d8f4-41c2-9642-42a63496a6fe'","result":{"duration":1524719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1925624,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1788223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1629620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2018525,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1832023,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":88201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1374217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1149214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1333017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":273103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":194203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:14.105 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebiedtypen\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1300716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":185803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:14.107 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1924124,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":219203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:14.109 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":93001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":169502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:14.109 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":2116426,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":185603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:14.111 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":179102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:14.112 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=03671a9e-6aaf-464d-be99-9aad25cef9e3 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2052826,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9c5351c8-d8f4-41c2-9642-42a63496a6fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":606408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9c5351c8-d8f4-41c2-9642-42a63496a6fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":345504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":70501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:13.288 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":120501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":119802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":398505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":136402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":408805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":184702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":522306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"4f4c7848-1767-4c67-be08-87d45d07f313","description":"","id":"4f4c7848-1767-4c67-be08-87d45d07f313","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":54401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":36400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":26700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":25100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '4f4c7848-1767-4c67-be08-87d45d07f313'","result":{"duration":25201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":24000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":24201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":886806801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4f4c7848-1767-4c67-be08-87d45d07f313'","result":{"duration":2329629,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2860836,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":3935950,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":2980237,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":3079539,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":2674333,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1670221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1631421,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":2107226,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":282904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":372704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:14.201 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebieden\\\/v2\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1975824,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":212103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:14.203 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1937525,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":199002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:14.205 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":54001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":217503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:14.206 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":2644033,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":317204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:14.209 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":206503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:14.209 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f273941e-9c3b-43bc-b886-2d50d0bf9348#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2759935,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"4f4c7848-1767-4c67-be08-87d45d07f313\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":554207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"4f4c7848-1767-4c67-be08-87d45d07f313\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":366204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":55701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:13.400 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":44700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":125001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":256503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":541506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":250303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":525006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":115001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":186802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"82541a1f-2e4e-459f-ab2f-e97cac3ad040","description":"","id":"82541a1f-2e4e-459f-ab2f-e97cac3ad040","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":234503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":49000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":78001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":32100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '82541a1f-2e4e-459f-ab2f-e97cac3ad040'","result":{"duration":57101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":27200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":39500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":874882052,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '82541a1f-2e4e-459f-ab2f-e97cac3ad040'","result":{"duration":1531020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2144127,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":2209127,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1955624,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1947025,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":2264428,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":49401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1291716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1242116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1309616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":241603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":153902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:14.294 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebiedtypen\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1325517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":67801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:14.296 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1303716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":73801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:14.297 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":90501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:14.297 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":2085926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":159602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:14.299 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":98901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:14.300 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=03671a9e-6aaf-464d-be99-9aad25cef9e3 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1963824,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"82541a1f-2e4e-459f-ab2f-e97cac3ad040\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":4103752,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"82541a1f-2e4e-459f-ab2f-e97cac3ad040\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":357104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":60901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:13.565 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":62600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":138601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":131101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":502207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":147302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":424605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":92402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":216302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1fa220c2-5f2e-4943-a57e-c291cc35084b","description":"","id":"1fa220c2-5f2e-4943-a57e-c291cc35084b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":55401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":42201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":30700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":28301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1fa220c2-5f2e-4943-a57e-c291cc35084b'","result":{"duration":30700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":27501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":877207281,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1fa220c2-5f2e-4943-a57e-c291cc35084b'","result":{"duration":1814422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2335030,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":2767635,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":2260928,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2365830,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":2307529,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1476919,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1579520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":9531219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":407805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":181702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:14.472 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebieden\\\/v2\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":2080626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":112602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:14.474 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1987425,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":116901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:14.476 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":67301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:14.476 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":2447030,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":106801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:14.479 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":86001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:14.479 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=f273941e-9c3b-43bc-b886-2d50d0bf9348#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2589533,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1fa220c2-5f2e-4943-a57e-c291cc35084b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":661208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1fa220c2-5f2e-4943-a57e-c291cc35084b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":338605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:14.117 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":123701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":66901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":64601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":470906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":53401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":457906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":140902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f0c6fbfe-a172-4223-8af3-58f6a28c881d","description":"","id":"f0c6fbfe-a172-4223-8af3-58f6a28c881d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f0c6fbfe-a172-4223-8af3-58f6a28c881d'","result":{"duration":54100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":861381882,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f0c6fbfe-a172-4223-8af3-58f6a28c881d'","result":{"duration":1177015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":882711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":855610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":744110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":893711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":739009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":41000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":721909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":689308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":594008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":81301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":129402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:14.988 [print] https:\/\/service.pdok.nl\/cbs\/hh\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":643508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":83701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:14.989 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":589208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":76901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:14.990 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":85801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:14.990 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":639908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":95601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:14.991 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":137302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:14.991 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=12bb57cd-73e0-41ba-a1e9-6d986b9109d3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":785810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f0c6fbfe-a172-4223-8af3-58f6a28c881d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":692809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f0c6fbfe-a172-4223-8af3-58f6a28c881d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":369004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:14.215 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":68301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":53501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":356604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":81101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":388305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":151402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"af4841b5-ce83-4edb-af41-429a21140316","description":"","id":"af4841b5-ce83-4edb-af41-429a21140316","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":34100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'af4841b5-ce83-4edb-af41-429a21140316'","result":{"duration":87302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":864536922,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'af4841b5-ce83-4edb-af41-429a21140316'","result":{"duration":1964925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2250728,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":2414230,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":2288729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2575732,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":2489931,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1534220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1835423,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1680221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":254603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":150602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:15.101 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingtypen\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":2018925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":161902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:15.104 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":2191727,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":80601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:15.106 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":129301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:15.106 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":2384629,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":79401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:15.109 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":39800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:15.109 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=977e0e94-7aa9-4784-b2da-eaec44adb61b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2146727,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"af4841b5-ce83-4edb-af41-429a21140316\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":647208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"af4841b5-ce83-4edb-af41-429a21140316\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":337804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:14.308 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":69400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":53600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":431506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":46300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":629107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":40400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":368705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2b9da196-422e-4b0e-a5ba-ba41ade308e9","description":"","id":"2b9da196-422e-4b0e-a5ba-ba41ade308e9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2b9da196-422e-4b0e-a5ba-ba41ade308e9'","result":{"duration":51201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849852238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2b9da196-422e-4b0e-a5ba-ba41ade308e9'","result":{"duration":1701621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1879223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":2243528,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":2149226,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2594232,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":2623033,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1570920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1460719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1933224,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":264504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":176902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:15.179 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingtypen\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":2285529,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":96601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:15.182 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":2045726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":79401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:15.184 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":41401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":425505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:15.184 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":2722934,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":84901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:15.187 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":41100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:15.187 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=977e0e94-7aa9-4784-b2da-eaec44adb61b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":3111838,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2b9da196-422e-4b0e-a5ba-ba41ade308e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":702608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2b9da196-422e-4b0e-a5ba-ba41ade308e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":361604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:14.485 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":376304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":75901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":487006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":102902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"68722979-8d6c-4ee4-a81a-8381d2588fe5","description":"","id":"68722979-8d6c-4ee4-a81a-8381d2588fe5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '68722979-8d6c-4ee4-a81a-8381d2588fe5'","result":{"duration":48300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":881435733,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68722979-8d6c-4ee4-a81a-8381d2588fe5'","result":{"duration":879611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":734209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":851211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":683309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":838010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":760909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":644608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":575307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":519307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":89201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":98201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:15.375 [print] https:\/\/geodata.nationaalgeoregister.nl\/nl\/rws\/hy-n\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":581207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":122301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:15.376 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":711309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":88701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:15.376 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":49201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":94601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:15.377 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":730109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":108902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:15.377 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":51300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:15.377 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":834611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"68722979-8d6c-4ee4-a81a-8381d2588fe5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":657608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"68722979-8d6c-4ee4-a81a-8381d2588fe5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":2537632,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:14.995 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":63701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":54901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":346804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":45301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":379305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":37000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":93702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"58353cdf-b3a1-454e-9284-932a7e815e57","description":"","id":"58353cdf-b3a1-454e-9284-932a7e815e57","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '58353cdf-b3a1-454e-9284-932a7e815e57'","result":{"duration":191702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847110505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '58353cdf-b3a1-454e-9284-932a7e815e57'","result":{"duration":2783335,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1371317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1017013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1074214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1120914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1129814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":677309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":614207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":812410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":113101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":142301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:15.855 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/hy-p\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1147214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":98502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:15.856 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1227415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":181202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:15.858 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":339104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:15.858 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1058814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":94601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:15.859 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":730109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:15.860 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":796610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"58353cdf-b3a1-454e-9284-932a7e815e57\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":705308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"58353cdf-b3a1-454e-9284-932a7e815e57\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":431806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:15.115 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":55801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":368405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":65701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":441805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":37300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":93201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b0119753-5625-4500-9df3-13823ff9868f","description":"","id":"b0119753-5625-4500-9df3-13823ff9868f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b0119753-5625-4500-9df3-13823ff9868f'","result":{"duration":441106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":25300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":922458347,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b0119753-5625-4500-9df3-13823ff9868f'","result":{"duration":1885423,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2103427,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":2812235,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":2086226,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2728534,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":2318729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":110901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1453718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1710721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1579319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":318304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":523306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:16.060 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingtypen\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":8676009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":526707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:16.069 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1852023,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":1473719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:16.072 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":130701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":477506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:16.073 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":2517931,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":217503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:16.076 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":300604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:16.076 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=977e0e94-7aa9-4784-b2da-eaec44adb61b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2561732,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b0119753-5625-4500-9df3-13823ff9868f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":517007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b0119753-5625-4500-9df3-13823ff9868f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":365404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":37101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:15.194 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":50301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":348904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":65801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":481006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":42901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":101101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1ce74355-763a-481d-b9d7-aaafbf0d7d53","description":"","id":"1ce74355-763a-481d-b9d7-aaafbf0d7d53","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":20600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1ce74355-763a-481d-b9d7-aaafbf0d7d53'","result":{"duration":77501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":861562985,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1ce74355-763a-481d-b9d7-aaafbf0d7d53'","result":{"duration":1176415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2134227,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1652921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1293116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1728922,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":2393430,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":100402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1580920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1250515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":2595132,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":473406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":890011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:16.075 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsoorten\\\/v2\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":2351329,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":942412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:16.078 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1164515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":1284916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:16.081 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":195203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":1029413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:16.082 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":2248128,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":558407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:16.085 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":756410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:16.086 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=28c4780a-1a44-4376-b283-14a50a481729#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1665321,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1ce74355-763a-481d-b9d7-aaafbf0d7d53\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":431105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1ce74355-763a-481d-b9d7-aaafbf0d7d53\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":362604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:15.384 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":54000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":485306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":48800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":383605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":36801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":54200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"30f65c89-2246-49f8-8b50-0f1140d6f2aa","description":"","id":"30f65c89-2246-49f8-8b50-0f1140d6f2aa","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":34400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '30f65c89-2246-49f8-8b50-0f1140d6f2aa'","result":{"duration":304203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":884415871,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '30f65c89-2246-49f8-8b50-0f1140d6f2aa'","result":{"duration":1413418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1048713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1145815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":800910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":973412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":845811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":92301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":856010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":951512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":882411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":151302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":228203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:16.280 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/hy-p\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1097514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":199602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:16.281 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":800411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":157402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:16.282 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":190402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":199803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:16.283 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1020013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":200402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:16.284 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":291404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:16.284 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1096514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"30f65c89-2246-49f8-8b50-0f1140d6f2aa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":535807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"30f65c89-2246-49f8-8b50-0f1140d6f2aa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":361304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:15.864 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":61301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":63600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":411405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":362605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":73901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7681eb19-a914-4dc7-9208-c2a131dca06d","description":"","id":"7681eb19-a914-4dc7-9208-c2a131dca06d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":31100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7681eb19-a914-4dc7-9208-c2a131dca06d'","result":{"duration":321804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":878047592,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7681eb19-a914-4dc7-9208-c2a131dca06d'","result":{"duration":1109614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":732309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":666808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":641908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":826411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":773609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":85501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":633508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":648808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":699409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":133402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":251903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:16.753 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnwater2015\\\/wms\\\/v1_0?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1596420,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":317704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:16.755 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":746610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":221203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:16.756 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":108301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":138002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:16.756 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":893211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":214603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:16.757 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":184603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:16.757 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbeag#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbead#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":831510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7681eb19-a914-4dc7-9208-c2a131dca06d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":541607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7681eb19-a914-4dc7-9208-c2a131dca06d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":407306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":62000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:16.083 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":45800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":138202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":141002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":426905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":145702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":423206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":194002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":251104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4","description":"","id":"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":153302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":43000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":58201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":30401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd4e573b0-bd3b-4d7b-a97d-e65841e6e0b4'","result":{"duration":35300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":27701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":27500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":873298932,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd4e573b0-bd3b-4d7b-a97d-e65841e6e0b4'","result":{"duration":864710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":726609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":649508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":664008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":775909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":737910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":582408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":580107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":602508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":90301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":214603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:16.965 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnwateractueel\\\/wms\\\/v1_0?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1290616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":79201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:16.967 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":872011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":74101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:16.968 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":420005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:16.968 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":722209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":73901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:16.969 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":54901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:16.969 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=622a632a-c57b-44a2-83a4-e51223d5f15g#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=782cab20-8328-45f1-a9b2-c27d07c14066#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f7bb2351-9788-42ea-a58b-a5ee1842304e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2e31680f-68b5-4ff3-94a4-9c24109ffd5e#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1843223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":640008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":362005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":56500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:16.093 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":108301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":146501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":303403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":120702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":381705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":87901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":153702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"4041f923-6b77-4816-bf46-437e85416c31","description":"","id":"4041f923-6b77-4816-bf46-437e85416c31","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":140102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":38501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":28400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":26600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '4041f923-6b77-4816-bf46-437e85416c31'","result":{"duration":27500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":26300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":25901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":900847877,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4041f923-6b77-4816-bf46-437e85416c31'","result":{"duration":936512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":863211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":656508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":635208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":692309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":720509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":558307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":570907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":599408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":56901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":576707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:17.002 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnmarienestrategie2018\\\/wms\\\/v1_0?SERVICE=WMS&REQUEST=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":564707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":126502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:17.003 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":803810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":107402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:17.004 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":279103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":119402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:17.005 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":754710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":146802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:17.006 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":495506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:17.006 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e4#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1366117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"4041f923-6b77-4816-bf46-437e85416c31\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":374005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"4041f923-6b77-4816-bf46-437e85416c31\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":309104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":73301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:16.289 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":125602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":120402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":437005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":122502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":443506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":104801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":214603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"8abcd2d1-3beb-43e5-a572-2b2da05a0a98","description":"","id":"8abcd2d1-3beb-43e5-a572-2b2da05a0a98","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":83301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":40301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":35500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":28401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '8abcd2d1-3beb-43e5-a572-2b2da05a0a98'","result":{"duration":42800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":25501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":25300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846591702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8abcd2d1-3beb-43e5-a572-2b2da05a0a98'","result":{"duration":930511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":746409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":640008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":666509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":773010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":737209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":574507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":548607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":667809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":61901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":131501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:17.145 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nhi\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":710309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":77801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:17.146 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":755009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":98702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:17.146 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":138002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:17.147 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":892211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":104702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:17.148 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":111201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:17.148 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=710c381c-ab2d-45d5-a45d-af2eba811e5f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":696008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"8abcd2d1-3beb-43e5-a572-2b2da05a0a98\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":523207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"8abcd2d1-3beb-43e5-a572-2b2da05a0a98\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":362805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":55901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:16.761 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":140702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":120302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":421505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":116502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":368104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":83601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":207402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"dd49e02c-ea87-4ffc-89dd-f888608d95b7","description":"","id":"dd49e02c-ea87-4ffc-89dd-f888608d95b7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":52401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":39501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":27500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":30301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'dd49e02c-ea87-4ffc-89dd-f888608d95b7'","result":{"duration":43200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":25101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":25600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":869627741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dd49e02c-ea87-4ffc-89dd-f888608d95b7'","result":{"duration":931412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":614408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":526007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":508606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":580208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":571807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":515106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":476406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":615807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":72301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":145402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:17.639 [print] https:\/\/geodata.nationaalgeoregister.nl\/nationaleparken\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":545607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":92202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:17.640 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":537107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":87301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:17.640 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":77901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:17.640 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":563108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":71401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:17.641 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":96901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:17.641 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4961d305-fbb5-426a-9ba3-53e1ca5f3b18#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":677809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"dd49e02c-ea87-4ffc-89dd-f888608d95b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":545307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"dd49e02c-ea87-4ffc-89dd-f888608d95b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":587707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:16.974 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":50701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":67201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":336104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":407005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":114502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e9ba7d7f-6cd1-4271-bce4-56432924b338","description":"","id":"e9ba7d7f-6cd1-4271-bce4-56432924b338","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":33800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":451606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e9ba7d7f-6cd1-4271-bce4-56432924b338'","result":{"duration":50601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":840458394,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e9ba7d7f-6cd1-4271-bce4-56432924b338'","result":{"duration":804110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":610208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":579407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":606908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":706509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":734709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":621708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":562007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":569508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":103201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":181902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:17.823 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselzaadinvanginstallaties\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":645008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":135402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:17.824 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":562707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":64701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:17.824 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":79101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:17.824 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1523420,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":483406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:17.826 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":628008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:17.827 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a04afee4-47d5-45b7-b7a0-a6f86106af11#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":712709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e9ba7d7f-6cd1-4271-bce4-56432924b338\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":917912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e9ba7d7f-6cd1-4271-bce4-56432924b338\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":416005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:17.010 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":42701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":260603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":309304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":83101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ef2a7962-8bb4-483f-ac78-851b619f357f","description":"","id":"ef2a7962-8bb4-483f-ac78-851b619f357f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ef2a7962-8bb4-483f-ac78-851b619f357f'","result":{"duration":80401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":859348536,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ef2a7962-8bb4-483f-ac78-851b619f357f'","result":{"duration":681509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":686908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":642308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":619808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":761409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":898311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":554707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":707809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":648208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":268804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":253903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:17.878 [print] https:\/\/services.rce.geovoorziening.nl\/www\/download\/nl.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":695609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":251903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:17.879 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":627008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":235303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:17.880 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":146202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:17.880 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":712209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":242903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:17.881 [print] Rijksdienst voor het Cultureel Erfgoed \n","line":56}},{"name":"print operateson","result":{"duration":144202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:17.881 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=6f84efeb-fc1d-4565-a721-80735ea57dbd#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=4e2ef670-cddd-11dd-ad8b-0800200c9a66#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=88a3c1ae-902e-4efa-8663-ddd836101929#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":665709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ef2a7962-8bb4-483f-ac78-851b619f357f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":592307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ef2a7962-8bb4-483f-ac78-851b619f357f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":463806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:17.151 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":300604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":309003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":70301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"42da491e-d8b9-47ba-af65-acb15ea8a055","description":"","id":"42da491e-d8b9-47ba-af65-acb15ea8a055","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '42da491e-d8b9-47ba-af65-acb15ea8a055'","result":{"duration":87001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848413007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '42da491e-d8b9-47ba-af65-acb15ea8a055'","result":{"duration":737809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":675609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":654108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":590208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":603708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":573007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":509906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":503807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":995212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":93402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":128901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:18.007 [print] https:\/\/www.broinspireservices.nl\/wms\/osamepl-a-v1.0?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":717010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":128901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:18.008 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":590808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":66901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:18.009 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":75301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:18.009 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":628908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":65700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:18.010 [print]  \n","line":56}},{"name":"print operateson","result":{"duration":39901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:18.010 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=24de356e-ec4d-4a18-9903-6401d222b77c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":619108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"42da491e-d8b9-47ba-af65-acb15ea8a055\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":542207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"42da491e-d8b9-47ba-af65-acb15ea8a055\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":325804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:17.646 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":52401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":394305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":64501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":370204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":118502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"598c4109-21d2-4a6c-b083-9975a6736849","description":"","id":"598c4109-21d2-4a6c-b083-9975a6736849","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '598c4109-21d2-4a6c-b083-9975a6736849'","result":{"duration":50400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":858712436,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '598c4109-21d2-4a6c-b083-9975a6736849'","result":{"duration":840811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":855511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":918811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":762109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":768610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":683509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":842511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":618608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":704209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":82502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":193802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:18.513 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nwbvaarwegen\\\/wms?request=getCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":631408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":107502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:18.514 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":677408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":92402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:18.515 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":50200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":63101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:18.515 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":777610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":114502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:18.516 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":61901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:18.516 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=00d8c7c8-98ff-4b06-8f53-b44216e6e75c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":732209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736849\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":649909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736849\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":403305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:17.832 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":50401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":69200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":363904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":322704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":52900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":375805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e","description":"","id":"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '578f993f-4d0b-4c4a-a08b-dfa9e1d1376e'","result":{"duration":49201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850923338,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '578f993f-4d0b-4c4a-a08b-dfa9e1d1376e'","result":{"duration":1559220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":942412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1561520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1006513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1351517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1287516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":69001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1217716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1395418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1318817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":372005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":277204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:18.697 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nhi\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1500719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":99501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:18.699 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1346517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":115601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:18.700 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":39501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":129302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:18.701 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1305016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":90001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:18.702 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":90701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:18.702 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=710c381c-ab2d-45d5-a45d-af2eba811e5f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1579520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":663509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":322704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":34100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:17.885 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":46001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":60501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":89301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":358905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":423006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":72501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":230903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0bc2bcb8-558b-446b-b4e2-381b13d483a8","description":"","id":"0bc2bcb8-558b-446b-b4e2-381b13d483a8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0bc2bcb8-558b-446b-b4e2-381b13d483a8'","result":{"duration":51401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":860559759,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0bc2bcb8-558b-446b-b4e2-381b13d483a8'","result":{"duration":793910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":663508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":706609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":710209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":854711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":755210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":610008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":662308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":736809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":84301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":192603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:18.755 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselenoesterhabitats\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":699309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":70501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:18.755 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":726909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":93801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:18.756 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":133502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:18.757 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":765809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":130101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:18.757 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":77701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:18.757 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3d59fd06-9aec-4744-91e7-65e119f74569#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":811811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0bc2bcb8-558b-446b-b4e2-381b13d483a8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":503206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0bc2bcb8-558b-446b-b4e2-381b13d483a8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":460206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:18.013 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":68601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":327505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":53500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":300403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":53101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"aaf53e6f-fe99-4a86-a61c-50b128412d80","description":"","id":"aaf53e6f-fe99-4a86-a61c-50b128412d80","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":29800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'aaf53e6f-fe99-4a86-a61c-50b128412d80'","result":{"duration":45300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850522832,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'aaf53e6f-fe99-4a86-a61c-50b128412d80'","result":{"duration":1042813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":865411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":837211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":654408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":743810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":761709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":604208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":571407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":586107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":91501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":119601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:18.872 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselenoesterhabitats\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1374917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":101601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:18.873 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":882112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":92901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:18.874 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":484906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:18.875 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":2109426,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":139501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:18.877 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":750909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:18.878 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3d59fd06-9aec-4744-91e7-65e119f74569#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":767210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"aaf53e6f-fe99-4a86-a61c-50b128412d80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":691509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"aaf53e6f-fe99-4a86-a61c-50b128412d80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":386105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:18.520 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":308704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":376405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":77401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":82501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c78a99eb-9ba3-4307-a21b-2a64ad5da039","description":"","id":"c78a99eb-9ba3-4307-a21b-2a64ad5da039","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c78a99eb-9ba3-4307-a21b-2a64ad5da039'","result":{"duration":45901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":15801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":844475556,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c78a99eb-9ba3-4307-a21b-2a64ad5da039'","result":{"duration":1018813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":721809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":701609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":756110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":892811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":961912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":105901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":749009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":653808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":814810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":153802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":237303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:19.374 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselzaadinvanginstallaties\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":737109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":134902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:19.375 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":696009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":229903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:19.376 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":84301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":174602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:19.376 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":837611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":188203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:19.377 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":151702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:19.377 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=a04afee4-47d5-45b7-b7a0-a6f86106af11#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":915011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c78a99eb-9ba3-4307-a21b-2a64ad5da039\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":573907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c78a99eb-9ba3-4307-a21b-2a64ad5da039\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":468606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:18.707 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":50100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":339504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":376205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":68801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":93701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9c80458b-12c6-4d38-8f6d-387ab6e4ed21","description":"","id":"9c80458b-12c6-4d38-8f6d-387ab6e4ed21","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9c80458b-12c6-4d38-8f6d-387ab6e4ed21'","result":{"duration":49901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850696135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9c80458b-12c6-4d38-8f6d-387ab6e4ed21'","result":{"duration":969113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":669808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":680509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":622408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1204415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":821111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":85601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":737610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":807810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":668609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":152002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":814510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:19.567 [print] https:\/\/geodata.nationaalgeoregister.nl\/natura2000\/wms?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":680909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":152002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:19.568 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":958412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":140102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:19.569 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":350505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":166202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:19.570 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":945812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":175903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:19.571 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":375004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:19.572 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8829e5dd-c861-4639-a6c8-fdbb6e3440d2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1550119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9c80458b-12c6-4d38-8f6d-387ab6e4ed21\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":507706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9c80458b-12c6-4d38-8f6d-387ab6e4ed21\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":341905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:18.761 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":45601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":52401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":360105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":45800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":368904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":92001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b87a0095-2ad7-4dbb-81a1-fed060df79e1","description":"","id":"b87a0095-2ad7-4dbb-81a1-fed060df79e1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b87a0095-2ad7-4dbb-81a1-fed060df79e1'","result":{"duration":83101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":881493224,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b87a0095-2ad7-4dbb-81a1-fed060df79e1'","result":{"duration":669409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":585207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":498907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":541607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":664908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":626508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":74401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":537307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":641308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":636208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":237403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":172302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:19.650 [print] https:\/\/geodata.nationaalgeoregister.nl\/nationaleparken\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":607308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":130002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:19.651 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":626308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":265803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:19.652 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":79901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":138702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:19.652 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":617308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":263803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:19.653 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":162402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:19.653 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4961d305-fbb5-426a-9ba3-53e1ca5f3b18#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":640308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b87a0095-2ad7-4dbb-81a1-fed060df79e1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":412305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b87a0095-2ad7-4dbb-81a1-fed060df79e1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":295404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:18.882 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":73801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":384105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":388805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":74801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"62c0d0a5-5826-406d-a625-d84bc5fec800","description":"","id":"62c0d0a5-5826-406d-a625-d84bc5fec800","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '62c0d0a5-5826-406d-a625-d84bc5fec800'","result":{"duration":310704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":841060313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '62c0d0a5-5826-406d-a625-d84bc5fec800'","result":{"duration":1047713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":747909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":733910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":875111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":994313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":929812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":82801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":703809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":790810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":652208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":118901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":185702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:19.733 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/noordzeevaarwegmarkeringenrd\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1224215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":209502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:19.735 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":960913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":152902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:19.736 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":318804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":190902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:19.736 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":980413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":175402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:19.737 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":373005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:19.738 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=be1b1514-8d1f-48e1-9624-fee9b784138b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1228216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"62c0d0a5-5826-406d-a625-d84bc5fec800\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":391705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"62c0d0a5-5826-406d-a625-d84bc5fec800\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":336704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":69301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:19.386 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":121701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":116802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":448806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":112001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":522207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":104301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":166202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1bd24d1e-aa13-4395-809e-893570f7c651","description":"","id":"1bd24d1e-aa13-4395-809e-893570f7c651","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":60901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":1377717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":46700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":28101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1bd24d1e-aa13-4395-809e-893570f7c651'","result":{"duration":27000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":26401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":25300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847229491,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1bd24d1e-aa13-4395-809e-893570f7c651'","result":{"duration":1057213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":852011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":962812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":901811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":896211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":759009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":49601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":721809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":666108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":700909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":82401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":638608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:20.245 [print] https:\/\/geodata.nationaalgeoregister.nl\/overheidsdiensten\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":665009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":84201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:20.246 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":908011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":80601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:20.247 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":423406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:20.248 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1005912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":110201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:20.249 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":117502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:20.249 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=c935f2ab-9b65-4dc4-94a0-73aeb840a941#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1105314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1bd24d1e-aa13-4395-809e-893570f7c651\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":708609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1bd24d1e-aa13-4395-809e-893570f7c651\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":377305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":70201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:19.576 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":153902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":122502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":906611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":122501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":400205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":102702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":152902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5856173c-e58d-4b4c-8f9b-046ee1f20c1c","description":"","id":"5856173c-e58d-4b4c-8f9b-046ee1f20c1c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":370605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":99101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":46201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":25700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5856173c-e58d-4b4c-8f9b-046ee1f20c1c'","result":{"duration":26101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":25600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":25400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846609784,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5856173c-e58d-4b4c-8f9b-046ee1f20c1c'","result":{"duration":1030013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":814911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":739009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":907512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":939412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":817710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":181803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":764710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":803010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":714209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":73001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":778110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:20.435 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/wko\\\/wfs?service=WFS&request=Getcapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":712509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":459806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:20.436 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":703808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":489606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:20.437 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":41700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":425405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:20.438 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":861211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":397805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:20.439 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":719109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:20.440 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dc5b522e-3e14-4738-9e8e-2401e1b19ef2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":888312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5856173c-e58d-4b4c-8f9b-046ee1f20c1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":683608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5856173c-e58d-4b4c-8f9b-046ee1f20c1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":444405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":51000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:19.657 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":55201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":127802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":118401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":375205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":124602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":390305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":74201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":172202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1c9b43c3-064d-40c3-aa7c-879b7376ef6f","description":"","id":"1c9b43c3-064d-40c3-aa7c-879b7376ef6f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":43401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":32700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":25501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":23900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1c9b43c3-064d-40c3-aa7c-879b7376ef6f'","result":{"duration":24801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":23500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":23600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848095602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1c9b43c3-064d-40c3-aa7c-879b7376ef6f'","result":{"duration":930511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":789910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":867811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":895311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":987813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1060913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":62900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1274416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":743909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":710309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":100302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":124801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:20.516 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/wko\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":750409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":87101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:20.517 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":910912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":117802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:20.518 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":70601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":53000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:20.518 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":834710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":82101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:20.519 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":51001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:20.519 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dc5b522e-3e14-4738-9e8e-2401e1b19ef2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":758110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1c9b43c3-064d-40c3-aa7c-879b7376ef6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":690109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1c9b43c3-064d-40c3-aa7c-879b7376ef6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":583507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":50701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:19.742 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":137101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":115601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":367605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":108801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":483407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":186802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":275804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"171b28f6-7ee7-46f9-b3b3-06d0baaa33db","description":"","id":"171b28f6-7ee7-46f9-b3b3-06d0baaa33db","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":59900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":40600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":30301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":28900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '171b28f6-7ee7-46f9-b3b3-06d0baaa33db'","result":{"duration":29401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":44400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":66901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":856244905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '171b28f6-7ee7-46f9-b3b3-06d0baaa33db'","result":{"duration":1099114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":826610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":923612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":868511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":878411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":676709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":593207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":573307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":644408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":111101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":768810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:20.609 [print] https:\\\/\\\/service.pdok.nl\\\/cbs\\\/pd\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":638308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":441506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:20.610 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":636008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":412506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:20.611 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":38800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":447006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:20.612 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":686909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":414405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:20.613 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":973612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:20.614 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76541ebb-a554-4540-a017-399d4bb4a860#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":851811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"171b28f6-7ee7-46f9-b3b3-06d0baaa33db\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":679609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"171b28f6-7ee7-46f9-b3b3-06d0baaa33db\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":393005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:20.254 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":88701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":327504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":364304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":76101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"40f04047-3b61-40eb-b026-c1a0caa71881","description":"","id":"40f04047-3b61-40eb-b026-c1a0caa71881","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '40f04047-3b61-40eb-b026-c1a0caa71881'","result":{"duration":52901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":854226380,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '40f04047-3b61-40eb-b026-c1a0caa71881'","result":{"duration":1021913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":919112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1005913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1090214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1005113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1027013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":834811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":972912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":750510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":214903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":154002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:21.119 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/reststromen\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":875911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":77201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:21.120 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":755810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":88501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:21.121 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":84801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:21.121 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1026513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":94701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:21.122 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":162402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:21.122 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=11d83e36-fd0d-46bc-838c-0567c5dfdb19#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=34dacd72-d2fb-4e28-844d-73d3b9c3fef2#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=419b85e5-04ee-4cc9-b910-bc58594a943a#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=119f7512-a71e-4d1a-82e7-7a2b63f9338b#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=6ea55ec4-f312-40ef-9935-68806e61b496#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=af784610-df36-4d40-bac0-23d8e728999f#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=24eb504e-f5f3-4ecf-b760-cc5630e82a57#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":866411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"40f04047-3b61-40eb-b026-c1a0caa71881\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":796510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"40f04047-3b61-40eb-b026-c1a0caa71881\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":470906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:20.445 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":49900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":106201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":405505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":46301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":430905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":417805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ceda1b88-32ac-40b2-a841-71eb041c9427","description":"","id":"ceda1b88-32ac-40b2-a841-71eb041c9427","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":37401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ceda1b88-32ac-40b2-a841-71eb041c9427'","result":{"duration":52401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":860623960,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ceda1b88-32ac-40b2-a841-71eb041c9427'","result":{"duration":996113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":993712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":876911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":961612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1034713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":959112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":723909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":646509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":852311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":97801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":206103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:21.316 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/reststromen\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":758909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":115602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:21.317 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":793710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":113702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:21.318 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":73801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:21.318 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1052514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":117301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:21.319 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":123701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:21.319 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=11d83e36-fd0d-46bc-838c-0567c5dfdb19#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=34dacd72-d2fb-4e28-844d-73d3b9c3fef2#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=419b85e5-04ee-4cc9-b910-bc58594a943a#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=119f7512-a71e-4d1a-82e7-7a2b63f9338b#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=6ea55ec4-f312-40ef-9935-68806e61b496#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=af784610-df36-4d40-bac0-23d8e728999f#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=24eb504e-f5f3-4ecf-b760-cc5630e82a57#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1920424,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ceda1b88-32ac-40b2-a841-71eb041c9427\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1052213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ceda1b88-32ac-40b2-a841-71eb041c9427\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":872611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":35001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:20.523 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":55401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":364805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":51600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":490006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":36100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":64100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3e65fa1b-9bb1-41bd-9760-76962751b839","description":"","id":"3e65fa1b-9bb1-41bd-9760-76962751b839","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3e65fa1b-9bb1-41bd-9760-76962751b839'","result":{"duration":69201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":862789087,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3e65fa1b-9bb1-41bd-9760-76962751b839'","result":{"duration":934112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":950212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":759010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":694009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":943212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":841211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":600207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":587808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":597707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":89901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":129902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:21.395 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/verkeersscheidingsstelsel\\\/wms\\\/v2_0?service=WMS&request=getcapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":647408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":92201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:21.396 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":641808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":84301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:21.397 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":117102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:21.397 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":799810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":75501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:21.398 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":35900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:21.398 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5996e444-f7f3-40d2-b485-8b9af6e8aa89#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":750209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3e65fa1b-9bb1-41bd-9760-76962751b839\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":591808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3e65fa1b-9bb1-41bd-9760-76962751b839\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":369904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:20.619 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":70900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":54400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":53001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":355005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":47900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":361905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":455505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"6c62e0a5-c215-4e47-94b0-a239e264417d","description":"","id":"6c62e0a5-c215-4e47-94b0-a239e264417d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '6c62e0a5-c215-4e47-94b0-a239e264417d'","result":{"duration":55500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":25300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":875413447,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6c62e0a5-c215-4e47-94b0-a239e264417d'","result":{"duration":1400718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1541519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1562420,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1517119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2837235,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1631520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1141714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1130215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1193815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":153702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":157602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:21.510 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/plu\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1207416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":89501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:21.512 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1402118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":108901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:21.513 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":145902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:21.513 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1764722,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":111702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:21.515 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":87001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:21.515 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=17716ed7-ce0d-4bfd-8868-a398e5578a36#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1626921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"6c62e0a5-c215-4e47-94b0-a239e264417d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":561407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"6c62e0a5-c215-4e47-94b0-a239e264417d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":325204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:21.127 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":414405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":387704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":51500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":73301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b196f948-5d87-4eb4-9854-a93841c3877f","description":"","id":"b196f948-5d87-4eb4-9854-a93841c3877f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b196f948-5d87-4eb4-9854-a93841c3877f'","result":{"duration":47301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":874264233,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b196f948-5d87-4eb4-9854-a93841c3877f'","result":{"duration":840511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":688108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":638008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":687609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":807410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":678109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":655408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1017612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1054413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":135402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":425306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:22.010 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rvo\\\/invasieve-exoten\\\/wms\\\/v1_0?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":679008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":149002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:22.011 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":688209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":92401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:22.012 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":52401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":111402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:22.012 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":805210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":89501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:22.013 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":147702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:22.013 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3703b249-a0eb-484e-ba7a-10e31a55bcec#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":848710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b196f948-5d87-4eb4-9854-a93841c3877f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":722509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b196f948-5d87-4eb4-9854-a93841c3877f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":514406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:21.327 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":69901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":380105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":354804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":72501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c374d556-7b6e-459b-83c7-74da6ad90a59","description":"","id":"c374d556-7b6e-459b-83c7-74da6ad90a59","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":31000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c374d556-7b6e-459b-83c7-74da6ad90a59'","result":{"duration":46800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":836114951,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c374d556-7b6e-459b-83c7-74da6ad90a59'","result":{"duration":1023813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":824511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":723609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":747810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":806210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1052013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1003013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":694409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":608508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":76301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":166202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:22.172 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierwater\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":727409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":132701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:22.173 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":814511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":125701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:22.174 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":99601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:22.174 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":767510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":146002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:22.175 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":75501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:22.175 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4783ea4f-6b8c-4600-8af0-516f3556cfe9#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":726110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c374d556-7b6e-459b-83c7-74da6ad90a59\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":698408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c374d556-7b6e-459b-83c7-74da6ad90a59\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":370304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:21.402 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":88501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":108801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":389705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":437406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":72101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd","description":"","id":"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":28301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd'","result":{"duration":66500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846726984,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd'","result":{"duration":1294017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":771110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":710609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":19476746,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1136314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":833811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":91301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":668008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":696409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":812010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":127701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":213603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:22.278 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rdinfo\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1538220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":188802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:22.280 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":993913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":150902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:22.281 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":468906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":157702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:22.281 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1133415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":223803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:22.283 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":361804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:22.283 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=29c17585-e702-463f-a5dc-99d34b17d333#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1176515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":913012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":406605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":30701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:21.520 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":90901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":71801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":339304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":372005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":430106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"108fec55-e467-4d04-ab35-fd0d7060e3e2","description":"","id":"108fec55-e467-4d04-ab35-fd0d7060e3e2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":34500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '108fec55-e467-4d04-ab35-fd0d7060e3e2'","result":{"duration":173202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":843696146,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '108fec55-e467-4d04-ab35-fd0d7060e3e2'","result":{"duration":909011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":690109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":766010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":755710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":867711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":836510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":99701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":2589033,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":712109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":659608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":125602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":290104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:22.376 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/richtlijnstedelijkafvalwater2015\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":732109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":235003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:22.377 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1262316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":217703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:22.379 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":99201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":136102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:22.379 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":753009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":174603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:22.380 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":144602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:22.380 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":712109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"108fec55-e467-4d04-ab35-fd0d7060e3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":507906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"108fec55-e467-4d04-ab35-fd0d7060e3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":430805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:22.018 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":316104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":543506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":137102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0","description":"","id":"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0'","result":{"duration":47301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850133428,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0'","result":{"duration":946212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":704309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":658208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":677009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":799910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":963012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":86702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":653608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":679709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":605207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":188402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":809110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:22.877 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/richtlijnoverstromingsrisico2018\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1266116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":199702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:22.879 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":754710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":183102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:22.880 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":100102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":137401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:22.880 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":687008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":149401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:22.881 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":156302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:22.881 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=rorl-9d8e-4758-83fx-28b057f185g1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":640708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":553007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":355505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:22.179 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":76501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":55101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":375104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":127701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":529307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":52601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":108301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"972edbaa-f860-4c48-b449-4f238a263472","description":"","id":"972edbaa-f860-4c48-b449-4f238a263472","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '972edbaa-f860-4c48-b449-4f238a263472'","result":{"duration":49001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846922587,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '972edbaa-f860-4c48-b449-4f238a263472'","result":{"duration":1042613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":998012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":661609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":741509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":929612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":883611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":86901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":735309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":751010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":740609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":702908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":833110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:23.037 [print] https:\/\/geodata.nationaalgeoregister.nl\/restwarmte\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":731009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":511006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:23.039 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":913212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":180302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:23.040 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":410505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":165202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:23.040 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1037413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":616808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:23.042 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":748710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:23.043 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d6b85d84-cdb9-4a6e-b799-cf8826e22a94#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":732209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"972edbaa-f860-4c48-b449-4f238a263472\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":463606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"972edbaa-f860-4c48-b449-4f238a263472\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":345604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":52401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:22.288 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":198902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":196203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":496906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":115802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":437405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":101401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":158702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3dc373ae-fcf6-49c9-b315-9a2178bffe4a","description":"","id":"3dc373ae-fcf6-49c9-b315-9a2178bffe4a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":372105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":41300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":25901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":23300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3dc373ae-fcf6-49c9-b315-9a2178bffe4a'","result":{"duration":80301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":32201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":26200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":833001012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3dc373ae-fcf6-49c9-b315-9a2178bffe4a'","result":{"duration":1137014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":684509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":670808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":673309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":736009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":789010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":678009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":847211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":758009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":687609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":636608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:23.133 [print] https:\/\/geodata.nationaalgeoregister.nl\/restwarmte\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":723209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":380505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:23.134 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":626908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":350004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:23.135 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":396505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:23.136 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":711809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":403905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:23.137 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":566708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:23.137 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d6b85d84-cdb9-4a6e-b799-cf8826e22a94#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":689708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3dc373ae-fcf6-49c9-b315-9a2178bffe4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":539606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3dc373ae-fcf6-49c9-b315-9a2178bffe4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":321005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":50500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:22.384 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":120202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":183202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":452606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":114902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":516206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":80501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":156802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a2724dae-ebad-4a07-9405-49bddfde3368","description":"","id":"a2724dae-ebad-4a07-9405-49bddfde3368","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":63800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":35401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":25100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":29901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a2724dae-ebad-4a07-9405-49bddfde3368'","result":{"duration":25100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":22501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":21900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":851453144,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a2724dae-ebad-4a07-9405-49bddfde3368'","result":{"duration":803810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":689209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":638208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":607408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":917212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":714009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":51301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":570107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":560107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":545107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":88501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":2643333,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:23.247 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/verkeersscheidingsstelsel\\\/wfs\\\/v2_0?service=WFS&request=getcapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":595108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":409605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:23.248 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":601408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":414805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:23.249 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":334304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:23.250 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":829811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":484106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:23.251 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":551307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:23.251 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5996e444-f7f3-40d2-b485-8b9af6e8aa89#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":899511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a2724dae-ebad-4a07-9405-49bddfde3368\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":638209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a2724dae-ebad-4a07-9405-49bddfde3368\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":386505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":68601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:22.885 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":174202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":133402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":493306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":112301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":469106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":79401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":146402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f57bdee7-4027-4aa2-8312-4051b854be3c","description":"","id":"f57bdee7-4027-4aa2-8312-4051b854be3c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":40801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":35700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":26401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":40900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f57bdee7-4027-4aa2-8312-4051b854be3c'","result":{"duration":24700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":23400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":22701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846427381,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f57bdee7-4027-4aa2-8312-4051b854be3c'","result":{"duration":923212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":606408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":546007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":618808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":643808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":756910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":534907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":513207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":577107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":128802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":142802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:23.740 [print] https:\/\/service.pdok.nl\/rvo\/schelpdierpercelen\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":577607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":145301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:23.741 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":586107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":69901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:23.741 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":82901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:23.742 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":596707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":84201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:23.742 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":77801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:23.742 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c4b4e95a-12d7-4c74-933c-cb267cfe0bcf#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":591107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f57bdee7-4027-4aa2-8312-4051b854be3c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":625008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f57bdee7-4027-4aa2-8312-4051b854be3c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":338605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":51400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:23.047 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":119601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":106301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":451006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":110301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":350805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":74701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":562707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"280cee65-1b66-4973-a569-75122e0b745b","description":"","id":"280cee65-1b66-4973-a569-75122e0b745b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":63901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":42401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":28500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":26901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '280cee65-1b66-4973-a569-75122e0b745b'","result":{"duration":71901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":33800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":22601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847156490,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '280cee65-1b66-4973-a569-75122e0b745b'","result":{"duration":954012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":752910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":794310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":675109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":790310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":2424131,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":44000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":600707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":615408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":619308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":70201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":182802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:23.906 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/richtlijnstedelijkafvalwater2015\\\/wfs\\\/v1_0?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1376117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":118002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:23.907 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":763109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":97301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:23.908 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":209203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:23.908 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1021513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":96001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:23.909 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":266603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:23.910 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":873411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"280cee65-1b66-4973-a569-75122e0b745b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":612208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"280cee65-1b66-4973-a569-75122e0b745b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":373605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:23.141 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":65001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":63501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":318604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":301704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":371104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f76bdce5-344e-415f-8f2c-972755e80b65","description":"","id":"f76bdce5-344e-415f-8f2c-972755e80b65","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f76bdce5-344e-415f-8f2c-972755e80b65'","result":{"duration":63000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848797611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f76bdce5-344e-415f-8f2c-972755e80b65'","result":{"duration":598908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":634908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":634208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":613808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":640608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":634108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":512006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":520607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":535507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":61101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":87501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:23.998 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierwater\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1135415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":90301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:23.999 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":790410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":165802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:24.000 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":50101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":440706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:24.000 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1032313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":80401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:24.001 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":38600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:24.001 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=4783ea4f-6b8c-4600-8af0-516f3556cfe9#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1235215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f76bdce5-344e-415f-8f2c-972755e80b65\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":410705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f76bdce5-344e-415f-8f2c-972755e80b65\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":325204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:23.256 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":43100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":299104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":317004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":329204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2931d583-9633-49d3-ad38-aabea82f6751","description":"","id":"2931d583-9633-49d3-ad38-aabea82f6751","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2931d583-9633-49d3-ad38-aabea82f6751'","result":{"duration":95002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":843142539,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2931d583-9633-49d3-ad38-aabea82f6751'","result":{"duration":760409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":680609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":634608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":556307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":581608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":582707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":42901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":567607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":638808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":536806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":86101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":138201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:24.106 [print] https:\/\/service.pdok.nl\/bzk\/bro-hydrogeology\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":570207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":83401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:24.107 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":565107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":77001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:24.108 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":101401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:24.108 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":673909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":115601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:24.109 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":96302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:24.109 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":716409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2931d583-9633-49d3-ad38-aabea82f6751\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":565707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2931d583-9633-49d3-ad38-aabea82f6751\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":301804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:23.746 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":44700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":293404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":56201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":339704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":90401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f","description":"","id":"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f'","result":{"duration":45001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":126302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852727060,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f'","result":{"duration":1024313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":917411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1022613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":860210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":888211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":913411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":882111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":661609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":748409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":98601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":179702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:24.609 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ra\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":936312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":98402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:24.610 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":753610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":93101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:24.611 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":86502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:24.611 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1002512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":158902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:24.612 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":64900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:24.612 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3a7dd0a6-d130-4c4c-b0ba-24365cf036e2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1095314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":589408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":340504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:23.914 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":85401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":46401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":379505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":318304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":70601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3d759186-7cee-4218-aa44-165f3922fbbb","description":"","id":"3d759186-7cee-4218-aa44-165f3922fbbb","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3d759186-7cee-4218-aa44-165f3922fbbb'","result":{"duration":48500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":857235817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3d759186-7cee-4218-aa44-165f3922fbbb'","result":{"duration":721609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":603808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":576407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":565707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":627008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":592807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":490906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":517306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":512706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":139602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":861611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:24.778 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/tn-w\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":539907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":74201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:24.779 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":731610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":90901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:24.780 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":377804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:24.781 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":744210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":124202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:24.782 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":677809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:24.782 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=5951efa2-1ff3-4763-a966-a2f5497679ee#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":755609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3d759186-7cee-4218-aa44-165f3922fbbb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":670009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3d759186-7cee-4218-aa44-165f3922fbbb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":284704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:24.005 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":43901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":43001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":279703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":36401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":302104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":48901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0898d4a9-8fe6-46e9-8855-1242d8028970","description":"","id":"0898d4a9-8fe6-46e9-8855-1242d8028970","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":13600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0898d4a9-8fe6-46e9-8855-1242d8028970'","result":{"duration":312504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847091689,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0898d4a9-8fe6-46e9-8855-1242d8028970'","result":{"duration":683408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":627008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":582407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":508707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":663708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":582108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":484706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":458706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":647008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":73301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":900412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:24.861 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/richtlijnoverstromingsrisico2018\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":764609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":129601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:24.861 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1058914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":98701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:24.863 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":84401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:24.863 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":657008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":84601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:24.864 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":87601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:24.864 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=ror-9d8e-4758-83fx-28b057f185f1#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=ror-9d8e-4758-83fx-28b057f185e1#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":642608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0898d4a9-8fe6-46e9-8855-1242d8028970\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":585907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0898d4a9-8fe6-46e9-8855-1242d8028970\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":442905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:24.113 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":87001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":71501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":338204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":320304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":51701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":71401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"cea38797-ea4b-4969-b979-8d25eb543a6c","description":"","id":"cea38797-ea4b-4969-b979-8d25eb543a6c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'cea38797-ea4b-4969-b979-8d25eb543a6c'","result":{"duration":60401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":860796162,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cea38797-ea4b-4969-b979-8d25eb543a6c'","result":{"duration":769509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":722609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":658408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":630808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":707509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":728110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":625208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":886611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":689308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":86202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":172602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:24.982 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/elu\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":754209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":134601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:24.983 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":670809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":149102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:24.984 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":56601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":136002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:24.984 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":717509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":139202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:24.985 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":121701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:24.985 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=6318009c-7b11-4ab9-9929-735584dfb692#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":785210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"cea38797-ea4b-4969-b979-8d25eb543a6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":618907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"cea38797-ea4b-4969-b979-8d25eb543a6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":322404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":25300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:24.616 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":53100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":450006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":76501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":365204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":69701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e75b66ae-21b1-4303-aeb3-787608707b23","description":"","id":"e75b66ae-21b1-4303-aeb3-787608707b23","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e75b66ae-21b1-4303-aeb3-787608707b23'","result":{"duration":43400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":881477128,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e75b66ae-21b1-4303-aeb3-787608707b23'","result":{"duration":897711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":697209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":776010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":625208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":790010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":706008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":74801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":583807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":609708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":939812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":153002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":828410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:25.507 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/elu\/wfs?request=GetCapabilitiesservice=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":697709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":127602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:25.508 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":796210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":181302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:25.509 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":93902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":191602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:25.509 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":766910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":143502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:25.510 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":129102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:25.511 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=6318009c-7b11-4ab9-9929-735584dfb692#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":826710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e75b66ae-21b1-4303-aeb3-787608707b23\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":463806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e75b66ae-21b1-4303-aeb3-787608707b23\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":388305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:24.786 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":44801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":54501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":52500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":375304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":46801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":328104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":101001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a","description":"","id":"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":289404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '4074b3c3-ca85-45ad-bc0d-b5fca8540c0a'","result":{"duration":41900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":872836222,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4074b3c3-ca85-45ad-bc0d-b5fca8540c0a'","result":{"duration":1069314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":734309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":621508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":614708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":789710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":765610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":76001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":673909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":841611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":867711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":164802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":209903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:25.668 [print] https:\/\/geodata.nationaalgeoregister.nl\/vin\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":724709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":172002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:25.669 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":716109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":148802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:25.670 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":125101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":127002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:25.671 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":705509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":164702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:25.671 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":132302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:25.672 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=831f7bd7-c2ae-4336-bd2f-47ab20d7cdb7 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":667409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":497606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":282104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:24.867 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":63201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":354705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":390104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":55101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"97a7d966-7261-49d4-bc08-c4900981f092","description":"","id":"97a7d966-7261-49d4-bc08-c4900981f092","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '97a7d966-7261-49d4-bc08-c4900981f092'","result":{"duration":69801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848272712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '97a7d966-7261-49d4-bc08-c4900981f092'","result":{"duration":958012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":825210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":784910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":909212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1149115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":963412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":81901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":631208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":754309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":686209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":105102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":192502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:25.725 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-a\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":945512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":261803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:25.727 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":760210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":176402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:25.727 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":95601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":332905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:25.728 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":850011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":186702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:25.729 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":183003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:25.729 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=31de946d-85d4-4c93-bb97-e25f4ef1401a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":720909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"97a7d966-7261-49d4-bc08-c4900981f092\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":529907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"97a7d966-7261-49d4-bc08-c4900981f092\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":347304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:24.989 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":45300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":428506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":401305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":117401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5bb85b77-fffd-449b-bd61-f076fe07cc4b","description":"","id":"5bb85b77-fffd-449b-bd61-f076fe07cc4b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5bb85b77-fffd-449b-bd61-f076fe07cc4b'","result":{"duration":126902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":861210478,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5bb85b77-fffd-449b-bd61-f076fe07cc4b'","result":{"duration":1149515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":840811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":679808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":732710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":799510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":772610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":109902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":654408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":801510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":897811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":163103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":832210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:25.860 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/tn-c\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1277117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":199702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:25.862 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":944112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":147002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:25.863 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":319504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":150402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:25.863 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":982112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":166802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:25.865 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":368105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:25.865 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=6c06740d-058f-4a12-bb3f-bf68efd03d09#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1288717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5bb85b77-fffd-449b-bd61-f076fe07cc4b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":622208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5bb85b77-fffd-449b-bd61-f076fe07cc4b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":456605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":45000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:25.515 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":161402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":117602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":488906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":107902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":342204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":69801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":141802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c0a8e0ee-8639-44d4-be07-d7edf9c276c7","description":"","id":"c0a8e0ee-8639-44d4-be07-d7edf9c276c7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":37001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":39800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":21101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":27300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c0a8e0ee-8639-44d4-be07-d7edf9c276c7'","result":{"duration":21001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":25600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":844233965,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c0a8e0ee-8639-44d4-be07-d7edf9c276c7'","result":{"duration":881611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":621707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":584407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":635408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":951412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":703409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":536407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":536607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":565307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":63001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":136602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:26.367 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1114814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":74801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:26.369 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":593508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":81101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:26.369 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":110502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:26.369 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":682508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":70701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:26.370 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":36901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:26.370 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=14657c9b-91e4-4355-8563-2911ad0e78e4#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":663108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c0a8e0ee-8639-44d4-be07-d7edf9c276c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":722509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c0a8e0ee-8639-44d4-be07-d7edf9c276c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":465206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":44501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:25.675 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":111301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":95901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":335004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":129402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":389405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":68401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":130901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"09588464-071b-47be-8cbe-d15f2e1f9634","description":"","id":"09588464-071b-47be-8cbe-d15f2e1f9634","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":159902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":60300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":26101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":22300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '09588464-071b-47be-8cbe-d15f2e1f9634'","result":{"duration":23001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":21200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":39201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850998550,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '09588464-071b-47be-8cbe-d15f2e1f9634'","result":{"duration":865211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":670009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":687109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":646408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":719609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":799710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":675609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":549407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":626608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":91401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":176202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:26.535 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/tn-c\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":568008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":121901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:26.536 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":904212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":171402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:26.537 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":96001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":453406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:26.537 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":854511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":167402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:26.539 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":132102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:26.539 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=6c06740d-058f-4a12-bb3f-bf68efd03d09#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":836311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"09588464-071b-47be-8cbe-d15f2e1f9634\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":576307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"09588464-071b-47be-8cbe-d15f2e1f9634\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":304904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":44700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:25.733 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":152202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":117001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":343305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":133902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":430905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":71101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":133502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b4ae5b2c-f557-4a30-bbf2-c2681a544f32","description":"","id":"b4ae5b2c-f557-4a30-bbf2-c2681a544f32","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":39801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":27600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":20600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":18801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b4ae5b2c-f557-4a30-bbf2-c2681a544f32'","result":{"duration":19900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":18501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":18700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":843785759,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":19300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b4ae5b2c-f557-4a30-bbf2-c2681a544f32'","result":{"duration":1055513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":840110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":710009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":878412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":850810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":737109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":43601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":577007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":658509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":557907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":795610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":656308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:26.588 [print] https:\/\/geodata.nationaalgeoregister.nl\/vin\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":704009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":381105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:26.589 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":677509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":388405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:26.590 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":337904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:26.590 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":700909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":392405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:26.591 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":659108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:26.592 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=831f7bd7-c2ae-4336-bd2f-47ab20d7cdb7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1286717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b4ae5b2c-f557-4a30-bbf2-c2681a544f32\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":519106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b4ae5b2c-f557-4a30-bbf2-c2681a544f32\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":299603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":45601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:25.870 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":44700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":116402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":120102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":395205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":103501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":368205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":71801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":158602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d1cb16ca-2029-454f-b3f1-f70bceaf62c1","description":"","id":"d1cb16ca-2029-454f-b3f1-f70bceaf62c1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":323304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":57600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":21101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":18800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd1cb16ca-2029-454f-b3f1-f70bceaf62c1'","result":{"duration":20000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":18401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":23000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848174614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd1cb16ca-2029-454f-b3f1-f70bceaf62c1'","result":{"duration":1008713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":744809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":654009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":562707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":696609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":630908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":55301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":552707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":591008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":814710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":144501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":242604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:26.728 [print] https:\\\/\\\/service.pdok.nl\\\/bzk\\\/bro-geomorfologischekaart\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":777710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":159202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:26.729 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":683409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":120301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:26.729 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":95601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:26.730 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":676508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":119402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:26.730 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":95801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:26.731 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8f52e76f-c96d-4df3-a778-279c2164372b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=459231d0-7379-4f26-a444-7616e1d888f0#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":586708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d1cb16ca-2029-454f-b3f1-f70bceaf62c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":598308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d1cb16ca-2029-454f-b3f1-f70bceaf62c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":374705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:26.375 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":93401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":870211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":45501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":441705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":89701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ce4ac3b9-8291-498d-95de-79fe7b6f5259","description":"","id":"ce4ac3b9-8291-498d-95de-79fe7b6f5259","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":32501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ce4ac3b9-8291-498d-95de-79fe7b6f5259'","result":{"duration":38401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":857131828,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":26400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ce4ac3b9-8291-498d-95de-79fe7b6f5259'","result":{"duration":967913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":753209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":754410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":712809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":955712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":813310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":595007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":584908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":649308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":83801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":826111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:27.242 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ro\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":683609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":577507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:27.243 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":697109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":370305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:27.244 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":37701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":359704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:27.245 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":769110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":422706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:27.246 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":534506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:27.246 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=8f45b8ef-0ce8-463a-9059-5efdcecb785c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":733709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ce4ac3b9-8291-498d-95de-79fe7b6f5259\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":504906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ce4ac3b9-8291-498d-95de-79fe7b6f5259\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":310204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:26.543 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":69300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":341304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":360704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":89001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ec73f245-66ce-4144-ac27-5966c80a4b3a","description":"","id":"ec73f245-66ce-4144-ac27-5966c80a4b3a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ec73f245-66ce-4144-ac27-5966c80a4b3a'","result":{"duration":38101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":862575896,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ec73f245-66ce-4144-ac27-5966c80a4b3a'","result":{"duration":953712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":773710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":937712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1052213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":977513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":810610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":608807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":725410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":895011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":74001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":218603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:27.415 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-w\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":773910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":127402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:27.416 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":604807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":88501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:27.417 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":104302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:27.417 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":825710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":99802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:27.418 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":83201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:27.418 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5951efa2-1ff3-4763-a966-a2f5497679ee#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":860111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ec73f245-66ce-4144-ac27-5966c80a4b3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":592608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ec73f245-66ce-4144-ac27-5966c80a4b3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":273803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:26.596 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":61401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":45401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":1266616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":45501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":353104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":47201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":87701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79","description":"","id":"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79'","result":{"duration":36200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":858695247,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79'","result":{"duration":854011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1025413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":920312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":942912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1002613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1024513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":49301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":885312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":889211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":4224853,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":152602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":190202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:27.470 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ro\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":942412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":118701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:27.471 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":828611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":113501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:27.472 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":83001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:27.472 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1081014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":135401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:27.473 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":62901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:27.473 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=8f45b8ef-0ce8-463a-9059-5efdcecb785c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1257816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":561707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":415405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:26.734 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":65101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":73401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":331004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":391805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":116802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"76854ff3-a853-4405-b9fd-acef66460376","description":"","id":"76854ff3-a853-4405-b9fd-acef66460376","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '76854ff3-a853-4405-b9fd-acef66460376'","result":{"duration":56201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":952473332,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '76854ff3-a853-4405-b9fd-acef66460376'","result":{"duration":6736285,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":8895413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":7842399,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":7945901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":8861612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":7471494,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":5381268,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":5043164,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":5648771,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":733610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1590020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:27.755 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsgebiedsoorten\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":6056577,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":497506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:27.761 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":5227566,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":1295316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:27.768 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":39401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":1856123,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:27.770 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":8255405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":243503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:27.778 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":288604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:27.779 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=cbeaebc3-815a-48af-a978-0e16892865fc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":28074754,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"76854ff3-a853-4405-b9fd-acef66460376\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":682408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"76854ff3-a853-4405-b9fd-acef66460376\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":306704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:27.250 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":44701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":318404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":372705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":342904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"684ff4f6-1652-45a8-93f0-8e16d37b2a66","description":"","id":"684ff4f6-1652-45a8-93f0-8e16d37b2a66","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":37100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '684ff4f6-1652-45a8-93f0-8e16d37b2a66'","result":{"duration":39201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":867537759,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '684ff4f6-1652-45a8-93f0-8e16d37b2a66'","result":{"duration":1124915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":850511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":922311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":756109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":831311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":712409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":74401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":613308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":729309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":606308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":669609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":687008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:28.128 [print] https:\/\/geodata.nationaalgeoregister.nl\/hwh\/eenheden\/wms\/v1_0?SERVICE=WMS&VERSION=1.3.0&REQUEST=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":620507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":470306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:28.129 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":693908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":538506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:28.131 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":81801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":402005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:28.131 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":648308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":597808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:28.132 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":771010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:28.133 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d4ec7e6-50ae-4c71-bd20-5b9211e2135f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":701309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"684ff4f6-1652-45a8-93f0-8e16d37b2a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":432305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"684ff4f6-1652-45a8-93f0-8e16d37b2a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":290804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:27.422 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":45601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":81301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":376404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":36200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":342304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":53801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"37e05521-c323-4dbe-aba4-de1178ba44a5","description":"","id":"37e05521-c323-4dbe-aba4-de1178ba44a5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":29600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":50300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '37e05521-c323-4dbe-aba4-de1178ba44a5'","result":{"duration":39901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":946408955,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '37e05521-c323-4dbe-aba4-de1178ba44a5'","result":{"duration":4045951,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":7042389,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":5448469,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":5544770,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":5826473,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":5604871,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":79201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":8439607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":5696072,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":13806475,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":725809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":234203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:28.432 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsoorten\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":4453957,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":205002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:28.437 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":4504756,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":208102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:28.442 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":84901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":148301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:28.442 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":6131577,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":235303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:28.448 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":134302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:28.448 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=fcefa13c-44e2-4953-b6d6-1ddceebc57fc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":5641271,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"37e05521-c323-4dbe-aba4-de1178ba44a5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":420906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"37e05521-c323-4dbe-aba4-de1178ba44a5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":289804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:27.477 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":50400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":368405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":403905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":73901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"8e7686c3-f75e-411f-866e-6985267b916b","description":"","id":"8e7686c3-f75e-411f-866e-6985267b916b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '8e7686c3-f75e-411f-866e-6985267b916b'","result":{"duration":42301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":931181863,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8e7686c3-f75e-411f-866e-6985267b916b'","result":{"duration":3304942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":6133878,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":6758286,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":5196265,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":6419981,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":6814386,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":78301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":3128840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":3605945,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":3168440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":1548919,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":973913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:28.457 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsgebiedsoorten\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":4053251,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":454906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:28.462 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":3621246,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":1751122,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:28.467 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":115202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":92801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:28.468 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":5620671,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":203403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:28.473 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":194802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:28.474 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=cbeaebc3-815a-48af-a978-0e16892865fc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":6481581,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"8e7686c3-f75e-411f-866e-6985267b916b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":416005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"8e7686c3-f75e-411f-866e-6985267b916b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":268903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":51901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:27.811 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":45900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":122502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":122202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":549607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":141302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":439806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":91601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":233703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"68a7e4c1-0073-4a1a-a6df-084d2badf45a","description":"","id":"68a7e4c1-0073-4a1a-a6df-084d2badf45a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":43101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":32900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":20201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '68a7e4c1-0073-4a1a-a6df-084d2badf45a'","result":{"duration":18100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":22501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":835765958,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68a7e4c1-0073-4a1a-a6df-084d2badf45a'","result":{"duration":736509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":585208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":612008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":515006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":781810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":760710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":70701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":582208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":579207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":570407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":108302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":171902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:28.656 [print] https:\/\/service.pdok.nl\/cbs\/wb2019\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":630608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":151902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:28.656 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":721910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":160102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:28.657 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":119801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":255504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:28.658 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":838610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":253303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:28.659 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":211102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:28.659 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5c37d29a-006d-4136-8989-adfc35a1d4a7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":723209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"68a7e4c1-0073-4a1a-a6df-084d2badf45a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1332217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"68a7e4c1-0073-4a1a-a6df-084d2badf45a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":535007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":44100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:28.137 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":53901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":131302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":96901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":351305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":94001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":352904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":85601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":588107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2650d49b-7d9a-49b5-b748-a0372cd9b5cf","description":"","id":"2650d49b-7d9a-49b5-b748-a0372cd9b5cf","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":43401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":31400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":23501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2650d49b-7d9a-49b5-b748-a0372cd9b5cf'","result":{"duration":17500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849681133,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2650d49b-7d9a-49b5-b748-a0372cd9b5cf'","result":{"duration":805510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":683009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":857911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":620808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":662308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":667209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":516607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":558407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":530007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":65801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":150302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:28.996 [print] http:\\\/\\\/geodata.nationaalgeoregister.nl\\\/wsdiensteninspire\\\/wms?request=getcapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":566407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":114102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:28.996 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":614508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":68801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:28.997 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":28500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":90301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:28.997 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":666608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":88101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:28.998 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":77201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:28.998 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=bffcd5d9-02b4-4e7d-991f-a386611cad84#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":645009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2650d49b-7d9a-49b5-b748-a0372cd9b5cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":487906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2650d49b-7d9a-49b5-b748-a0372cd9b5cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":306204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":58801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:28.466 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":118601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":176102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":359204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":109301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":3383343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":84001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":123002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e69bb2e9-eff4-4fb3-86a6-057cf628e761","description":"","id":"e69bb2e9-eff4-4fb3-86a6-057cf628e761","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":35700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":30901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":18800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e69bb2e9-eff4-4fb3-86a6-057cf628e761'","result":{"duration":17501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":939890473,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e69bb2e9-eff4-4fb3-86a6-057cf628e761'","result":{"duration":3748348,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":5536970,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":4707559,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":5180765,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":4402156,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":4642859,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":32654013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":3275241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":3488044,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":638308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":244903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:29.479 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsoorten\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":3503444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":130301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:29.483 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":3935650,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":200703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:29.487 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":1264016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":144202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:29.489 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":5279867,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":149502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:29.494 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":429805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:29.495 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=fcefa13c-44e2-4953-b6d6-1ddceebc57fc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":5594071,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e69bb2e9-eff4-4fb3-86a6-057cf628e761\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":420305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e69bb2e9-eff4-4fb3-86a6-057cf628e761\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":333704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":42401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:28.483 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":107501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":147002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":337504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":99501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":432805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":68701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":137302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"627b50bf-2e33-4beb-a314-ff8c0fe8912e","description":"","id":"627b50bf-2e33-4beb-a314-ff8c0fe8912e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":32501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":26800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":19500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":17700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '627b50bf-2e33-4beb-a314-ff8c0fe8912e'","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":19500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":885978292,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '627b50bf-2e33-4beb-a314-ff8c0fe8912e'","result":{"duration":814510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":703509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":654709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":717909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":827411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":853311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":65901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":647609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":621708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":746709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":60101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":133702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:29.378 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-w\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1137115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":95401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:29.379 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":948512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":95201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:29.380 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":432605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:29.381 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":718909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":112301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:29.382 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":838711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:29.382 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":778010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"627b50bf-2e33-4beb-a314-ff8c0fe8912e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":621508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"627b50bf-2e33-4beb-a314-ff8c0fe8912e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":421905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:28.664 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":61901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":405305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":55801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":327904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":52901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a84f9836-9111-4e45-a311-3dab39019e15","description":"","id":"a84f9836-9111-4e45-a311-3dab39019e15","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a84f9836-9111-4e45-a311-3dab39019e15'","result":{"duration":37900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":845257377,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":19800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a84f9836-9111-4e45-a311-3dab39019e15'","result":{"duration":687409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":752810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":697009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":717109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":816510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":785510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":83301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1221515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1304517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":711109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":650208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":221603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:29.519 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-w\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":771710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":146802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:29.520 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":977813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":145402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:29.522 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":364605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":157402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:29.522 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1042013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":184502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:29.523 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":413505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:29.524 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1255716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a84f9836-9111-4e45-a311-3dab39019e15\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":434806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a84f9836-9111-4e45-a311-3dab39019e15\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":269303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:29.002 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":41501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":292703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":336504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":85501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"018a28a5-1019-4747-b031-f66ffc1c6ae7","description":"","id":"018a28a5-1019-4747-b031-f66ffc1c6ae7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '018a28a5-1019-4747-b031-f66ffc1c6ae7'","result":{"duration":34700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":869237581,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '018a28a5-1019-4747-b031-f66ffc1c6ae7'","result":{"duration":1110714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":752910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":798010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":750809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":994212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1042014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":82901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":721109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":611008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":2524032,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":137502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":189402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:29.883 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-ro\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1091814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":128902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:29.884 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1006513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":159302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:29.885 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":314904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":123102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:29.886 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1014413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":130301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:29.887 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":408305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:29.887 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-cb527d-f6db-4835-b0cd-deb245241254#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1216715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"018a28a5-1019-4747-b031-f66ffc1c6ae7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":384205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"018a28a5-1019-4747-b031-f66ffc1c6ae7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":267404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":53701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:29.388 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":85701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":379405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":449406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":52800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":78301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"65f9628b-0a58-4348-8fff-c2d02788acdb","description":"","id":"65f9628b-0a58-4348-8fff-c2d02788acdb","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":23401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '65f9628b-0a58-4348-8fff-c2d02788acdb'","result":{"duration":454206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":844660670,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '65f9628b-0a58-4348-8fff-c2d02788acdb'","result":{"duration":1147315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1015213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":979212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":848210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1164014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1129915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":106301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":772810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":734510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":714709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":168502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":230303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:30.244 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ra\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1588920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":148402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:30.246 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":931312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":134702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:30.247 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":76801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":136102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:30.247 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":793410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":152202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:30.248 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":150902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:30.248 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=3a7dd0a6-d130-4c4c-b0ba-24365cf036e2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1030513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"65f9628b-0a58-4348-8fff-c2d02788acdb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":557807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"65f9628b-0a58-4348-8fff-c2d02788acdb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":296604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":44000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:29.503 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":110101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":93201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":343704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":93302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":333804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":67001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":140802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"4fb15e0d-d88f-40f1-b407-3d3edcf7e184","description":"","id":"4fb15e0d-d88f-40f1-b407-3d3edcf7e184","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":35600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":30501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":23500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '4fb15e0d-d88f-40f1-b407-3d3edcf7e184'","result":{"duration":18700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847603607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4fb15e0d-d88f-40f1-b407-3d3edcf7e184'","result":{"duration":919912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":752609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":990312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":769210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1050813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1233915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":102502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":716209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":567307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":677709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":63800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":120901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:30.362 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-ro\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1110214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":98702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:30.363 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1006312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":123701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:30.364 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":60401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":120402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:30.364 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1008112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":167602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:30.366 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":800110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:30.366 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-cb527d-f6db-4835-b0cd-deb245241254#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":724109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"4fb15e0d-d88f-40f1-b407-3d3edcf7e184\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":458005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"4fb15e0d-d88f-40f1-b407-3d3edcf7e184\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":346104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":42400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:29.528 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":94801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":108501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":283303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":92301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":369304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":85201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":114102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"598c4109-21d2-4a6c-b083-9975a6736853","description":"","id":"598c4109-21d2-4a6c-b083-9975a6736853","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":34500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":48700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":38901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":22100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '598c4109-21d2-4a6c-b083-9975a6736853'","result":{"duration":35301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":18400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":865297031,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '598c4109-21d2-4a6c-b083-9975a6736853'","result":{"duration":1769423,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":820610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":807310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":724109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":760810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":717809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":62901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":532007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":588307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":560707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":65701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":139402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:30.403 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/weggeg\\\/wms?request=getcapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1023313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":95201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:30.404 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":854311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":112802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:30.405 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":661809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:30.406 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":736809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":76701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:30.407 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":41001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:30.407 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=27df6b33-194c-46d6-ac94-257c306c91f2#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=abaf1e22-55aa-4a11-a855-7ac963e4a82b#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1339117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736853\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":563707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736853\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":366205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":43900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:29.892 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":178802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":101302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":396505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":96301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":362605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":104401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":142602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"180b6682-5d6f-429d-abb7-32f7d6253787","description":"","id":"180b6682-5d6f-429d-abb7-32f7d6253787","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":33901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":324904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":36100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":20401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '180b6682-5d6f-429d-abb7-32f7d6253787'","result":{"duration":18800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":18201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":860125265,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '180b6682-5d6f-429d-abb7-32f7d6253787'","result":{"duration":817311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":693009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":650908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":721609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":800911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":907911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":47700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":711809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":573107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":664208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":72201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":742909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:30.763 [print] https:\/\/geodata.nationaalgeoregister.nl\/windkaart\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":590108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":75201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:30.763 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":924912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":96801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:30.765 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":49601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":333804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:30.765 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":911412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":114301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:30.766 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":611908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:30.767 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=d845cef6-0e23-4212-a951-b69763e39ef0#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":711709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"180b6682-5d6f-429d-abb7-32f7d6253787\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":515907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"180b6682-5d6f-429d-abb7-32f7d6253787\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":302704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":46301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:30.252 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":122001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":136301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":431006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":104001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":393905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":90601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":305004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d981070b-888c-42d5-85ff-1e383f3d7fce","description":"","id":"d981070b-888c-42d5-85ff-1e383f3d7fce","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":52700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":35100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":99301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":25300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd981070b-888c-42d5-85ff-1e383f3d7fce'","result":{"duration":23100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":20401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":20900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":843551356,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd981070b-888c-42d5-85ff-1e383f3d7fce'","result":{"duration":1056214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":723909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":832511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":898911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1034313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1709321,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":613308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":629208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":613208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":80601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":220403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:31.107 [print] https:\/\/geodata.nationaalgeoregister.nl\/windkaart\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":871311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":107102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:31.108 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":653208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":103502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:31.109 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":51600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":94502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:31.109 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":807010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":139802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:31.110 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":107501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:31.110 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d845cef6-0e23-4212-a951-b69763e39ef0#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":736709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d981070b-888c-42d5-85ff-1e383f3d7fce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":614608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d981070b-888c-42d5-85ff-1e383f3d7fce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":306004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:30.370 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":66501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":358504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":356504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":79901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"4805aac3-9a8d-4fcd-851b-88c7b3d342e2","description":"","id":"4805aac3-9a8d-4fcd-851b-88c7b3d342e2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '4805aac3-9a8d-4fcd-851b-88c7b3d342e2'","result":{"duration":324904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":851004450,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4805aac3-9a8d-4fcd-851b-88c7b3d342e2'","result":{"duration":883611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1073114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1023013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":652308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":589307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":608608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":708609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":604207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":559707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":113201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":138102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:31.230 [print] https:\/\/service.pdok.nl\/kadaster\/sr\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":590208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":113301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:31.232 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":948712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":91501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:31.233 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":557008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:31.233 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":592607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":107102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:31.234 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":1548619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:31.235 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":720310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"4805aac3-9a8d-4fcd-851b-88c7b3d342e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":653308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"4805aac3-9a8d-4fcd-851b-88c7b3d342e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":374705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:30.411 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":46101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":301004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":296203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":70601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a301ddc7-c26f-42d8-b367-509ae5ae47d0","description":"","id":"a301ddc7-c26f-42d8-b367-509ae5ae47d0","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a301ddc7-c26f-42d8-b367-509ae5ae47d0'","result":{"duration":326204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848251115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a301ddc7-c26f-42d8-b367-509ae5ae47d0'","result":{"duration":700709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":722309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":645308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":665909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1056713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":838511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":51001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":551007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":566107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":613608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":68401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":92201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:31.268 [print] https:\\\/\\\/service.pdok.nl\\\/hwh\\\/luchtfotorgb\\\/wms\\\/v1_0?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":640608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":69001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:31.269 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":670608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":145402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:31.270 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":83501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:31.270 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1340917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":129802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:31.271 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":123202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:31.272 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=74aca3eb-c38b-4214-9537-e0abc69e11b5#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=5b274449-b6c2-4672-a32f-e0bd40975a53#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=df15af6e-0d21-4437-a69f-802be3479bba#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=64ff8561-5c56-4cc1-ae0e-94366fb70b7e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=4e2bb25e-a5a9-43a7-986a-40e7aea32e38#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":897411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a301ddc7-c26f-42d8-b367-509ae5ae47d0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":465406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a301ddc7-c26f-42d8-b367-509ae5ae47d0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":449206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:30.770 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":42900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":310804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":316004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":57101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545","description":"","id":"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9fd2324b-9e02-4eab-bd4a-8e2be4fcd545'","result":{"duration":280204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":935112012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9fd2324b-9e02-4eab-bd4a-8e2be4fcd545'","result":{"duration":868611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":644708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1645421,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":782610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":908412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":857711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":81801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":710209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":606908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":585808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":181202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":797310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:31.716 [print] https:\/\/inspire.rivm.nl\/geoserver\/airq\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":755710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":149702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:31.717 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1041613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":144602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:31.718 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":331105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":174902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:31.718 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1178715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":190302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:31.720 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":387604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:31.720 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2cc2c30c-91b8-412a-a060-e84d25272581 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1227015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":570907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":524006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:31.118 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":361305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":50101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":500106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":50901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":437906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d7a395a2-8673-4794-a5a6-fed6492cd580","description":"","id":"d7a395a2-8673-4794-a5a6-fed6492cd580","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":20400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd7a395a2-8673-4794-a5a6-fed6492cd580'","result":{"duration":49901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":858125940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd7a395a2-8673-4794-a5a6-fed6492cd580'","result":{"duration":1105114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":732610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":702109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":892911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1009213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1064614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":107101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":834011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":850511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":815110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":127802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":209903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:31.987 [print] https:\\\/\\\/service.pdok.nl\\\/hwh\\\/luchtfotocir\\\/wms\\\/v1_0?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":698609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":128702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:31.988 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":703909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":142902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:31.989 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":72501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":167402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:31.989 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":756010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":149402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:31.990 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":164302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:31.990 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1be28290-55fa-4486-b9d3-b9d147117863#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=7c24ea89-074e-4c4f-91e3-d38e813e9cb6#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=7f5d7945-8fa8-4d36-be4c-2fdb3c7d613b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9ed6b8ed-254a-4745-a09a-3b57137d1b69#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=4cfb1469-a152-4ba6-8fe9-4b627acd7ee0#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":715609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d7a395a2-8673-4794-a5a6-fed6492cd580\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":472906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d7a395a2-8673-4794-a5a6-fed6492cd580\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":325704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:31.239 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":43801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":311004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":36800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":369605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":70501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8","description":"","id":"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'deb81ebe-c7a7-42ba-bc21-f07cd348c3e8'","result":{"duration":322704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":858527945,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'deb81ebe-c7a7-42ba-bc21-f07cd348c3e8'","result":{"duration":931711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":693108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":613208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":652609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":957512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":839111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":74101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":594007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":699409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":705609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":156101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":825310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:32.108 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw-inspire?request=GetCapabilities&Service=CSW&Version=2.0.1 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":668609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":136801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:32.108 [print] OGC:CSW \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":911311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":120502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:32.109 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":66301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":142302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:32.110 [print] OGC:CSW \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":889211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":175202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:32.111 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":327304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:32.111 [print] #notpresent \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":955312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":524507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":356304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:31.275 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":24700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":74601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":248403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":50201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":283904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":46601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7dc30aed-0940-4e69-b34c-9f24b34078eb","description":"","id":"7dc30aed-0940-4e69-b34c-9f24b34078eb","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":33900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":11801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7dc30aed-0940-4e69-b34c-9f24b34078eb'","result":{"duration":34500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":855868911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7dc30aed-0940-4e69-b34c-9f24b34078eb'","result":{"duration":706309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":888412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":801310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":577607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":689009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":655609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":67401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":589907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":588908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":547907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":137202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":384105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:32.139 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":603008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":177702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:32.140 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":690609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":195602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:32.142 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":75601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":137602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:32.142 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":671708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":195403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:32.143 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":436106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:32.144 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f8d840bc-18df-4449-b797-b9adcb81d3ec \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1322616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7dc30aed-0940-4e69-b34c-9f24b34078eb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":394105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7dc30aed-0940-4e69-b34c-9f24b34078eb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":434905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":85801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:31.726 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":189502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":151401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":557607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":150402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":2790535,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":99602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":209602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e5ef707f-6458-4567-8d2c-d24fe88ab5e9","description":"","id":"e5ef707f-6458-4567-8d2c-d24fe88ab5e9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":62301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":326605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":34900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":19900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e5ef707f-6458-4567-8d2c-d24fe88ab5e9'","result":{"duration":18300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":845237878,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e5ef707f-6458-4567-8d2c-d24fe88ab5e9'","result":{"duration":757110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":600707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":638809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":677408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":711409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":595207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":500906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":685909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":834111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":644908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":645309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:32.584 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/zoutvelden_en_productieputten?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":539607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":384705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:32.585 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":555507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":87401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:32.585 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":339904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:32.586 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":856111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":90801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:32.587 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":736709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:32.587 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=e3b0da1e-0664-4025-b3f5-a54d74a26450&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":592607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e5ef707f-6458-4567-8d2c-d24fe88ab5e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":685909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e5ef707f-6458-4567-8d2c-d24fe88ab5e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":341204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":64601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:31.995 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":136002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":113602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":366304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":116601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":393305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":67901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":1427518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3d01c1ca-973c-4652-baa5-39458bb9e181","description":"","id":"3d01c1ca-973c-4652-baa5-39458bb9e181","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":57201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":33601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":19600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3d01c1ca-973c-4652-baa5-39458bb9e181'","result":{"duration":17101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":16800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849188027,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3d01c1ca-973c-4652-baa5-39458bb9e181'","result":{"duration":771309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":611307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":585108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":606008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":740709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":721009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":588807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":516106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":539607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":104302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":165202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:32.853 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierenpercelen\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":774610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":91401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:32.854 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":682009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":85601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:32.855 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":202702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:32.855 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":967613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":112001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:32.856 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":100401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:32.856 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe0e1e5f-512f-4bb1-bbf8-4028d3dfa24f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":948012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3d01c1ca-973c-4652-baa5-39458bb9e181\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":487906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3d01c1ca-973c-4652-baa5-39458bb9e181\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":3440144,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":43001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:32.117 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":53201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":109001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":88901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":377804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":91402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":457005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":94601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":162102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ddf33bff-8de3-4cca-b6f5-24d18daa502f","description":"","id":"ddf33bff-8de3-4cca-b6f5-24d18daa502f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":336604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":44400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":19801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":17700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ddf33bff-8de3-4cca-b6f5-24d18daa502f'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":17301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846333991,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ddf33bff-8de3-4cca-b6f5-24d18daa502f'","result":{"duration":696009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":686609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":576107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":571307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":604407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":611908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":498306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":515007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":518706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":87001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":117201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:32.972 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnwater2015\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":570508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":172102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:32.972 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":676209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":87601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:32.973 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":46001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":94701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:32.973 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":616008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":87801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:32.974 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":40001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:32.974 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbeag#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbead#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":604707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ddf33bff-8de3-4cca-b6f5-24d18daa502f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":452406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ddf33bff-8de3-4cca-b6f5-24d18daa502f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":306504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":40301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:32.148 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":108102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":86301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":316004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":90301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":344505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":64301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":142601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c99b1291-c51f-49c8-902d-5bd4148cbbde","description":"","id":"c99b1291-c51f-49c8-902d-5bd4148cbbde","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":297803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":32101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":36600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":35800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c99b1291-c51f-49c8-902d-5bd4148cbbde'","result":{"duration":17700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":16801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":34900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":856688722,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c99b1291-c51f-49c8-902d-5bd4148cbbde'","result":{"duration":694409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":631708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":601708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":656508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":636608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":672308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":512506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":509207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":520106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":54500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":82101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:33.013 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/HabitatsAndBiotopes\\\/services\\\/view_HB?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1299316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":187302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:33.014 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":873411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":93101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:33.015 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":46401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":300404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:33.015 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":878311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":75801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:33.016 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":56001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:33.016 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88e2a6fa-b296-4ff4-bc30-fb87e2c1627e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1353217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c99b1291-c51f-49c8-902d-5bd4148cbbde\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":293804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c99b1291-c51f-49c8-902d-5bd4148cbbde\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":261003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:32.591 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":50100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":62101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":333304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":36500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":291504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":53201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"93a9571d-1754-47ee-a8f9-92633abfab3a","description":"","id":"93a9571d-1754-47ee-a8f9-92633abfab3a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '93a9571d-1754-47ee-a8f9-92633abfab3a'","result":{"duration":276803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":842062942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '93a9571d-1754-47ee-a8f9-92633abfab3a'","result":{"duration":915411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":617308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":597407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":820410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":655808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":594207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":36201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":525906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":558607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":592508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":387205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":321104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:33.442 [print] https:\/\/geodata.nationaalgeoregister.nl\/rvo\/invasieve-exoten\/wfs\/v1_0?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":562707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":260703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:33.443 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":639608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":266304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:33.443 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":239103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:33.444 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":779909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":327004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:33.445 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":224902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:33.445 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=3703b249-a0eb-484e-ba7a-10e31a55bcec&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":634907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"93a9571d-1754-47ee-a8f9-92633abfab3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":543806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"93a9571d-1754-47ee-a8f9-92633abfab3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":327205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:32.864 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":45201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":43900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":318504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":419905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":452106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"8129296b-b9c1-489f-990a-df4a879e12b2","description":"","id":"8129296b-b9c1-489f-990a-df4a879e12b2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '8129296b-b9c1-489f-990a-df4a879e12b2'","result":{"duration":39100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":23500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852631791,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8129296b-b9c1-489f-990a-df4a879e12b2'","result":{"duration":879711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1550919,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":771110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":807510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":923511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":669608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":550106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":607907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":616708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":140002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":155002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:33.726 [print] https:\/\/service.pdok.nl\/cbs\/hh\/wfs\/v1_0?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":619107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":119201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:33.727 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":12706957,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":252703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:33.740 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":110402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":87901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:33.740 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":769110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":143701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:33.741 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":210202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:33.741 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=12bb57cd-73e0-41ba-a1e9-6d986b9109d3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":836711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"8129296b-b9c1-489f-990a-df4a879e12b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":479606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"8129296b-b9c1-489f-990a-df4a879e12b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":289503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:32.980 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":61801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":367304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":385105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":431505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"664862cb-d426-4ee4-97ac-14c12b903b54","description":"","id":"664862cb-d426-4ee4-97ac-14c12b903b54","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":36401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":34000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '664862cb-d426-4ee4-97ac-14c12b903b54'","result":{"duration":60500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":834589534,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":9800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '664862cb-d426-4ee4-97ac-14c12b903b54'","result":{"duration":948012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":722209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":623308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":655508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":802910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":745509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":86402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":670308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":826110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":623308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":161402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":205703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:33.823 [print] https:\/\/www.broinspireservices.nl\/wms\/oshhgqm-a-v1.0?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":649508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":191503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:33.824 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":577807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":161902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:33.825 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":72501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":168302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:33.825 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":746310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":154602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:33.826 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":189402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:33.826 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6050578f-0010-4bfa-b013-c8617b80ba62&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":712409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"664862cb-d426-4ee4-97ac-14c12b903b54\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":501506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"664862cb-d426-4ee4-97ac-14c12b903b54\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":358305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:33.020 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":41701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":40900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":254704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":34000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":320204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":112101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0606e8cb-fa51-402c-a3be-19fd724b0a10","description":"","id":"0606e8cb-fa51-402c-a3be-19fd724b0a10","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":11400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0606e8cb-fa51-402c-a3be-19fd724b0a10'","result":{"duration":61501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":839536784,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0606e8cb-fa51-402c-a3be-19fd724b0a10'","result":{"duration":1147815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":687208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":607507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":628708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":761810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":829210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":75801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":588107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":790009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":669309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":144802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":556907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:33.868 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":695208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":191103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:33.869 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":576207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":185102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:33.870 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":77501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":166102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:33.870 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":708809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":153402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:33.871 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":169002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:33.871 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f2f86edf-ac3a-48e8-9292-0544da2d7645 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":977012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0606e8cb-fa51-402c-a3be-19fd724b0a10\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":487706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0606e8cb-fa51-402c-a3be-19fd724b0a10\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":418906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:33.450 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":382505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":523106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":301804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3094a1c4-3dd6-4e8e-9929-4a63dd66992e","description":"","id":"3094a1c4-3dd6-4e8e-9929-4a63dd66992e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":34001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":22800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3094a1c4-3dd6-4e8e-9929-4a63dd66992e'","result":{"duration":62701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":841577381,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3094a1c4-3dd6-4e8e-9929-4a63dd66992e'","result":{"duration":1036513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":818510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":717909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1719521,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":884611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":816711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":78101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":606407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":635408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":751310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":139802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":478606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:34.302 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/ProductionAndIndustrialFacilities\\\/services\\\/download_PF?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":842810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":307904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:34.303 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":598208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":293203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:34.304 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":83501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":267503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:34.305 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":776210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":264003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:34.306 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":266204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:34.306 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=8e986f37-74d7-4b6c-8026-87c960456423&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=afc450bd-65b3-4e59-b0fb-619869bf6ada&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":887711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3094a1c4-3dd6-4e8e-9929-4a63dd66992e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":480206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3094a1c4-3dd6-4e8e-9929-4a63dd66992e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":362004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":46001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:33.746 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":67001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":119301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":107002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":390505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":99501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":372905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":70401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":266103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5be1b57b-2cac-4119-92eb-700346543d47","description":"","id":"5be1b57b-2cac-4119-92eb-700346543d47","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":62601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":34800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":20801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":19700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5be1b57b-2cac-4119-92eb-700346543d47'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":19100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":18800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":856651267,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5be1b57b-2cac-4119-92eb-700346543d47'","result":{"duration":818311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":578007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":572107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":553207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":828610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":647808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":71300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":515306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":711209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":658208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":137702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":341204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:34.611 [print] https:\/\/inspire.caris.nl\/geoserver\/mu\/wfs?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":626508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":129002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:34.612 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":501106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":66201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:34.613 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":79101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":49201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:34.613 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":577807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":59501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:34.613 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":34301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:34.613 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=a5241416-8401-4623-be61-57ef50447a41&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":617507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5be1b57b-2cac-4119-92eb-700346543d47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":419906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5be1b57b-2cac-4119-92eb-700346543d47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":305203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":43401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:33.830 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":43400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":116302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":111001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":360705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":136001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":466206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":70901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":150602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"702060c1-b3fd-44ec-8cc6-d4249d150110","description":"","id":"702060c1-b3fd-44ec-8cc6-d4249d150110","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":36101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":31200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":21001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '702060c1-b3fd-44ec-8cc6-d4249d150110'","result":{"duration":19300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":18301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846098937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '702060c1-b3fd-44ec-8cc6-d4249d150110'","result":{"duration":687808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":591207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":748709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":952412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":610808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":646508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":532906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":488306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":495206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":60701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":86101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:34.685 [print] http:\/\/services.inspire-provincies.nl\/HabitatsAndBiotopes\/services\/download_HB?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":656808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":64301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:34.686 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":599107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":84101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:34.686 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":28300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":43301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:34.686 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":580607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":151802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:34.687 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":46401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:34.687 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88e2a6fa-b296-4ff4-bc30-fb87e2c1627e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":674708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"702060c1-b3fd-44ec-8cc6-d4249d150110\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":504706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"702060c1-b3fd-44ec-8cc6-d4249d150110\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":257404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":43100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:33.876 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":87801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":1062713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":159202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":475306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":123702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":524106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":73401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":357305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5255c080-5f4e-4f7a-8a2c-6ac9d0103288","description":"","id":"5255c080-5f4e-4f7a-8a2c-6ac9d0103288","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":84001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":1913824,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":78001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":42401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5255c080-5f4e-4f7a-8a2c-6ac9d0103288'","result":{"duration":21400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":19500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":18300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847643256,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5255c080-5f4e-4f7a-8a2c-6ac9d0103288'","result":{"duration":544607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":635608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":579607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":726309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":600308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":600107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":48800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":589908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":495706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":498106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":58301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":80801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:34.735 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":515406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":64700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:34.735 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":553106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":64501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:34.736 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":27601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":40400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:34.736 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":571207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":100201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:34.737 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":35300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:34.737 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f8d840bc-18df-4449-b797-b9adcb81d3ec \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":583008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5255c080-5f4e-4f7a-8a2c-6ac9d0103288\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":324404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5255c080-5f4e-4f7a-8a2c-6ac9d0103288\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":253603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":47601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:34.310 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":131201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":111701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":376705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":99401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":368805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":70201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":233703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"fff9d7cf-9929-4dde-98b8-06ceda7e5610","description":"","id":"fff9d7cf-9929-4dde-98b8-06ceda7e5610","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":42501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":52200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":28501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":19100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'fff9d7cf-9929-4dde-98b8-06ceda7e5610'","result":{"duration":18800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":18100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":18700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":844697220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'fff9d7cf-9929-4dde-98b8-06ceda7e5610'","result":{"duration":796410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":647008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":670408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":639407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":698208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":674709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":532107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":531706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":549506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":63401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":138902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:35.163 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn2\\\/wcs?request=GetCapabilities&service=WCS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":769510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":130901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:35.164 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":888310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":108501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:35.165 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":38101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":52500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:35.165 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1684221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":415306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:35.167 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":60700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:35.168 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7939fd42-cf88-42c5-ab3b-232cf232a3ac#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":890010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"fff9d7cf-9929-4dde-98b8-06ceda7e5610\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":504306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"fff9d7cf-9929-4dde-98b8-06ceda7e5610\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":470006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:34.616 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":81401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":45301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":407505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":311803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":64301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"745968a3-37af-4406-988e-ec595f58c7fe","description":"","id":"745968a3-37af-4406-988e-ec595f58c7fe","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '745968a3-37af-4406-988e-ec595f58c7fe'","result":{"duration":35201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":879613850,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '745968a3-37af-4406-988e-ec595f58c7fe'","result":{"duration":984512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":879311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1035813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":776809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1137714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":810010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":789009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":668208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":635908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":80501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":108501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:35.506 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":769609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":82401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:35.507 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":751710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":79501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:35.507 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":47201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:35.507 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":742409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":119002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:35.508 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":67201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:35.508 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d24ccb35-e9d2-41bf-b231-43083fc0c76d \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1209415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"745968a3-37af-4406-988e-ec595f58c7fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":641808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"745968a3-37af-4406-988e-ec595f58c7fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":332004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:34.690 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":43701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":120001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":341805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":302604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":50600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"17ad94f6-4961-448b-a6f5-5368b7870409","description":"","id":"17ad94f6-4961-448b-a6f5-5368b7870409","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '17ad94f6-4961-448b-a6f5-5368b7870409'","result":{"duration":34400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":843183801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '17ad94f6-4961-448b-a6f5-5368b7870409'","result":{"duration":888811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":778710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":688908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":647108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":679008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":773110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":578407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":564307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":612407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":88001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":91301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:35.541 [print] https:\/\/inspire.caris.nl\/geoserver3\/bathy_wcs\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1065913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":83301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:35.543 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":585108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":71301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:35.543 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":46001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:35.543 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":672608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":79901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:35.544 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":44800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:35.544 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/xml.metadata.get?uuid=a322184d-6285-4856-bb78-f450b30ffc0e#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":639008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"17ad94f6-4961-448b-a6f5-5368b7870409\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":527507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"17ad94f6-4961-448b-a6f5-5368b7870409\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":333104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:34.740 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":24600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":40901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":40500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":263504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":34100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":283204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":46301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"609d0c9e-173f-4f90-b020-c91ab3a0b6ef","description":"","id":"609d0c9e-173f-4f90-b020-c91ab3a0b6ef","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":11100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '609d0c9e-173f-4f90-b020-c91ab3a0b6ef'","result":{"duration":33300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":840913972,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '609d0c9e-173f-4f90-b020-c91ab3a0b6ef'","result":{"duration":918611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":747909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":679108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":683908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":743709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":728009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":610107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":576407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":589407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":62301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":103101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:35.588 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rdinfo\\\/wms?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1008213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":1503818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:35.591 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":978812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":80301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:35.592 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":492406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:35.593 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":748309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":80401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:35.593 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":39401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:35.594 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=29c17585-e702-463f-a5dc-99d34b17d333#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":727909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"609d0c9e-173f-4f90-b020-c91ab3a0b6ef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":527807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"609d0c9e-173f-4f90-b020-c91ab3a0b6ef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":284103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:35.171 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":45301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":340404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":34000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":296803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":50400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"bfcc588f-9393-4c70-b989-d9e92ac2f493","description":"","id":"bfcc588f-9393-4c70-b989-d9e92ac2f493","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'bfcc588f-9393-4c70-b989-d9e92ac2f493'","result":{"duration":50101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":858588291,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bfcc588f-9393-4c70-b989-d9e92ac2f493'","result":{"duration":2604033,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1073713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":794110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":813210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":863810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":820711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":68901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":664808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":651308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":812610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":109702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":171602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:36.041 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn3\\\/wcs?&service=wcs&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":672508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":139202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:36.042 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":714609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":141202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:36.043 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":65601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":85501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:36.043 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":789910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":152702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:36.044 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":87601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:36.044 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=41daef8b-155e-4608-b49c-c87ea45d931c#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=41daef8b-155e-4608-b49c-c87ea45d931c#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":915112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"bfcc588f-9393-4c70-b989-d9e92ac2f493\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":4892660,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"bfcc588f-9393-4c70-b989-d9e92ac2f493\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":359105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:35.513 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":68401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":45401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":342704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":332804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":56800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f20e948e-9e22-4b5a-96a1-f3cc1d16b808","description":"","id":"f20e948e-9e22-4b5a-96a1-f3cc1d16b808","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f20e948e-9e22-4b5a-96a1-f3cc1d16b808'","result":{"duration":38801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":861528727,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f20e948e-9e22-4b5a-96a1-f3cc1d16b808'","result":{"duration":1332316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1273716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":798410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":749809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":883311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":786310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":76801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":596908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":649208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":821010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":125502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":196202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:36.384 [print] https:\/\/geodata.nationaalgeoregister.nl\/ahn1\/wcs?request=GetCapabilities&service=wcs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":976712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":121401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:36.385 [print] OGC:WCS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":991313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":137601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:36.386 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":148402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":84301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:36.387 [print] OGC:WCS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":800310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":166602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:36.388 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":191303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:36.388 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5a1adb58-0bbe-425d-b0fe-577a6c0a4228#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":805910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f20e948e-9e22-4b5a-96a1-f3cc1d16b808\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":457705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f20e948e-9e22-4b5a-96a1-f3cc1d16b808\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":369604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:35.548 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":45700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":298804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":332204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":194702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0","description":"","id":"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":51701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '6d2fce74-fb25-4322-ab25-1be8a3bc7fd0'","result":{"duration":85501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":860756918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6d2fce74-fb25-4322-ab25-1be8a3bc7fd0'","result":{"duration":933612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":651108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":663008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":581507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":845110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":824710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":74101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":566407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":684908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":534907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":563207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":542907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:36.418 [print] https:\/\/inspire.caris.nl\/geoserver3\/bathy_wcs\/wcs?request=GetCapabilities&service=WCS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1043413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":448305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:36.419 [print] OGC:WCS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":553906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":466006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:36.420 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":75801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":357605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:36.421 [print] OGC:WCS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":629608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":517906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:36.422 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":771309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:36.423 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a322184d-6285-4856-bb78-f450b30ffc0e#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":774010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":402905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":272303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:35.597 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":55301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":45100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":316204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":326204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":51600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c21c6bf5-8899-4b46-8986-0f65eca05ed0","description":"","id":"c21c6bf5-8899-4b46-8986-0f65eca05ed0","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c21c6bf5-8899-4b46-8986-0f65eca05ed0'","result":{"duration":36901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":841904185,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c21c6bf5-8899-4b46-8986-0f65eca05ed0'","result":{"duration":584907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":758709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":624308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":667909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":740209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":730209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":62301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":559407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":623008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":592007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":464806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":712709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:36.447 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/richtlijnstedelijkafvalwater2015\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":859211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":653208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:36.449 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":656108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":462006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:36.450 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":73601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":372405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:36.451 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":659008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":446406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:36.452 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":1116213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:36.453 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":748209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c21c6bf5-8899-4b46-8986-0f65eca05ed0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":328804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c21c6bf5-8899-4b46-8986-0f65eca05ed0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":315404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":65500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:36.055 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":128002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":111701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":349104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":91101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":322904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":63101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":127502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"641a0f48-872b-4470-b130-e3d28e6bfdfb","description":"","id":"641a0f48-872b-4470-b130-e3d28e6bfdfb","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":32600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":28400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":16600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '641a0f48-872b-4470-b130-e3d28e6bfdfb'","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":16500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848612468,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '641a0f48-872b-4470-b130-e3d28e6bfdfb'","result":{"duration":828311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":681808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":788510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":684509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":641408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":598607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":503106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":793210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":543107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":88101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":143202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:36.915 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnmarienestrategie2018\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":557707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":141002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:36.915 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":598307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":70801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:36.916 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":136702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:36.916 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":728009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":73201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:36.917 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":124102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:36.917 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e4#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":623608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"641a0f48-872b-4470-b130-e3d28e6bfdfb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":710509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"641a0f48-872b-4470-b130-e3d28e6bfdfb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":278403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":43800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:36.392 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":112301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":95802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":413905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":158202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":389505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":71101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":105701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b85d4a0a-c0f7-42f4-9316-b214d205ca38","description":"","id":"b85d4a0a-c0f7-42f4-9316-b214d205ca38","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":42901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":68001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":37801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":19400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b85d4a0a-c0f7-42f4-9316-b214d205ca38'","result":{"duration":20100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":18601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":18800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852210612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b85d4a0a-c0f7-42f4-9316-b214d205ca38'","result":{"duration":1155914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":724209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":571407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":654708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":626007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":798110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":591607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":605808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":559607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":122202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":162502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:37.253 [print] http:\/\/inspire.rdw.nl\/www\/download\/rdw-inspire.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":529707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":126601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:37.254 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":553007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":97601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:37.255 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":70201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:37.255 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":638408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":119301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:37.255 [print] RDW \n","line":56}},{"name":"print operateson","result":{"duration":82801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:37.255 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe2f9091-1962-4073-9e3b-3e4aeed488a5#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":684808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b85d4a0a-c0f7-42f4-9316-b214d205ca38\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":604608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b85d4a0a-c0f7-42f4-9316-b214d205ca38\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":520106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":42501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:36.428 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":106902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":104501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":354005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":89401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":363704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":64400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":543207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b023459a-9f0e-4d53-8059-a794119abbed","description":"","id":"b023459a-9f0e-4d53-8059-a794119abbed","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":61201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":30801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":19100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b023459a-9f0e-4d53-8059-a794119abbed'","result":{"duration":24700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":35601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850300289,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b023459a-9f0e-4d53-8059-a794119abbed'","result":{"duration":599807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":673009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":738209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":717609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":697009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":730909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":44201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":574107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":579607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":829410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":170702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":91401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:37.288 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-cdda\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":532207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":117702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:37.288 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":582007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":102001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:37.289 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":65801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:37.289 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":676208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":105302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:37.290 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":66901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:37.290 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3387ef8a-9237-453a-aa4e-585d1e193550#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":663808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b023459a-9f0e-4d53-8059-a794119abbed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":323104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b023459a-9f0e-4d53-8059-a794119abbed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":260403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":39401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:36.456 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":84901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":82001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":286403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":140302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":369705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":65401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":504006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"97b49056-8ace-426c-ae3e-bf7efe4c000f","description":"","id":"97b49056-8ace-426c-ae3e-bf7efe4c000f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":42101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":95501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":57800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":37800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '97b49056-8ace-426c-ae3e-bf7efe4c000f'","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":31701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":866745392,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '97b49056-8ace-426c-ae3e-bf7efe4c000f'","result":{"duration":713609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":679409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":876811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":959512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":653508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":583307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":612107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":936011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":580907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":185402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":577307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:37.334 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":596807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":130702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:37.334 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":904211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":76901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:37.335 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":283404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":67901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:37.336 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":829710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":74201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:37.337 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":339905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:37.337 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=1249746f-c2a6-4639-98f2-251676b3528e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1267915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"97b49056-8ace-426c-ae3e-bf7efe4c000f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":503507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"97b49056-8ace-426c-ae3e-bf7efe4c000f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":301504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:36.921 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":69401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":44401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":323304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":35300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":354904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":74101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e264c1e4-90fe-4968-bbf2-7019f6095348","description":"","id":"e264c1e4-90fe-4968-bbf2-7019f6095348","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e264c1e4-90fe-4968-bbf2-7019f6095348'","result":{"duration":45900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":854187137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e264c1e4-90fe-4968-bbf2-7019f6095348'","result":{"duration":814510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":694908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":680009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":623707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":682208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":678409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":591007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":711008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":595807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":113301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":200003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:37.783 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegenetmaal\/v1\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":950112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":179202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:37.784 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":793509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":108701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:37.785 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":80101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:37.785 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":765009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":91001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:37.786 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":60701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:37.786 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c3c004ad-5387-4b00-a225-9afbcaa5d31b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":743509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e264c1e4-90fe-4968-bbf2-7019f6095348\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":571307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e264c1e4-90fe-4968-bbf2-7019f6095348\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":332904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:37.259 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":42500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":304204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":392905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":97101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"94f241c2-43a2-42c3-8e9e-71976605aa0e","description":"","id":"94f241c2-43a2-42c3-8e9e-71976605aa0e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '94f241c2-43a2-42c3-8e9e-71976605aa0e'","result":{"duration":31501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":867371999,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":27300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '94f241c2-43a2-42c3-8e9e-71976605aa0e'","result":{"duration":1420318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1397017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1286716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1373517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1822423,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1587820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":114001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":950412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1677921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1162114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":239303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":260703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:38.141 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/top10nlv2\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1448018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":159702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:38.143 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":9720920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":1492118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:38.154 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":96901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":139902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:38.155 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1987824,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":1745922,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:38.159 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":245803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:38.159 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=29d5310f-dd0d-45ba-abad-b4ffc6b8785f#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=af0c582f-9e6b-46e6-865a-fc3a2d5289b9#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=81ff84ec-42a4-4481-840b-12713bbb5d38#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=3eebf700-5abf-42e4-826c-03cfb497e366#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=4b282988-cb91-4bbc-b147-f653014917cb#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=9d9f1738-aced-47c9-aaa0-c62474a2dcfb#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1588020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"94f241c2-43a2-42c3-8e9e-71976605aa0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":458706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"94f241c2-43a2-42c3-8e9e-71976605aa0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":347004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:37.293 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":67401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":251403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":36000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":324704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":97601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"101a2cc7-bb53-4a16-98f9-bab1f4745b01","description":"","id":"101a2cc7-bb53-4a16-98f9-bab1f4745b01","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":12101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '101a2cc7-bb53-4a16-98f9-bab1f4745b01'","result":{"duration":30900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850772094,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '101a2cc7-bb53-4a16-98f9-bab1f4745b01'","result":{"duration":804110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":652208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":606208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":595807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":672408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":758409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":190503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":584607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":622208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":626508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":137702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1723721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:38.153 [print] https:\\\/\\\/service.pdok.nl\\\/rce\\\/ps-ch\\\/wfs\\\/v1_0?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":669608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":3623344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:38.154 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1360616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":2194328,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:38.161 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":324004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":4809859,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:38.166 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":661908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":196202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:38.167 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":421305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:38.167 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=493ab81b-75f8-4205-b030-6b2fd9eb4295#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":679108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"101a2cc7-bb53-4a16-98f9-bab1f4745b01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":305103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"101a2cc7-bb53-4a16-98f9-bab1f4745b01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":320304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:37.341 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":69101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":356804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":370405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":53101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c47e4ef8-951e-4765-8d01-29150c12a22d","description":"","id":"c47e4ef8-951e-4765-8d01-29150c12a22d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c47e4ef8-951e-4765-8d01-29150c12a22d'","result":{"duration":34700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":864265760,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c47e4ef8-951e-4765-8d01-29150c12a22d'","result":{"duration":624807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":678808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":631508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":545307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":665208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":616508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":61901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":578207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":596807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":562207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":173502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":462006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:38.214 [print] https:\/\/www.broinspireservices.nl\/atom\/services.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":946911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":116201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:38.215 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":809610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":1144914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:38.217 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":156101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":573507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:38.218 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":965912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":696708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:38.219 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":783209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:38.220 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=7D35598D-DFBF-C64D-0F1A-92A80A45EB14&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":766410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c47e4ef8-951e-4765-8d01-29150c12a22d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":424005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c47e4ef8-951e-4765-8d01-29150c12a22d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":304804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:37.790 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":62400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":617107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":57701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":393005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":49301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":86101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"72f30ca1-3b80-4020-b9ed-301b1a88df39","description":"","id":"72f30ca1-3b80-4020-b9ed-301b1a88df39","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '72f30ca1-3b80-4020-b9ed-301b1a88df39'","result":{"duration":34101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849707181,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '72f30ca1-3b80-4020-b9ed-301b1a88df39'","result":{"duration":917711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":608808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":656908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":851010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":786809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":645008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":66801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":511907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":587107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":738709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":138001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":230103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:38.648 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":843911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":180502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:38.649 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":828110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":247703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:38.650 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":190002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":255703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:38.651 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":893711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":122501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:38.652 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":127002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:38.652 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=588a4cb1-b442-4ac1-87e4-40401e353166#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":770609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"72f30ca1-3b80-4020-b9ed-301b1a88df39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":485506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"72f30ca1-3b80-4020-b9ed-301b1a88df39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":300203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":37400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:38.173 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":76701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":83501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":280104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":103501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":314004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":60801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":1554119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9","description":"","id":"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":99501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":41101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9'","result":{"duration":15800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":14900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":845991035,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9'","result":{"duration":794110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1748722,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":726009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":639408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":682709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":625507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":524807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":480306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":558507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":94601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":267104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:39.030 [print] https:\/\/service.pdok.nl\/bzk\/bro-geomorfologischekaart\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":711908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":108501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:39.031 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":697809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":66601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:39.031 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":28600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":174502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:39.032 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":676909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":92301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:39.032 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":39201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:39.032 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8f52e76f-c96d-4df3-a778-279c2164372b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=459231d0-7379-4f26-a444-7616e1d888f0#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":600007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":756010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":311104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":38301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:38.171 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":102901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":86301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":362604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":90501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":352904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":61001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":147702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"67bcc21d-beda-449d-975c-00a4fa80f2b7","description":"","id":"67bcc21d-beda-449d-975c-00a4fa80f2b7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":2012925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":301103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":40900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":14901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '67bcc21d-beda-449d-975c-00a4fa80f2b7'","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":50401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":898986589,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '67bcc21d-beda-449d-975c-00a4fa80f2b7'","result":{"duration":840811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":571307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":643708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":614008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":725709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":767010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":51000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":594707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":524906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":517106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":56701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":475006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:39.081 [print] https:\\\/\\\/service.pdok.nl\\\/hwh\\\/hydrografie\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":780010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":412005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:39.082 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":614008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":390405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:39.083 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":69601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":434305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:39.083 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":689109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":381205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:39.085 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":906311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:39.085 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=07575774-57a1-4419-bab4-6c88fdeb02b2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":632408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"67bcc21d-beda-449d-975c-00a4fa80f2b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":388505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"67bcc21d-beda-449d-975c-00a4fa80f2b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":290404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":35801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:38.224 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":57601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":101801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":87301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":331004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":116402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":325004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":78101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":152502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"008d85d1-460d-46f6-9af4-98afdedbc4dc","description":"","id":"008d85d1-460d-46f6-9af4-98afdedbc4dc","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":50201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":29800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '008d85d1-460d-46f6-9af4-98afdedbc4dc'","result":{"duration":15500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":14200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":14900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":879213545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '008d85d1-460d-46f6-9af4-98afdedbc4dc'","result":{"duration":642908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":645508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":603708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":789510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":799710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":889411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":633807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":723509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":942512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":396105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":304403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:39.113 [print] https:\/\/service.pdok.nl\/cbs\/pd\/wfs\/v1_0?service=WFS&request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":820710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":75501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:39.114 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":942712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":122502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:39.115 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":250103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":205103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:39.116 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":624108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":107601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:39.116 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":41201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:39.116 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76541ebb-a554-4540-a017-399d4bb4a860#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":754809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"008d85d1-460d-46f6-9af4-98afdedbc4dc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":322804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"008d85d1-460d-46f6-9af4-98afdedbc4dc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":264104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":37301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:38.656 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":53801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":104701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":100902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":317304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":84301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":344304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":79501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":118302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"49a53bc1-dd76-417f-b9af-066901ddfec0","description":"","id":"49a53bc1-dd76-417f-b9af-066901ddfec0","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":28900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":26201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":76401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '49a53bc1-dd76-417f-b9af-066901ddfec0'","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850787694,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '49a53bc1-dd76-417f-b9af-066901ddfec0'","result":{"duration":1042613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":597907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":571307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":617108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":642108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":554707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":694508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":511007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":630008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":182702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":541506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:39.516 [print] https:\/\/inspire.caris.nl\/server\/services\/ows\/download\/feature\/amplitude-getij_IDS?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":595607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":371805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:39.517 [print] OGC:WCS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":611407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":386405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:39.518 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":411805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:39.518 [print] OGC:WCS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":604108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":603407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:39.520 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":97702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:39.520 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=be6551de-a709-4c6d-a5e2-f63f0cf038ba&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1612920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"49a53bc1-dd76-417f-b9af-066901ddfec0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":600307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"49a53bc1-dd76-417f-b9af-066901ddfec0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":283904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:39.036 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":61301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":385905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":36200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":452906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":44100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":48801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c6308500-3439-4840-88cb-7532cabbfcb4","description":"","id":"c6308500-3439-4840-88cb-7532cabbfcb4","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c6308500-3439-4840-88cb-7532cabbfcb4'","result":{"duration":29100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":91602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852739818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c6308500-3439-4840-88cb-7532cabbfcb4'","result":{"duration":820310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":662609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":925011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":912412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":760409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":894511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":657208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":550507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":587908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":88501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":100101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:39.898 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a_wms?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":2923936,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":399405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:39.901 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":810410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":508206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:39.902 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":40701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":533606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:39.903 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":858111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":388805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:39.904 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":633208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:39.905 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":708109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c6308500-3439-4840-88cb-7532cabbfcb4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":533406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c6308500-3439-4840-88cb-7532cabbfcb4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":316803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:39.089 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":76401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":46101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":263603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":51901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":351404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":103401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b4485d59-a945-4940-a2f5-3ce7de6a947b","description":"","id":"b4485d59-a945-4940-a2f5-3ce7de6a947b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":82601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b4485d59-a945-4940-a2f5-3ce7de6a947b'","result":{"duration":51701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":843274502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b4485d59-a945-4940-a2f5-3ce7de6a947b'","result":{"duration":976412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":697208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":641408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":606107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":611508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":564507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":580607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":499006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":492606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":385905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":446106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:39.941 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":17836720,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":219503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:39.959 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":957712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":123501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:39.960 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":88002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":92101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:39.960 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":723709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":103101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:39.961 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":78401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:39.961 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b3f66964-a8c1-456f-9799-9cafca2cb7b1 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":8709008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b4485d59-a945-4940-a2f5-3ce7de6a947b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":431505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b4485d59-a945-4940-a2f5-3ce7de6a947b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":433006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:39.119 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":39601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":275703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":33701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":288704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":62201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"918388cf-9d8c-4264-b108-3e375bde0d52","description":"","id":"918388cf-9d8c-4264-b108-3e375bde0d52","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":29800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":12901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '918388cf-9d8c-4264-b108-3e375bde0d52'","result":{"duration":125101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":840747770,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '918388cf-9d8c-4264-b108-3e375bde0d52'","result":{"duration":12220850,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":903711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":754509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":735810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":806010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":775609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":64100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":715509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":610008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":5927373,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":133202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":127702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:39.986 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/noordzeevaarwegmarkeringenrd\\\/wms?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":616407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":115901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:39.986 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":690609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":159802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:39.987 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":78101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":83001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:39.987 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":730809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":141202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:39.988 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":119102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:39.988 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=be1b1514-8d1f-48e1-9624-fee9b784138b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":646008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"918388cf-9d8c-4264-b108-3e375bde0d52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":466006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"918388cf-9d8c-4264-b108-3e375bde0d52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":334504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:39.524 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":59901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":297903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":35900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":307604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":49701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d","description":"","id":"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":34701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d'","result":{"duration":235603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":18900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":860567715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d'","result":{"duration":1040413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":841911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":735409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":797109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":941111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":847310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":75501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":585608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":834410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":690709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":416905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":289104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:40.395 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2020\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":627508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":268803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:40.396 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":688509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":215803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:40.397 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":88601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":214803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:40.397 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":838210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":370505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:40.398 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":239503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:40.398 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f1859b4d-93be-4fc8-9e91-0ecc2fa0f3b3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":822610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":596007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":337704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":54101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:39.909 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":44301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":292104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":323104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":357104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"92826f1e-040d-4099-b9e1-cab6bfc520af","description":"","id":"92826f1e-040d-4099-b9e1-cab6bfc520af","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":35701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '92826f1e-040d-4099-b9e1-cab6bfc520af'","result":{"duration":31201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":837650933,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '92826f1e-040d-4099-b9e1-cab6bfc520af'","result":{"duration":1303016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":751410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":742509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":843611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":937411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":853711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":76401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":919311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":760409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":807510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":305203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":310603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:40.757 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":784309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":225903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:40.758 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1069313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":370204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:40.760 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":84601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":181003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:40.760 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":913011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":233703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:40.761 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":257104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:40.761 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1400317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"92826f1e-040d-4099-b9e1-cab6bfc520af\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":510207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"92826f1e-040d-4099-b9e1-cab6bfc520af\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":377405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":58401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:39.973 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":58800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":122501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":89102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":7759295,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":129902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":356305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":63000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":452105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"257b960c-ece6-4e0f-b893-77b219c6133f","description":"","id":"257b960c-ece6-4e0f-b893-77b219c6133f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":38701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":98101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '257b960c-ece6-4e0f-b893-77b219c6133f'","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":880081656,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":19201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '257b960c-ece6-4e0f-b893-77b219c6133f'","result":{"duration":581207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":716709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":659208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":608008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":792310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":810510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":67701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":571707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":679709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":706209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":178102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":350104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:40.881 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":804410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":203202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:40.881 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":695909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":94201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:40.883 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":169802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":378805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:40.883 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":777310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":99901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:40.884 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":202803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:40.884 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":755909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"257b960c-ece6-4e0f-b893-77b219c6133f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":376704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"257b960c-ece6-4e0f-b893-77b219c6133f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":282003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":35501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:39.992 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":79401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":82401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":274404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":103001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":321804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":62701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":610108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1009c2a4-4dba-49a5-b643-914ba8b80b52","description":"","id":"1009c2a4-4dba-49a5-b643-914ba8b80b52","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":175602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":36201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":29700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":17701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1009c2a4-4dba-49a5-b643-914ba8b80b52'","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":14900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":842257590,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1009c2a4-4dba-49a5-b643-914ba8b80b52'","result":{"duration":896911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":649608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":639608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":621107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":736210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":685908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":44401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":552607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":546107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":525306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":355805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":226803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:40.843 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1400017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":105601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:40.844 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":991612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":122502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:40.846 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":475205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:40.846 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":694308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":95801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:40.847 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":642507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:40.848 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":668808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1009c2a4-4dba-49a5-b643-914ba8b80b52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":495806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1009c2a4-4dba-49a5-b643-914ba8b80b52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":300304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":41800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:40.403 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":122901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":96702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":370904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":98002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":415705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":84401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":317104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ac3ee940-4f98-427c-a2d9-58696005d9c2","description":"","id":"ac3ee940-4f98-427c-a2d9-58696005d9c2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":42601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":30800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ac3ee940-4f98-427c-a2d9-58696005d9c2'","result":{"duration":15500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":45700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":859473742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ac3ee940-4f98-427c-a2d9-58696005d9c2'","result":{"duration":1093914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":819711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":668708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1005713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":755410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":676809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":555907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":582108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":585707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":67601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":104402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:41.272 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1253316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":95701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:41.273 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":935412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":121102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:41.274 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":456706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:41.274 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":998513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":78201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:41.276 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":37001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:41.276 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1399618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ac3ee940-4f98-427c-a2d9-58696005d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":695808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ac3ee940-4f98-427c-a2d9-58696005d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":314304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":58001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:40.767 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":56601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":115001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":95501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":421405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":99701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":388305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":68201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":191802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7f79fc69-d0c7-4913-a05a-527c90453297","description":"","id":"7f79fc69-d0c7-4913-a05a-527c90453297","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":39200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":29101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":34600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":15801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7f79fc69-d0c7-4913-a05a-527c90453297'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":30900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":32801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848868016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7f79fc69-d0c7-4913-a05a-527c90453297'","result":{"duration":898612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":654108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":586808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":664408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":715510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":789610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":36400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":638108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":527506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":573608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":76501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":102601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:41.624 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":535107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":126202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:41.625 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":629108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":72601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:41.626 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":79501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:41.626 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":718509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":71901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:41.627 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":36000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:41.627 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":656909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7f79fc69-d0c7-4913-a05a-527c90453297\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":456406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7f79fc69-d0c7-4913-a05a-527c90453297\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":266903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:40.851 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":46301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":50801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":44000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":322504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":447706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":42100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":63601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b","description":"","id":"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":27901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b'","result":{"duration":369104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":856498637,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b'","result":{"duration":659009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":719709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":848311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":947612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":784210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":662009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":519407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":582407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":549107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":676208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":174303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:41.717 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":757909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":76100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:41.718 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":711209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":71301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:41.719 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":159302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:41.719 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":764010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":108102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:41.720 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":88401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:41.720 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":737009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":439306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":271303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":32500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:40.887 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":41900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":44201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":278303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":34801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":315604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":69801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"94ed09fe-1753-4861-8c62-d66251b7cde3","description":"","id":"94ed09fe-1753-4861-8c62-d66251b7cde3","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":13300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '94ed09fe-1753-4861-8c62-d66251b7cde3'","result":{"duration":31100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":8600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":844020490,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '94ed09fe-1753-4861-8c62-d66251b7cde3'","result":{"duration":621007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":671008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":671309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":605307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":656208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":706109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":44601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":766409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":578507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":547107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":100901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":88701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:41.739 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":547307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":128202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:41.740 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":592907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":83601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:41.740 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":60501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:41.740 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":693409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":185102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:41.741 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":64601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:41.741 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":17224218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"94ed09fe-1753-4861-8c62-d66251b7cde3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":676009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"94ed09fe-1753-4861-8c62-d66251b7cde3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":326204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":32701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:41.280 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":68901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":47001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":408005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":333004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":69900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b81f9ce3-f612-4761-ba37-4c8afda9033a","description":"","id":"b81f9ce3-f612-4761-ba37-4c8afda9033a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b81f9ce3-f612-4761-ba37-4c8afda9033a'","result":{"duration":384504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":877247380,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b81f9ce3-f612-4761-ba37-4c8afda9033a'","result":{"duration":995412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":709209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":703909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":594708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":842711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":836810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":73101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":727909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":598808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":794310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":946912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":658709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:42.168 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":706609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":139202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:42.169 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":872211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":117802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:42.170 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":318804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":121802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:42.171 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":846011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":158102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:42.172 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":624908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:42.172 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":645308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b81f9ce3-f612-4761-ba37-4c8afda9033a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":395105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b81f9ce3-f612-4761-ba37-4c8afda9033a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":481406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":98701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:41.630 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":69001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":45701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":417605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":61300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":438505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":70501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a149d97f-0d55-462e-9956-5b47bea00a8d","description":"","id":"a149d97f-0d55-462e-9956-5b47bea00a8d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":67301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":13500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a149d97f-0d55-462e-9956-5b47bea00a8d'","result":{"duration":31501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":851270352,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a149d97f-0d55-462e-9956-5b47bea00a8d'","result":{"duration":875711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":622608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":608707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":588907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":831011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":786210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":143102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":558607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":587808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":640008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":200302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":234403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:42.490 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1157114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":182703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:42.491 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1447918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":166702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:42.493 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":69300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":151001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:42.493 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1864323,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":189203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:42.495 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":300404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:42.496 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1670121,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a149d97f-0d55-462e-9956-5b47bea00a8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":416106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a149d97f-0d55-462e-9956-5b47bea00a8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":259803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":33100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:41.724 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":64100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":59900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":285404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":288803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":50301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b4b59b2c-156d-412e-b8f0-c0779402de80","description":"","id":"b4b59b2c-156d-412e-b8f0-c0779402de80","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b4b59b2c-156d-412e-b8f0-c0779402de80'","result":{"duration":56001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852313366,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b4b59b2c-156d-412e-b8f0-c0779402de80'","result":{"duration":1005712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":781610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":745410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":954212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":844411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":819010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":69101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":608408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":781610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":815511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":826310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":918412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:42.587 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":742710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":612007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:42.588 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":632808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":497406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:42.589 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":74201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":421505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:42.590 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":849310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":577007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:42.591 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":619208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:42.592 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":688309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b4b59b2c-156d-412e-b8f0-c0779402de80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":499306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b4b59b2c-156d-412e-b8f0-c0779402de80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":274304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":80901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:41.762 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":47601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":162102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":91001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":459505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":111301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":382605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":84901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":138002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"24055de7-dcff-487a-8f9a-7aee4f0d8351","description":"","id":"24055de7-dcff-487a-8f9a-7aee4f0d8351","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":134902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '24055de7-dcff-487a-8f9a-7aee4f0d8351'","result":{"duration":13200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848503917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '24055de7-dcff-487a-8f9a-7aee4f0d8351'","result":{"duration":664609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":716109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":693309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":691709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":773510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":764010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":61301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":623808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":659208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":814211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":119701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":179203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:42.620 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.83f948b1-9293-4926-b64d-40857c792f1e?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":791110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":289204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:42.621 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":823610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":3497245,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:42.625 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":87801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":442906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:42.626 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":731009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":508106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:42.627 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":634908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:42.628 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.83f948b1-9293-4926-b64d-40857c792f1e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":612307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"24055de7-dcff-487a-8f9a-7aee4f0d8351\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":313204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"24055de7-dcff-487a-8f9a-7aee4f0d8351\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":320404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":98201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:42.176 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":65501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":132502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":87801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":380505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":105402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":400805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":60401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":118701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f39d198a-1e69-43cc-b359-cc60a8c22d28","description":"","id":"f39d198a-1e69-43cc-b359-cc60a8c22d28","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":28601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":13400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f39d198a-1e69-43cc-b359-cc60a8c22d28'","result":{"duration":12800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":854139888,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f39d198a-1e69-43cc-b359-cc60a8c22d28'","result":{"duration":913212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":649108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":614208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":706309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1661521,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":772710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":46401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":675308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":597608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":639508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":147102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":163602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:43.041 [print] https:\/\/inspire.rivm.nl\/sos\/eaq\/service?service=AQD&version=1.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":660009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":120701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:43.041 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":587007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":108502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:43.042 [print] OGC:SOS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":76601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":65701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:43.042 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":862411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":123802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:43.043 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":82801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:43.043 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=733559a5-201d-40e5-ad43-d1c7bae84d9f\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d3c9efd6-fca7-49d6-92bb-5f507abece90\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=af135cd8-d429-4fc7-b9e3-09e15217520d\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=b3ec8793-7747-4da0-b6c3-aa384446a586\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=5800f3b0-2ea2-4231-8165-216a7b26867f\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d8f370e8-123c-4ab3-9410-04f728327ac6\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f91c6ad6-62a5-46d0-8a5b-8a62e7a4b833\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=500d396f-5ec6-4e4b-a151-5fb3cddd8082\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":679109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f39d198a-1e69-43cc-b359-cc60a8c22d28\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":651008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f39d198a-1e69-43cc-b359-cc60a8c22d28\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":551607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":166002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:42.501 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":130701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":96102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":900211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":315104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":428806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":67901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":118301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2f28bd85-0afc-4dc1-85f3-dac55c1b485e","description":"","id":"2f28bd85-0afc-4dc1-85f3-dac55c1b485e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":31301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":25600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2f28bd85-0afc-4dc1-85f3-dac55c1b485e'","result":{"duration":14100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":859712258,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2f28bd85-0afc-4dc1-85f3-dac55c1b485e'","result":{"duration":904411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":636808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":805310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":703409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":727209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":796010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":588307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1480519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":774610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":116302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":900811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:43.372 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.c4108a11-bdbb-4461-8902-423531561a7e_wms?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":693509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":90501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:43.373 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":620807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":65400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:43.373 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":80601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:43.374 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":714409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":70801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:43.374 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":37101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:43.374 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":791010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2f28bd85-0afc-4dc1-85f3-dac55c1b485e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":600108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2f28bd85-0afc-4dc1-85f3-dac55c1b485e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":286103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":37900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:42.596 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":140502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":105101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":409605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":89401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":393605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":62301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":498206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1e01d173-96f4-40b1-8236-c6a9cfdac252","description":"","id":"1e01d173-96f4-40b1-8236-c6a9cfdac252","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":36901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":25400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":12701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1e01d173-96f4-40b1-8236-c6a9cfdac252'","result":{"duration":31100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":857598032,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1e01d173-96f4-40b1-8236-c6a9cfdac252'","result":{"duration":640608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":711308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":595607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":574208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":628408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":822610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":524206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":573607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":565907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":61501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":209203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:43.462 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a_wfs?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":760810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":120201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:43.463 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":630208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":126701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:43.464 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":62201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:43.464 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":758909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":93601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:43.465 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":111801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:43.465 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":707209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1e01d173-96f4-40b1-8236-c6a9cfdac252\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":317304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1e01d173-96f4-40b1-8236-c6a9cfdac252\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":311304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:42.632 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":40101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":40400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":242403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":34601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":310804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":371105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ce0a3f8e-6713-455f-805e-a067162c287d","description":"","id":"ce0a3f8e-6713-455f-805e-a067162c287d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":12300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ce0a3f8e-6713-455f-805e-a067162c287d'","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":854781696,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ce0a3f8e-6713-455f-805e-a067162c287d'","result":{"duration":665008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":708408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":865211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":796810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":675508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":711209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":631308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":570608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":590207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":116202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":156402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:43.495 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b_wms?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":632908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":73001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:43.496 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":773310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":109101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:43.497 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":184003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":144601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:43.497 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":821810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":107502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:43.498 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":36900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:43.498 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":678308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ce0a3f8e-6713-455f-805e-a067162c287d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":438306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ce0a3f8e-6713-455f-805e-a067162c287d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":337804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:43.048 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":47001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":337604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":331204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":46900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":107602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a7e4bc31-60c1-4b78-bef1-eed768ceafa0","description":"","id":"a7e4bc31-60c1-4b78-bef1-eed768ceafa0","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a7e4bc31-60c1-4b78-bef1-eed768ceafa0'","result":{"duration":74901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":840834020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a7e4bc31-60c1-4b78-bef1-eed768ceafa0'","result":{"duration":13743474,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":654908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":717009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":713709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":777909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":688208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":87001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":538006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":674808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":683809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":154702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":230103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:43.910 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/service\/atom\/id_predefined_dataset \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":643408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":147201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:43.911 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":671508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":150802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:43.912 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":68501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":138802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:43.912 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":661708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":153702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:43.913 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":141201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:43.913 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":819811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a7e4bc31-60c1-4b78-bef1-eed768ceafa0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":505706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a7e4bc31-60c1-4b78-bef1-eed768ceafa0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":378804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:43.378 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":334804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":54701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":494406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":51601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":76801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"eec0708d-bab6-41c2-aa5b-9c435a1a177e","description":"","id":"eec0708d-bab6-41c2-aa5b-9c435a1a177e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'eec0708d-bab6-41c2-aa5b-9c435a1a177e'","result":{"duration":30900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":22101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":22200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846901897,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'eec0708d-bab6-41c2-aa5b-9c435a1a177e'","result":{"duration":903411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":609808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":758110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":596807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":967712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":937812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":69001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":519907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":559307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":593807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":111801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":203603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:44.234 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/service\/atom\/id_predefined_dataset \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":655908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":119702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:44.234 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":639908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":111401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:44.235 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":68100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":132802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:44.235 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":714209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":118402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:44.236 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":127902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:44.236 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":636608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"eec0708d-bab6-41c2-aa5b-9c435a1a177e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":418005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"eec0708d-bab6-41c2-aa5b-9c435a1a177e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":254604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:43.468 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":24301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":37800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":41401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":319704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":55101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":314604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":80801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7d533012-21ad-4a5b-a97e-a76988270273","description":"","id":"7d533012-21ad-4a5b-a97e-a76988270273","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":12400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7d533012-21ad-4a5b-a97e-a76988270273'","result":{"duration":48501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850413142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7d533012-21ad-4a5b-a97e-a76988270273'","result":{"duration":1007413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":686409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":672408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":830310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":843111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":802510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":67401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":619207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":654308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":643308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":560207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":880312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:44.328 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/service\/atom\/id_predefined_dataset \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":876411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":495006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:44.330 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":872211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":700209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:44.331 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":99401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":594308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:44.332 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":722809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":464606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:44.333 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":651808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:44.334 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":690809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7d533012-21ad-4a5b-a97e-a76988270273\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":425705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7d533012-21ad-4a5b-a97e-a76988270273\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":279704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:43.501 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":43500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":415705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":76701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":393505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":80201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5471a93b-cf18-43f5-9ddb-71987857435d","description":"","id":"5471a93b-cf18-43f5-9ddb-71987857435d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":31900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5471a93b-cf18-43f5-9ddb-71987857435d'","result":{"duration":48200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":853624882,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5471a93b-cf18-43f5-9ddb-71987857435d'","result":{"duration":794610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":700109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":674109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":650308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":866611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":884312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":64101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":550207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":608207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":602107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":238004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":236203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:44.364 [print] https:\/\/www.broinspireservices.nl\/wfs\/oshhgqm-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":745609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":252503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:44.365 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":653208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":212503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:44.366 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":68401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":187702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:44.366 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":639308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":234403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:44.367 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":222103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:44.367 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6050578f-0010-4bfa-b013-c8617b80ba62&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":707909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5471a93b-cf18-43f5-9ddb-71987857435d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":310304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5471a93b-cf18-43f5-9ddb-71987857435d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":295504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":62301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:43.917 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":125901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":92801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":481107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":158402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":396605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":59701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":185402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"23aa5150-fcc7-46ea-ae63-a7f198d8bc18","description":"","id":"23aa5150-fcc7-46ea-ae63-a7f198d8bc18","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":33100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":59301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":16000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '23aa5150-fcc7-46ea-ae63-a7f198d8bc18'","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":31401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":851822659,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '23aa5150-fcc7-46ea-ae63-a7f198d8bc18'","result":{"duration":774610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":574707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":557507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":639608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":606808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":822810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":490806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":479006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":488406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":63201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":92601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:44.777 [print] https:\/\/inspire.rivm.nl\/geoserver\/airq\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1204915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":76501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:44.778 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":666109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":69301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:44.779 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":152202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:44.779 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1045514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":101901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:44.780 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":63701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:44.780 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2cc2c30c-91b8-412a-a060-e84d25272581 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":668509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"23aa5150-fcc7-46ea-ae63-a7f198d8bc18\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":534806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"23aa5150-fcc7-46ea-ae63-a7f198d8bc18\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":285003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":35801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:44.241 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":103402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":86701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":435506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":89801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":334704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":61801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":123102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1d568785-efdd-429d-b491-56f785c3656a","description":"","id":"1d568785-efdd-429d-b491-56f785c3656a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":48000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":25601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1d568785-efdd-429d-b491-56f785c3656a'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":31301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":841304926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1d568785-efdd-429d-b491-56f785c3656a'","result":{"duration":844111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":675909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":761109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":669508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":769610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1003113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":801210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":660208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":649009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":92101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":983312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:45.092 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/au\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":674508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":101401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:45.093 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1010312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":112701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:45.094 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":331104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":101502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:45.094 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":978112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":149102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:45.095 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":324204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:45.096 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7dd1fd45-ace5-41e0-93a6-64e3be231717#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1219915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1d568785-efdd-429d-b491-56f785c3656a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":707909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1d568785-efdd-429d-b491-56f785c3656a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":289004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":39001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:44.338 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":148201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":126501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":366505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":89301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":410805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":82701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":688808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1c0dcc64-91aa-4d44-a9e3-54355556f5e7","description":"","id":"1c0dcc64-91aa-4d44-a9e3-54355556f5e7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":41100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":27001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1c0dcc64-91aa-4d44-a9e3-54355556f5e7'","result":{"duration":14201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":862871899,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1c0dcc64-91aa-4d44-a9e3-54355556f5e7'","result":{"duration":894512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":759409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":713009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":707608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":785810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":728509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":572508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":781310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":860911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":66501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":164902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:45.211 [print] https:\\\/\\\/service.pdok.nl\\\/lv\\\/bag\\\/wfs\\\/v2_0?request=getCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":753510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":92001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:45.212 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1034513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":120401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:45.213 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":113002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":75801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:45.213 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1036113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":116302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:45.214 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":211802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:45.214 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=aa3b5e6e-7baa-40c0-8972-3353e927ec2f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":842111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1c0dcc64-91aa-4d44-a9e3-54355556f5e7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":483706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1c0dcc64-91aa-4d44-a9e3-54355556f5e7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":258604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":39700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:44.380 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":127301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":769410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":531807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":102601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":433106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":70201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":464706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9e2e977a-16a6-42a4-a208-c4f70704f383","description":"","id":"9e2e977a-16a6-42a4-a208-c4f70704f383","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":40001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":26800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9e2e977a-16a6-42a4-a208-c4f70704f383'","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":828681567,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9e2e977a-16a6-42a4-a208-c4f70704f383'","result":{"duration":879911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1485719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1511619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":738510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":787810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1386218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":856511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1080114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":655308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":59301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":146302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:45.221 [print] https:\\\/\\\/service.pdok.nl\\\/lv\\\/bag\\\/wms\\\/v2_0?request=getCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":662108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":92201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:45.223 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1060714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":89101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:45.224 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":337905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":124701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:45.224 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":841011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":360005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:45.225 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":590307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:45.226 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=aa3b5e6e-7baa-40c0-8972-3353e927ec2f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":738210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9e2e977a-16a6-42a4-a208-c4f70704f383\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":355504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9e2e977a-16a6-42a4-a208-c4f70704f383\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":260204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:44.783 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":45300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":313104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":36801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":337804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":141902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":96001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d69fee4a-e3ff-47d4-919d-e55276a3fad9","description":"","id":"d69fee4a-e3ff-47d4-919d-e55276a3fad9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":37000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd69fee4a-e3ff-47d4-919d-e55276a3fad9'","result":{"duration":37000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":863856811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd69fee4a-e3ff-47d4-919d-e55276a3fad9'","result":{"duration":880711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":663709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":636908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":623408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":732009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":12824462,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":147501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":597307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":637808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":616407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":111201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":170902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:45.668 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-a\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":738810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":140302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:45.669 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":840510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":285203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:45.670 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":96102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":150502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:45.670 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":834810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":237203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:45.671 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":139902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:45.671 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=31de946d-85d4-4c93-bb97-e25f4ef1401a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":732309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d69fee4a-e3ff-47d4-919d-e55276a3fad9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":404605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d69fee4a-e3ff-47d4-919d-e55276a3fad9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":266004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:45.100 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":67301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":373005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":430506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":51601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":117801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"488c1e6d-363e-4476-b2ff-17756ac9b35f","description":"","id":"488c1e6d-363e-4476-b2ff-17756ac9b35f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":25501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '488c1e6d-363e-4476-b2ff-17756ac9b35f'","result":{"duration":30801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852609069,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '488c1e6d-363e-4476-b2ff-17756ac9b35f'","result":{"duration":995512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":750310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":713909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":547707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":684509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":613908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":68901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":517906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":582407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":640708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":152802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":187102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:45.962 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsgebiedsindelingen\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":584908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":136301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:45.963 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":602707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":144602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:45.963 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":98902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":132701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:45.964 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":692709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":112302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:45.964 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":136402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:45.965 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=effe1ab0-073d-437c-af13-df5c5e07d6cd#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":624908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"488c1e6d-363e-4476-b2ff-17756ac9b35f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":447305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"488c1e6d-363e-4476-b2ff-17756ac9b35f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":285504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:45.218 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":47401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":45500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":396805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":463706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":42301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":155502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1","description":"","id":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":32500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":33401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b1'","result":{"duration":30501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":891689163,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b1'","result":{"duration":730709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":783810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":757209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":676109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":815110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":710809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":103901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":593908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":685409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1012312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":743709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":671209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:46.120 [print] https:\/\/inspire.caris.nl\/geoserver3\/rws\/wcs?service=WCS&version=2.0.1&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1015513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":138702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:46.121 [print] OGC:WCS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":653509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":436805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:46.122 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":137802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":383305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:46.123 [print] OGC:WCS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":862311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":133402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:46.124 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":432605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:46.125 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=9d973c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1327016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":370204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":300904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":34900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:45.230 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":64300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":45100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":365005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":53701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":358604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":497906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3","description":"","id":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":47200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":13300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b3'","result":{"duration":50101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846574393,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b3'","result":{"duration":1160215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":743109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":932412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":794810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":815911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":708109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":113101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":686109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":624907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":677608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":621407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":561407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:46.087 [print] https:\/\/inspire.caris.nl\/geoserver3\/rws\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":765109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":541106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:46.088 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":740409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":428806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:46.090 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":77901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":396405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:46.090 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":707209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":428106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:46.091 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":631908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:46.092 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=9d973c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":762210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":608007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":371505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":38400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:45.686 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":53601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":107602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":89901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":367405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":89501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":398105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":62901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":136202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4","description":"","id":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":305304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":33000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b4'","result":{"duration":12700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":30301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":863792710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b4'","result":{"duration":1261616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1115414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1129914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1050014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1182215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1001412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":41000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":771410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":834711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":889011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":107302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":126601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:46.562 [print] https:\\\/\\\/geo.rijkswaterstaat.nl\\\/services\\\/ogc\\\/gdr\\\/bodemhoogte_5mtr\\\/ows?service=WMS&request=getcapabilities&version=1.3.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":897011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":92801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:46.564 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1028713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":85801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:46.565 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":96701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:46.565 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1131414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":74001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:46.566 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":79201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:46.566 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=9d973c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1239215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":489006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":302304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":36800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:45.968 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":111302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":89301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":400205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":107601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":372204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":65401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":121502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2","description":"","id":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":31100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":41701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b2'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":855414105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b2'","result":{"duration":1294517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1008312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":795610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1648021,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1112914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":860411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":51901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":686208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":691308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":719609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":114001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":650409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:46.836 [print] https:\\\/\\\/inspire.rasdaman.org\\\/rasdaman\\\/ows?SERVICE=WCS&VERSION=2.0.1&REQUEST=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1193715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":589207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:46.837 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":711609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":372104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:46.838 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":394605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:46.839 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":879711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":405206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:46.840 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":624108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:46.841 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=9d973c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":970812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":620508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":604208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":37601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:46.096 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":105102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":87601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":351304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":160702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":509106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":61601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":640908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"adn83730-e750-485a-9c0c-39bf9bt72cf8","description":"","id":"adn83730-e750-485a-9c0c-39bf9bt72cf8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":49001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":33200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'adn83730-e750-485a-9c0c-39bf9bt72cf8'","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":15500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":873844137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn83730-e750-485a-9c0c-39bf9bt72cf8'","result":{"duration":847311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":664708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":616407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":702609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":710509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":651808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":894112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":659708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":628908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":71100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":865910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:46.980 [print] https:\/\/www.rijkswaterstaat.nl\/apps\/geoservices\/geodata\/dmc\/bodemhoogte_5mtr_atom_index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":692508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":473906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:46.981 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":664008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":432906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:46.982 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":73501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":398105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:46.983 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":949912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":429305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:46.984 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":611608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:46.984 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=9d973c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":752610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"adn83730-e750-485a-9c0c-39bf9bt72cf8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":604607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"adn83730-e750-485a-9c0c-39bf9bt72cf8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":404605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":37200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:46.129 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":54201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":106401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":119801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":375705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":92801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":348005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":65901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":133301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2bd75565-db8b-4df7-a3a6-0e9ca5289e5e","description":"","id":"2bd75565-db8b-4df7-a3a6-0e9ca5289e5e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":29500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":311604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2bd75565-db8b-4df7-a3a6-0e9ca5289e5e'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":866433244,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2bd75565-db8b-4df7-a3a6-0e9ca5289e5e'","result":{"duration":870011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":646709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":604307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":695408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":627908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":608207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":24600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":509606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":531406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":626608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":56001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":513507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:47.004 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.2350b86b-3efd-47e4-883e-519bfa8d0aba_wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":640408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":396805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:47.005 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":581408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":367904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:47.006 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":360305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:47.007 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":641308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":387205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:47.008 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":2040726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:47.010 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-rsa-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":701109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2bd75565-db8b-4df7-a3a6-0e9ca5289e5e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":440505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2bd75565-db8b-4df7-a3a6-0e9ca5289e5e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":333904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:46.570 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":46501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":320104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":316804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":198603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"13c6144d-231b-4a52-91d5-edde65076aff","description":"","id":"13c6144d-231b-4a52-91d5-edde65076aff","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '13c6144d-231b-4a52-91d5-edde65076aff'","result":{"duration":30300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":845991286,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '13c6144d-231b-4a52-91d5-edde65076aff'","result":{"duration":884711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":685208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":608408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":619008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":700009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":663308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":65100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":632508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":624008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":596507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":109401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":173102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:47.424 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.2350b86b-3efd-47e4-883e-519bfa8d0aba_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":660108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":123802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:47.425 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":555207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":135402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:47.426 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":63200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":114701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:47.426 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":672809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":125401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:47.427 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":133001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:47.427 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-rsa-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":687709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"13c6144d-231b-4a52-91d5-edde65076aff\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":455706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"13c6144d-231b-4a52-91d5-edde65076aff\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":291404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:46.846 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":47801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":516107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":47900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":449605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":457206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d9227c23-9d36-46ce-8ac9-a208103c218e","description":"","id":"d9227c23-9d36-46ce-8ac9-a208103c218e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":20600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd9227c23-9d36-46ce-8ac9-a208103c218e'","result":{"duration":32500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":853920685,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd9227c23-9d36-46ce-8ac9-a208103c218e'","result":{"duration":893211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":607308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":579607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":653309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":955412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":880511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":66201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":517907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":604308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":670008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":107602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":198802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:47.709 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.cefad637-5ffd-4dd0-b475-bc125a11f7e6_wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":649908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":119001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:47.709 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":646808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":128301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:47.710 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":67200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":141001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:47.710 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":775010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":110202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:47.711 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":135802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:47.711 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-rsa-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":623008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d9227c23-9d36-46ce-8ac9-a208103c218e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":363004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d9227c23-9d36-46ce-8ac9-a208103c218e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":248304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:46.989 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":45201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":62501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":300604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":291804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":49501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"bef46033-ce69-4ce4-b853-4ab65f6a424d","description":"","id":"bef46033-ce69-4ce4-b853-4ab65f6a424d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":54200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":294104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'bef46033-ce69-4ce4-b853-4ab65f6a424d'","result":{"duration":31101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":932238175,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bef46033-ce69-4ce4-b853-4ab65f6a424d'","result":{"duration":1152815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":718609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":680809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":603708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":854311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":912012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":112401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":724910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":643108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":730010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":107801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":161002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:47.931 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.917b5ba0-4fdd-4654-8c18-b3ccdadaa550_wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":672709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":112801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:47.931 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":674808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":128102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:47.932 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":71401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":122601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:47.933 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":718509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":133701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:47.933 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":121601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:47.934 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-rsa-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":884411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"bef46033-ce69-4ce4-b853-4ab65f6a424d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":590307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"bef46033-ce69-4ce4-b853-4ab65f6a424d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":320904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:47.013 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":42500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":305904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":36401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":362404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":47801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":117802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5e5d713c-e89d-441f-a848-9e4fe5d48400","description":"","id":"5e5d713c-e89d-441f-a848-9e4fe5d48400","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5e5d713c-e89d-441f-a848-9e4fe5d48400'","result":{"duration":29901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":937874146,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5e5d713c-e89d-441f-a848-9e4fe5d48400'","result":{"duration":766010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":665409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":693409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":664408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":677509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":897411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":88602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":928511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":722309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":666408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":118101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":146702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:47.960 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.917b5ba0-4fdd-4654-8c18-b3ccdadaa550_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":691209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":179502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:47.961 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":924812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":139401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:47.962 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":67401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":158202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:47.962 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":668708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":134802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:47.963 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":135302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:47.963 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-rsa-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":654808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5e5d713c-e89d-441f-a848-9e4fe5d48400\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":407305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5e5d713c-e89d-441f-a848-9e4fe5d48400\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":281203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":34300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:47.430 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":117602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":135601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":426306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":88201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":417505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":77201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":206702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f2443309-c655-4e64-b914-149050fd479c","description":"","id":"f2443309-c655-4e64-b914-149050fd479c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":30401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":43700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":12900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f2443309-c655-4e64-b914-149050fd479c'","result":{"duration":13300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":20001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":858258640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f2443309-c655-4e64-b914-149050fd479c'","result":{"duration":994112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":700909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":604308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":618208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":634508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":606908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":507906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":642508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":517807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":61001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":135302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:48.297 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.504afbe6-0069-411b-b69b-2aae3728f735_wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":638108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":68501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:48.298 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":535907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":97001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:48.298 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":93501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:48.298 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":698709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":103401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:48.299 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":96901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:48.299 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=wt-83730-e750-485a-9c0c-39bf9be72cf8#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":696809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f2443309-c655-4e64-b914-149050fd479c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":523106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f2443309-c655-4e64-b914-149050fd479c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":263503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":33900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:47.715 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":1999126,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":143802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":146002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":408805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":91001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":329604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":63400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":118801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3d8c9463-a3da-401d-8251-8c6664865e0c","description":"","id":"3d8c9463-a3da-401d-8251-8c6664865e0c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":30601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":26200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3d8c9463-a3da-401d-8251-8c6664865e0c'","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":851156750,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3d8c9463-a3da-401d-8251-8c6664865e0c'","result":{"duration":819110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":743610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":658008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1860024,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":902912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":844510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":44000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":592208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":548407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":554407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":63601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":786210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:48.578 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.504afbe6-0069-411b-b69b-2aae3728f735_wfs?SERVICE=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":573207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":445906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:48.579 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":567407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":1512019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:48.581 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":39801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":394505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:48.582 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":648608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":354105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:48.583 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":618107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:48.584 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=wt-83730-e750-485a-9c0c-39bf9be72cf8#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":594907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3d8c9463-a3da-401d-8251-8c6664865e0c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":732710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3d8c9463-a3da-401d-8251-8c6664865e0c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":363304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":77501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:47.938 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":86301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":171602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":131102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":382305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":117502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":418305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":129502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":123102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c4e7ab54-da5c-46ea-a5b5-53df01873240","description":"","id":"c4e7ab54-da5c-46ea-a5b5-53df01873240","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":58401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":26900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":14400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c4e7ab54-da5c-46ea-a5b5-53df01873240'","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847073299,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c4e7ab54-da5c-46ea-a5b5-53df01873240'","result":{"duration":1011613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":790310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":734509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":905712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":824710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":833511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":47201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":781010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":647608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":738810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":64801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":755209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:48.796 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.c3955762-73a3-4c16-a15c-f3869487a1e3_wms?SERVICE=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":708009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":563607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:48.797 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":772710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":445205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:48.798 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":40100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":476906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:48.799 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":828411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":1462418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:48.801 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":155802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:48.801 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":757510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c4e7ab54-da5c-46ea-a5b5-53df01873240\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":513606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c4e7ab54-da5c-46ea-a5b5-53df01873240\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":279503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":35700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:47.967 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":157402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":92301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":319404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":99102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":527706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":70600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":132701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"822d9417-a69f-4665-bc42-8c6d84e5dedb","description":"","id":"822d9417-a69f-4665-bc42-8c6d84e5dedb","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":30001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '822d9417-a69f-4665-bc42-8c6d84e5dedb'","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":842321139,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '822d9417-a69f-4665-bc42-8c6d84e5dedb'","result":{"duration":604508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":646208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":728809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":973312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":729109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":669109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":550707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":616307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":683109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":58501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":127902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:48.818 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.c3955762-73a3-4c16-a15c-f3869487a1e3_wfs?SERVICE=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":633608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":132202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:48.818 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":639908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":114702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:48.819 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":63701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:48.819 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":666509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":110401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:48.820 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":74901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:48.820 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":685509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"822d9417-a69f-4665-bc42-8c6d84e5dedb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":386305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"822d9417-a69f-4665-bc42-8c6d84e5dedb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":264803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:48.303 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":65501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":46500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":323804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":36900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":355205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":84601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"tbjk534p-wubf-crbp-cj25-d41611f0gfim","description":"","id":"tbjk534p-wubf-crbp-cj25-d41611f0gfim","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'tbjk534p-wubf-crbp-cj25-d41611f0gfim'","result":{"duration":47500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":838682093,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tbjk534p-wubf-crbp-cj25-d41611f0gfim'","result":{"duration":1132315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":968412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":876911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":959012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1022213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1288616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":78701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1011413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":778010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":783910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":133802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":745809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:49.153 [print] https:\\\/\\\/marineprojects.openearth.nl\\\/geoserver\\\/ihm_krm\\\/wfs?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":785610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":483407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:49.154 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":819110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":442406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:49.156 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":84401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":440306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:49.156 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1194515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":460006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:49.158 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":718609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:49.159 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=tbjk534p-wubf-crbp-cj25-d4161160gfim#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":862011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611f0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":531307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611f0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":366805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:48.588 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":67601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":45501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":301204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":332804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":254604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"tbjk534p-wubf-crbp-cj25-d41611m0gfim","description":"","id":"tbjk534p-wubf-crbp-cj25-d41611m0gfim","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'tbjk534p-wubf-crbp-cj25-d41611m0gfim'","result":{"duration":30600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":834994039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tbjk534p-wubf-crbp-cj25-d41611m0gfim'","result":{"duration":926012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":944012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":827310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":842310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":987413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":894111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":66601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":634108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":683009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":742410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":120101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":158202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:49.432 [print] https:\\\/\\\/marineprojects.openearth.nl\\\/geoserver\\\/ihm_krm\\\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1989025,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":237403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:49.434 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1178215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":150702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:49.436 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":324904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":151602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:49.436 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1260116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":390305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:49.438 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":134702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:49.438 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=tbjk534p-wubf-crbp-cj25-d4161160gfim#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1058513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611m0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":463406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611m0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":337405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:48.805 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":66801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":63700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":457505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":500806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":40900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":106902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"eu-ecda1-2216-4100-96dc-6bede78f9813","description":"","id":"eu-ecda1-2216-4100-96dc-6bede78f9813","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":31800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":35801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'eu-ecda1-2216-4100-96dc-6bede78f9813'","result":{"duration":49501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847967396,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'eu-ecda1-2216-4100-96dc-6bede78f9813'","result":{"duration":1157014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":863210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":772609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":681709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":815110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":779209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":123201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":574207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":609307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":596308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":117102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":146102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:49.662 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.7c48322f-f9cf-4a08-aa63-c4de080c13a1_wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1096814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":126901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:49.664 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":908011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":194503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:49.665 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":436805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":138401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:49.665 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1308517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":174402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:49.667 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":821911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:49.668 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-9d8e-4758-83fx-28b057f185e1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":758809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"eu-ecda1-2216-4100-96dc-6bede78f9813\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":480806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"eu-ecda1-2216-4100-96dc-6bede78f9813\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":425105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:48.823 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":39000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":40501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":284603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":14285180,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":474306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":113602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":123001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"eu-e37cb-537f-4d98-8c03-820ee2d872d6","description":"","id":"eu-e37cb-537f-4d98-8c03-820ee2d872d6","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":226403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":51001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":22600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":90101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'eu-e37cb-537f-4d98-8c03-820ee2d872d6'","result":{"duration":47700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":40801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849417113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'eu-e37cb-537f-4d98-8c03-820ee2d872d6'","result":{"duration":673008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":728210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":728009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":789410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":813210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":801310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":84701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":535507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":620608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":681109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":104601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":821711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:49.697 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.7c48322f-f9cf-4a08-aa63-c4de080c13a1_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":781510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":533206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:49.698 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":640908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":509106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:49.699 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":145602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":413506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:49.700 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":735309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":546407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:49.701 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":803110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:49.702 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-9d8e-4758-83fx-28b057f185e1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":796210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"eu-e37cb-537f-4d98-8c03-820ee2d872d6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":893011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"eu-e37cb-537f-4d98-8c03-820ee2d872d6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":434406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":69001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:49.164 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":168303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":112301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":466306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":75001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":481306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":95302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":98301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"cf69ec50-9849-4afd-853c-ee5621fd336d","description":"","id":"cf69ec50-9849-4afd-853c-ee5621fd336d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":28800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":330904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":22000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'cf69ec50-9849-4afd-853c-ee5621fd336d'","result":{"duration":21801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":30800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852441842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cf69ec50-9849-4afd-853c-ee5621fd336d'","result":{"duration":1138714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":944812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":972412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":963113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":870411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":722609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":633608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":630208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":682208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":66601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":147902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:50.027 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WFS&version=1.1.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":794710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":66201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:50.027 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":655508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":61601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:50.028 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":46801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":38100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:50.028 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":908412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":104101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:50.029 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":140602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:50.029 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=cf69ec50-9849-4afd-853c-ee56211d336d#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":941312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621fd336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":824911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621fd336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":283404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":36701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:49.442 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":183602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":113402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":501506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":130802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":399505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":63501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":103301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"cf69ec50-9849-4afd-853c-ee5621md336d","description":"","id":"cf69ec50-9849-4afd-853c-ee5621md336d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":29200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":26100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'cf69ec50-9849-4afd-853c-ee5621md336d'","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":831695181,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cf69ec50-9849-4afd-853c-ee5621md336d'","result":{"duration":960312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":946612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":725509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":783410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":784010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":767010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":580308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1077613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":657408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":69801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":129402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:50.284 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":734509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":148201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:50.285 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":785009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":71701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:50.286 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":78801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:50.286 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":707009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":69901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:50.287 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":33801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:50.287 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=cf69ec50-9849-4afd-853c-ee56211d336d#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":718009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621md336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1948525,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621md336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":299404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":66501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:49.672 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":116401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":97502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":393405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":115801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":432605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":70301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":502607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1887e931-e1b9-4512-9ca2-61526439fd7b","description":"","id":"1887e931-e1b9-4512-9ca2-61526439fd7b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":59901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":34200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":16101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":14400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1887e931-e1b9-4512-9ca2-61526439fd7b'","result":{"duration":14400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":14101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":30500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":871922389,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1887e931-e1b9-4512-9ca2-61526439fd7b'","result":{"duration":1135814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":727710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":690308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":716409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":10918338,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":925612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":89701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":607207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":738810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":891911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":154302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":286804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:50.566 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.6cef2128-a227-4aa7-bc74-0e3797644d51_wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":811310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":130502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:50.567 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":730509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":125301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:50.568 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":86701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":213103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:50.568 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":936912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":150102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:50.569 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":310004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:50.569 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":760410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1887e931-e1b9-4512-9ca2-61526439fd7b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":446606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1887e931-e1b9-4512-9ca2-61526439fd7b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":270203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":59001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:49.710 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":106202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":91501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":395805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":388705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":388505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"de93b602-8cbf-4cf0-9ce6-1b201e230ef1","description":"","id":"de93b602-8cbf-4cf0-9ce6-1b201e230ef1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'de93b602-8cbf-4cf0-9ce6-1b201e230ef1'","result":{"duration":29601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":861839661,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'de93b602-8cbf-4cf0-9ce6-1b201e230ef1'","result":{"duration":767410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":875311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":770410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1320816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":868011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":908212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":104402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":654908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":808510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":722909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":146402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":703909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:50.583 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.6cef2128-a227-4aa7-bc74-0e3797644d51_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":901411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":592608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:50.584 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":706709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":911212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:50.586 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":80001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":470706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:50.587 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":838911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":137301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:50.588 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":957512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:50.589 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":782410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"de93b602-8cbf-4cf0-9ce6-1b201e230ef1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":423205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"de93b602-8cbf-4cf0-9ce6-1b201e230ef1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":363605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":32100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:50.034 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":549707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":401405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":46101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":490306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":56600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2","description":"","id":"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":302804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2'","result":{"duration":32601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846506968,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2'","result":{"duration":1094714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":866811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":906911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":813610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":903411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":967613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":230903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":820110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":804610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":764710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":127901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":159502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:50.891 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":724009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":143002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:50.892 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":757209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":170702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:50.893 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":88801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":138402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:50.893 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":942612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":135602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:50.895 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":239603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:50.895 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":897011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":548507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":353904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:50.292 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":316404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":66501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":593608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":96301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":572208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":79901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":122601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2","description":"","id":"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2'","result":{"duration":31900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":855007475,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2'","result":{"duration":1027513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":702309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1603520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":822711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":758609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":888711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":72901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":639108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":762810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":744410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":119201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":252504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:51.158 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":732309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":154302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:51.159 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":748510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":170802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:51.160 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":77201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":150902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:51.160 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":822811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":212403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:51.161 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":118701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:51.161 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":918712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":616108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":366405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":41401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:50.573 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":52500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":197902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":111802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":376205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":96601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":382305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":66201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":245603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2","description":"","id":"68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":45401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":29600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2'","result":{"duration":14600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":14301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":14900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":840796896,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2'","result":{"duration":1308417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1289717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1158415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1137314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1435518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1346517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":899212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":969712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":973912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":121401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":255904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:51.427 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":853011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":99801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:51.428 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":785910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":91802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:51.429 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":61601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:51.429 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":856211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":92101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:51.430 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":66001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:51.431 [print] #notpresent \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":878611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":603707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":339805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":38700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:50.592 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":102701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":91702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":367404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":94501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":357104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":80401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":451005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"cf69ec50-9849-4afd-853c-ee56211d336d","description":"","id":"cf69ec50-9849-4afd-853c-ee56211d336d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":40201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'cf69ec50-9849-4afd-853c-ee56211d336d'","result":{"duration":14000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":17301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":866015113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cf69ec50-9849-4afd-853c-ee56211d336d'","result":{"duration":1147815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":882911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":928812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":4427356,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1089714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":864511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":889212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":824410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":767010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":74401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":5301267,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:51.478 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1284016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":564707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:51.480 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WFS\",\"OGC:WFS\",\"landingpage\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":789510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":538007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:51.481 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":39400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":400305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:51.482 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WFS\",\"OGC:WFS\",\"landingpage\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1687621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":395705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:51.484 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":494506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:51.484 [print] #notpresent \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1103013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee56211d336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":509306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee56211d336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":696509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":38601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:50.900 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":136502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":95102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":476706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":98301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":521807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":68801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":136702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2d1860f2-f8ba-457e-bd64-93cdabd69aee","description":"","id":"2d1860f2-f8ba-457e-bd64-93cdabd69aee","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":34900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":27801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":14401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2d1860f2-f8ba-457e-bd64-93cdabd69aee'","result":{"duration":18100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":14500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":14101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":854634070,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2d1860f2-f8ba-457e-bd64-93cdabd69aee'","result":{"duration":2383030,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":887511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":607408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1061013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1223915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":847211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":771909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":714609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":660408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":140202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1284017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:51.767 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities&service=WMS&version=1.3.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":924612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":621408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:51.769 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":671108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":484407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:51.770 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":56600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":72901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:51.770 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":919411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":77201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:51.771 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":34801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:51.771 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4cda487b-c467-490c-a843-6563fec016be#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1369417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2d1860f2-f8ba-457e-bd64-93cdabd69aee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":652509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2d1860f2-f8ba-457e-bd64-93cdabd69aee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":282603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":43600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:51.166 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":207903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":122702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":507606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":129102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":527407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":130402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":155002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"243c6401-9ed1-4cdd-b9a7-caff08813ce4","description":"","id":"243c6401-9ed1-4cdd-b9a7-caff08813ce4","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":40001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":43000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":16801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '243c6401-9ed1-4cdd-b9a7-caff08813ce4'","result":{"duration":15600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":15001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":856756397,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '243c6401-9ed1-4cdd-b9a7-caff08813ce4'","result":{"duration":1040813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":785510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":671708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":570607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":617508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":881811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":72201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":732409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":592508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":633508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":184603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":179102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:52.032 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-EEZ-volgens-UNCLOS-feed.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":758710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":171102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:52.033 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":669809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":161002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:52.034 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":83401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":112901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:52.034 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":787410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":113701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:52.035 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":130802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:52.036 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e8b84fae-00b3-49c1-80c1-df8f69f64e8c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":807010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"243c6401-9ed1-4cdd-b9a7-caff08813ce4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":650409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"243c6401-9ed1-4cdd-b9a7-caff08813ce4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":375105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:51.435 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":76301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":82501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":391605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":353304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":53901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"54d2021b-e778-4834-a3c6-75c89d36b942","description":"","id":"54d2021b-e778-4834-a3c6-75c89d36b942","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '54d2021b-e778-4834-a3c6-75c89d36b942'","result":{"duration":31900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":861544858,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '54d2021b-e778-4834-a3c6-75c89d36b942'","result":{"duration":1020813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":726009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":905812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":766910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":717109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":818610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":70401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":832610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":799810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1135914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":188903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1109514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:52.307 [print] https:\/\/geodata.nationaalgeoregister.nl\/tiles\/service\/wmts?request=GetCapabilities&service=wmts \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":701709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":143302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:52.308 [print] OGC:WMTS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":691609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":199302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:52.309 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":78301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":148102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:52.310 [print] OGC:WMTS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":660708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":149001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:52.311 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":377504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:52.311 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2ae3e9b7-aa79-41d4-a35b-c9a0fee69e5c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":702009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"54d2021b-e778-4834-a3c6-75c89d36b942\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":381805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"54d2021b-e778-4834-a3c6-75c89d36b942\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":301704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":45200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:51.489 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":372104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":333604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":56301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0426f471-f325-42ed-a775-81c397592e86","description":"","id":"0426f471-f325-42ed-a775-81c397592e86","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":273904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0426f471-f325-42ed-a775-81c397592e86'","result":{"duration":50300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847079375,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0426f471-f325-42ed-a775-81c397592e86'","result":{"duration":661008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":649608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":667408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":728110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":730309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":859311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":75101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":590908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":698709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":845011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":480006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1075514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:52.346 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":755709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":464006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:52.347 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":613508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":416206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:52.348 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":71201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":359404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:52.349 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":760410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":446806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:52.350 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":964012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:52.351 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8a4f5c3b-aced-48fd-afb5-f1f1d0ef21d6#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":769910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0426f471-f325-42ed-a775-81c397592e86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":361005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0426f471-f325-42ed-a775-81c397592e86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":333004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:51.776 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":39100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":308804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":56801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":320404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":129302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"63f622ef-46b3-411a-a2aa-045cabf1e3ac","description":"","id":"63f622ef-46b3-411a-a2aa-045cabf1e3ac","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '63f622ef-46b3-411a-a2aa-045cabf1e3ac'","result":{"duration":33600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852637545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '63f622ef-46b3-411a-a2aa-045cabf1e3ac'","result":{"duration":1728522,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":790110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":730709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":727009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":707909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":797110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":69301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":550407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":696709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":858211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":232803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":163902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:52.638 [print] https:\/\/geodata.nationaalgeoregister.nl\/provincies\/ps\/wfs\/v1?SERVICE=WFS&REQUEST=GetCapabilities&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":665909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":132602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:52.639 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":651508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":119602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:52.640 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":82001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":146402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:52.640 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":777610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":122001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:52.641 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":182403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:52.641 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=49ab8bee-b467-486a-96ca-b950443c453a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":674908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"63f622ef-46b3-411a-a2aa-045cabf1e3ac\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":526307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"63f622ef-46b3-411a-a2aa-045cabf1e3ac\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":284204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":38501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:52.040 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":292604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":119602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":524406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":116001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":399405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":66301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":116502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"55cf16e8-1c04-462c-b78a-e0d28823dd2e","description":"","id":"55cf16e8-1c04-462c-b78a-e0d28823dd2e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":30000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":27001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":14000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '55cf16e8-1c04-462c-b78a-e0d28823dd2e'","result":{"duration":13101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":66700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":843524330,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '55cf16e8-1c04-462c-b78a-e0d28823dd2e'","result":{"duration":899711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":878911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":728610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":599707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":895212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1001512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":542707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":649008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":655008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":70001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":139002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:52.893 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.c4108a11-bdbb-4461-8902-423531561a7e_wfs?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":641508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":100101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:52.894 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":607808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":59701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:52.894 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":72701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":90701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:52.895 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":645009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":73801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:52.895 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":51700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:52.895 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":658409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"55cf16e8-1c04-462c-b78a-e0d28823dd2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":456706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"55cf16e8-1c04-462c-b78a-e0d28823dd2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":264203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":54301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:52.316 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":174402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":109001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":408206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":444205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":376105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":63601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":138202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"fa3ecd49-4571-4eb3-84f3-2865f42934b2","description":"","id":"fa3ecd49-4571-4eb3-84f3-2865f42934b2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":31100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":28000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":29001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'fa3ecd49-4571-4eb3-84f3-2865f42934b2'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":858959525,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'fa3ecd49-4571-4eb3-84f3-2865f42934b2'","result":{"duration":942812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":690109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":604708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":635408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":797110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":633108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":511306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":678808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":611808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":244704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":153802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:53.184 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wfs\/olie_en_gasvelden?service=WFS&request=GetCapabilities&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":542207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":87301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:53.184 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":598307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":111001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:53.185 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":74800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:53.185 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":603207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":98802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:53.186 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":74101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:53.186 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=b61a773c-ecad-4e60-93e9-0a4caac0b52f&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":572107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"fa3ecd49-4571-4eb3-84f3-2865f42934b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":557807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"fa3ecd49-4571-4eb3-84f3-2865f42934b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":264704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":39201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:52.356 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":69301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":790410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":232103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":413405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":134102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":405205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":64901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":518507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"dda53ebc-bee7-4765-8f1f-6ac59b0aec39","description":"","id":"dda53ebc-bee7-4765-8f1f-6ac59b0aec39","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":43500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":25001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'dda53ebc-bee7-4765-8f1f-6ac59b0aec39'","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":859421930,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dda53ebc-bee7-4765-8f1f-6ac59b0aec39'","result":{"duration":622908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":688208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":634708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":712809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":590507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":611007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":641608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":556507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":9982026,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":146201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":226803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:53.234 [print] https:\/\/www.broinspireservices.nl\/wms\/ossobor-a-v1.0?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":3193041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":156502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:53.238 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":994313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":143501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:53.239 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":64200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":83901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:53.239 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":648608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":127402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:53.240 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":86501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:53.240 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=9dd9bf30-36e6-45ae-b368-bdef2720bdde&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":611708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"dda53ebc-bee7-4765-8f1f-6ac59b0aec39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":367804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"dda53ebc-bee7-4765-8f1f-6ac59b0aec39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":271903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":36201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:52.645 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":52100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":99201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":83901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":416505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":107702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":400905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":57901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":114201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"00e8746f-5031-413e-8343-9203c8ea82ee","description":"","id":"00e8746f-5031-413e-8343-9203c8ea82ee","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":28501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":23500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":13200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":12300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '00e8746f-5031-413e-8343-9203c8ea82ee'","result":{"duration":12700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":149602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":21501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847349178,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '00e8746f-5031-413e-8343-9203c8ea82ee'","result":{"duration":1161614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":745809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":628408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":689709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":860511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":811310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":69400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":611307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":634608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":618407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":147801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":311603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:53.502 [print] http:\/\/services.inspire-provincies.nl\/NaturalRiskZones\/services\/download_NZ?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":678708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":109502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:53.503 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":638408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":176502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:53.504 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":85301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":132101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:53.504 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":693209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":139302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:53.505 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":1563120,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:53.506 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88f76a94-ee4d-4e0c-9fde-91b692403e39&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=08af1182-91fe-4d21-aa21-ee002953c3cc&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=d91126e0-e37b-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=667ebfb0-e37c-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":669708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"00e8746f-5031-413e-8343-9203c8ea82ee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":470905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"00e8746f-5031-413e-8343-9203c8ea82ee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":324804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:52.899 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":36700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":44901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":376105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":523306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":119202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9","description":"","id":"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2dd6c9df-bb47-40eb-af39-2d17f09b9bb9'","result":{"duration":28500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":851965137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2dd6c9df-bb47-40eb-af39-2d17f09b9bb9'","result":{"duration":868211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":533707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":540807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":536207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":648109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":803910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":67201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":535007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":563207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":477506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":152002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":294004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:53.758 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/oppervlaktegeologie?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":810610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":159102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:53.759 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":788710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":183302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:53.760 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":75801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":122502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:53.761 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":718909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":157802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:53.762 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":105802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:53.762 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=80630ee7-3a15-4ea0-bdc0-a8aebfa2f204&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":580607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":445906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":286904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:53.189 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":66001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":375205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":298103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":67601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"224d93f6-0e4e-41fe-8424-1ab11a6c55ed","description":"","id":"224d93f6-0e4e-41fe-8424-1ab11a6c55ed","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '224d93f6-0e4e-41fe-8424-1ab11a6c55ed'","result":{"duration":28600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":859462732,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '224d93f6-0e4e-41fe-8424-1ab11a6c55ed'","result":{"duration":859111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":744809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":810710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":670408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":646508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":796810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":75001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":648408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":798010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":580107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":278204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":513006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:54.058 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":700409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":172802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:54.059 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":951112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":151801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:54.060 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":98801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":149601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:54.061 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":827610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":259003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:54.062 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":156202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:54.063 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=36a7e8cb-8300-4602-93d2-135943365a6f \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1161315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"224d93f6-0e4e-41fe-8424-1ab11a6c55ed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":432405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"224d93f6-0e4e-41fe-8424-1ab11a6c55ed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":407705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":56900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:53.245 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":138902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":121901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":339504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":90101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":479206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":69601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":166802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"777f41ee-8269-4bbc-b0e4-f889c62be099","description":"","id":"777f41ee-8269-4bbc-b0e4-f889c62be099","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":44800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":306904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":18300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '777f41ee-8269-4bbc-b0e4-f889c62be099'","result":{"duration":13500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":31100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":840971498,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '777f41ee-8269-4bbc-b0e4-f889c62be099'","result":{"duration":870611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":741309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":930011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":664509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":850411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":803810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":99001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":586208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":733209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":3019438,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":122701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":421705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:54.098 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":628208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":107501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:54.100 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":946912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":127402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:54.101 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":341904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":124502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:54.101 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1210915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":149601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:54.103 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":769509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:54.103 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=50a2c5e6-c8e7-425d-854e-26f578196bc9#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1313317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"777f41ee-8269-4bbc-b0e4-f889c62be099\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":483606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"777f41ee-8269-4bbc-b0e4-f889c62be099\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":337605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":54601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:53.514 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":46800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":107001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":167502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":406105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":115502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":445506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":225203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":770410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8","description":"","id":"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":42800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":29700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8'","result":{"duration":14100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":843938835,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8'","result":{"duration":1048613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":768610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":814010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":823011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1289316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":790410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":633808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":599308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":599407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":61900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":145702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:54.369 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nwbwegen\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1219116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":98001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:54.370 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":965712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":103601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:54.371 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":47901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":417405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:54.372 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":843911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":95601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:54.373 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":58701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:54.373 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a9b7026e-0a81-4813-93bd-ba49e6f28502#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1476619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":509906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":409706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":35300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:53.765 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":93001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":93401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":404705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":83701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":363105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":57701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":108601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"43a37418-365c-4848-b885-5823259ca7c9","description":"","id":"43a37418-365c-4848-b885-5823259ca7c9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":27800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":40600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":12801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '43a37418-365c-4848-b885-5823259ca7c9'","result":{"duration":31400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":11800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":851105726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '43a37418-365c-4848-b885-5823259ca7c9'","result":{"duration":951012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":771410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":779210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":722309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":8915812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":823111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":65800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":483606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":560607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":587808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":123902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":152802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:54.633 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.cefad637-5ffd-4dd0-b475-bc125a11f7e6_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":707309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":107001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:54.634 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":574208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":245203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:54.635 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":207303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":155002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:54.636 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":761309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":122102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:54.636 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":206403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:54.637 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-rsa-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":718709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"43a37418-365c-4848-b885-5823259ca7c9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":386005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"43a37418-365c-4848-b885-5823259ca7c9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":369605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":38101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:54.068 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":96102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":89001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":383105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":90001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":384405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":83701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":168302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"77971fa3-f869-4726-969a-482e0b1a8c5d","description":"","id":"77971fa3-f869-4726-969a-482e0b1a8c5d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":351904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":32201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":33000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '77971fa3-f869-4726-969a-482e0b1a8c5d'","result":{"duration":13801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":838536268,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '77971fa3-f869-4726-969a-482e0b1a8c5d'","result":{"duration":878111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":548807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":855511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":605507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":599108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":661008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":81601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":469006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":594007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":525907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":127702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":222403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:54.915 [print] https:\/\/www.gdngeoservices.nl\/inspire\/downloads\/services.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":610908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":131102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:54.916 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":661408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":151102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:54.917 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":67301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":131302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:54.917 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":732009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":122102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:54.918 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":124902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:54.918 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=80630ee7-3a15-4ea0-bdc0-a8aebfa2f204&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":602007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"77971fa3-f869-4726-969a-482e0b1a8c5d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":372905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"77971fa3-f869-4726-969a-482e0b1a8c5d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":303604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:54.108 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":75301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":87301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":73501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":337404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":343804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":86301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"070014b4-1f63-4819-beea-000b7d5f8d86","description":"","id":"070014b4-1f63-4819-beea-000b7d5f8d86","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '070014b4-1f63-4819-beea-000b7d5f8d86'","result":{"duration":30801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":853489656,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '070014b4-1f63-4819-beea-000b7d5f8d86'","result":{"duration":642608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":697008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":727410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":664408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":591808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":690309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":62601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":585207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":577907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":597307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":113602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":143502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:54.970 [print] https:\/\/www.broinspireservices.nl\/atom\/services.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":590907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":133402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:54.971 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":890111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":130902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:54.972 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":62101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":109402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:54.972 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":648308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":181302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:54.973 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":139602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:54.973 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=F646DFB9-5BF6-EAB9-042B-CAB6FF2DC275&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":631308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"070014b4-1f63-4819-beea-000b7d5f8d86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":347605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"070014b4-1f63-4819-beea-000b7d5f8d86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":257303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:54.377 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":75201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":353905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":76601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":395905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":48401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":90101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1d3c777a-3527-4aa1-8573-d6aeeff115e5","description":"","id":"1d3c777a-3527-4aa1-8573-d6aeeff115e5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1d3c777a-3527-4aa1-8573-d6aeeff115e5'","result":{"duration":50401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850215815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1d3c777a-3527-4aa1-8573-d6aeeff115e5'","result":{"duration":938911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":851010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":625308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":605908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":897912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1027713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":74701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":602908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":641708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":608208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":170202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":885111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:55.238 [print] https:\/\/www.broinspireservices.nl\/atom\/services.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":723309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":129001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:55.239 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":926111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":136102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:55.240 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":354305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":159902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:55.240 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1028313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":131902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:55.241 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":354804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:55.242 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=E7D9F0D6-2B8D-6699-F26E-4A781228F2DD&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1255616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1d3c777a-3527-4aa1-8573-d6aeeff115e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":525807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1d3c777a-3527-4aa1-8573-d6aeeff115e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":337704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":36500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:54.641 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":92501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":83501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":377505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":85301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":341004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":75201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":106601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"46873d16-6835-48c4-b47f-134ab0cb31fa","description":"","id":"46873d16-6835-48c4-b47f-134ab0cb31fa","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":26500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":80001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":12501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '46873d16-6835-48c4-b47f-134ab0cb31fa'","result":{"duration":19500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":876684248,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '46873d16-6835-48c4-b47f-134ab0cb31fa'","result":{"duration":855511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":755810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":681609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":604907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":717309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":628108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":535407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":645509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":551907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":59800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":941911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:55.527 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":815810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":118502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:55.528 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":665408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":136902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:55.529 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":59501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:55.529 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1813523,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":487706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:55.531 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":711009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:55.531 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=50a2c5e6-c8e7-425d-854e-26f578196bc9#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":715909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"46873d16-6835-48c4-b47f-134ab0cb31fa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":560807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"46873d16-6835-48c4-b47f-134ab0cb31fa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":266803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":35000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:54.922 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":92801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":83901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":339305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":118701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":338005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":66401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":113701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e","description":"","id":"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":28301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":25500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":12001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ca71572f-a498-4ca6-aa60-d4c4c4d59e2e'","result":{"duration":13600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":838935872,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ca71572f-a498-4ca6-aa60-d4c4c4d59e2e'","result":{"duration":759709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":573008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":515006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":598908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":644208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":533007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":462305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":454805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":504807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":84001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":94202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:55.768 [print] https:\/\/inspire.caris.nl\/geoserver\/gnwms\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":520006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":111902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:55.768 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":600308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":92201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:55.769 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":28800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":68800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:55.769 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":785809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":90301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:55.770 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":82401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:55.770 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=34e95842-4e4e-46de-9198-79e8cd4d30dc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":599908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":451605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":246304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":77101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:54.978 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":94101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":86801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":333004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":133502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":373904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":58001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":156402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b5ee6914-04bd-4c7e-a180-242371ae40d9","description":"","id":"b5ee6914-04bd-4c7e-a180-242371ae40d9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":29600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":22300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":341905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":31900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b5ee6914-04bd-4c7e-a180-242371ae40d9'","result":{"duration":16001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":844035337,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b5ee6914-04bd-4c7e-a180-242371ae40d9'","result":{"duration":833410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":644108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":573407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":553207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":650308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":682009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":49601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":494106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":514207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":11863749,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":263703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":363005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:55.842 [print] https:\/\/inspire.rivm.nl\/atom\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":848111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":147802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:55.843 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":939312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":145102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:55.844 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":158902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":145002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:55.845 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":735009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":161702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:55.846 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":323004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:55.846 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=50a2c5e6-c8e7-425d-854e-26f578196bc9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=08b27bf0-e34a-4b30-9eac-5edadfb6a288#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8b0b02a0-1e1b-4cda-bcfe-6fa0f738e38f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f2f86edf-ac3a-48e8-9292-0544da2d7645#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=ad6caa40-89ab-47e3-85ab-3f8e32024a71#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f8d840bc-18df-4449-b797-b9adcb81d3ec#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d3c9efd6-fca7-49d6-92bb-5f507abece90#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=32a21114-8694-40ce-ab76-9dcd885c7861#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d24ccb35-e9d2-41bf-b231-43083fc0c76d#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=36a7e8cb-8300-4602-93d2-135943365a6f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=b3f66964-a8c1-456f-9799-9cafca2cb7b1#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=e1e99000-ec47-4e9f-84a5-adad24fef0dc#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8a4f5c3b-aced-48fd-afb5-f1f1d0ef21d6#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d9baa847-4652-4588-abe1-0b050f40f27f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2cc2c30c-91b8-412a-a060-e84d25272581#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":663908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b5ee6914-04bd-4c7e-a180-242371ae40d9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":753010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b5ee6914-04bd-4c7e-a180-242371ae40d9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":436006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":74501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:55.246 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":412105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":128601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":366504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":93102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":400805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":109201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":165002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d","description":"","id":"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":31700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":27300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd796fd8d-b1e0-465c-a55b-1e9fe885fc3d'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":29600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":842938523,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd796fd8d-b1e0-465c-a55b-1e9fe885fc3d'","result":{"duration":808811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":849210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":713409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":565907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":600307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":665008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":80001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":463606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":702009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":683409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":743510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":549907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:56.099 [print] https:\/\/www.broinspireservices.nl\/wms\/osgegmw-a-v1.0?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":642208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":167902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:56.100 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1038614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":122501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:56.101 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":318804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":124302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:56.102 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":906611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":208703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:56.103 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":183803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:56.103 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=f99e915a-75e5-4c36-97f2-61eff692d85b&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":812411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":424005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":303704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:55.535 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":54701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":65601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":324804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":63901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":378605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":106602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"93c8762c-4cbb-42b0-9b02-89ef902e8880","description":"","id":"93c8762c-4cbb-42b0-9b02-89ef902e8880","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":576307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":35801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '93c8762c-4cbb-42b0-9b02-89ef902e8880'","result":{"duration":48501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":841956510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '93c8762c-4cbb-42b0-9b02-89ef902e8880'","result":{"duration":810210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":642308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":557407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":547606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":643508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":699909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":67101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":538207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":607707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":537507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":794610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":580007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:56.387 [print] https:\/\/service.pdok.nl\/provincies\/ps\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":777510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":429406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:56.388 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":702309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":504206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:56.390 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":76401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":381204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:56.390 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":637808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":409505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:56.391 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":638008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:56.392 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=49ab8bee-b467-486a-96ca-b950443c453a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":569508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"93c8762c-4cbb-42b0-9b02-89ef902e8880\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":405805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"93c8762c-4cbb-42b0-9b02-89ef902e8880\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":251403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:55.773 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":36800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":43001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":347604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":341304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":47001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"54122631-d343-40be-9c28-e44626b37a0e","description":"","id":"54122631-d343-40be-9c28-e44626b37a0e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '54122631-d343-40be-9c28-e44626b37a0e'","result":{"duration":26701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":843146126,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '54122631-d343-40be-9c28-e44626b37a0e'","result":{"duration":1121715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":689208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":592207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":594208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":674208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":810511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":89501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":545007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":646908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":565408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":171702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":855111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:56.625 [print] https:\/\/service.pdok.nl\/cbs\/hh\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":644208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":464506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:56.626 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":655108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":123301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:56.627 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":307004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":123102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:56.628 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":765609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":235903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:56.629 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":164702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:56.629 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=12bb57cd-73e0-41ba-a1e9-6d986b9109d3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":654908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"54122631-d343-40be-9c28-e44626b37a0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":379904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"54122631-d343-40be-9c28-e44626b37a0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":882011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":117802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:55.850 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":45501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":110201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":147102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":353305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":86101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":337004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":59801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":110302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b7880739-a701-4cc0-bb32-2bba61fa8924","description":"","id":"b7880739-a701-4cc0-bb32-2bba61fa8924","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":80201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":32800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b7880739-a701-4cc0-bb32-2bba61fa8924'","result":{"duration":12700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":28601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848598594,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b7880739-a701-4cc0-bb32-2bba61fa8924'","result":{"duration":929812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":594008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":578807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":731910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":839210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":690909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":91102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":591007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":663609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":836610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":499106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":215903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:56.708 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/aardwarmte?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":722509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":479106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:56.709 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":801610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":158702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:56.710 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":44200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":111701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:56.710 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":751910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":121101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:56.711 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":94302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:56.711 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=11a292bd-9022-4a9f-b1bf-02f5c89ad74a&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":642008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b7880739-a701-4cc0-bb32-2bba61fa8924\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":491006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b7880739-a701-4cc0-bb32-2bba61fa8924\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":268904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":59401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:56.107 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":94501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":84701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":336704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":82201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":318804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":55000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":86902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507","description":"","id":"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":26000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":97001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":16501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507'","result":{"duration":12600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":831293576,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507'","result":{"duration":860211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":782310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":607508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":582407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":649508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":601407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":476106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":494506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":482306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":65101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":123801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:56.946 [print] https:\/\/geodata.nationaalgeoregister.nl\/rvo\/inspire\/invasieve-exoten\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1067314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":91701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:56.947 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":515807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":60601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:56.948 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":28600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":72901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:56.948 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":656208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":61500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:56.949 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":31501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:56.949 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3703b249-a0eb-484e-ba7a-10e31a55bcec#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":606208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":502406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":298904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":121502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:56.396 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":46201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":109401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":127902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":354805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":85601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":376505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":59900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":512206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"49ff0584-a173-4098-824c-119edf8447f7","description":"","id":"49ff0584-a173-4098-824c-119edf8447f7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":36301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":26300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":12501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '49ff0584-a173-4098-824c-119edf8447f7'","result":{"duration":14600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":875307330,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '49ff0584-a173-4098-824c-119edf8447f7'","result":{"duration":1054713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":991612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":922211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":989913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":826710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":905511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":71601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":727909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":722909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":696509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":105801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":208503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:57.282 [print] https:\\\/\\\/services.rce.geovoorziening.nl\\\/rce\\\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":992112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":146702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:57.283 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":629708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":102201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:57.284 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":65901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":132102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:57.284 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":678508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":103902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:57.285 [print] Rijksdienst voor het Cultureel Erfgoed \n","line":56}},{"name":"print operateson","result":{"duration":113601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:57.285 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=6f84efeb-fc1d-4565-a721-80735ea57dbd#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=4e2ef670-cddd-11dd-ad8b-0800200c9a66#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=88a3c1ae-902e-4efa-8663-ddd836101929#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":883811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"49ff0584-a173-4098-824c-119edf8447f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":486006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"49ff0584-a173-4098-824c-119edf8447f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":323004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":52400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:56.633 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":110901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":85301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":355404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":98702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":343404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":54101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":105201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7d641d0e-c04b-4191-833e-c578ac2abe5f","description":"","id":"7d641d0e-c04b-4191-833e-c578ac2abe5f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":26101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":96302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7d641d0e-c04b-4191-833e-c578ac2abe5f'","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":840648391,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7d641d0e-c04b-4191-833e-c578ac2abe5f'","result":{"duration":823510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":760009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":830111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":707609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":628108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":638008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":64601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":512507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":615907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":521406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":123602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":174602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:57.482 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.83f948b1-9293-4926-b64d-40857c792f1e?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":538107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":150202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:57.483 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":565907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":95002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:57.483 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":106901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":116202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:57.484 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":653308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":174702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:57.484 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":113802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:57.485 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.83f948b1-9293-4926-b64d-40857c792f1e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":691509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7d641d0e-c04b-4191-833e-c578ac2abe5f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":405805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7d641d0e-c04b-4191-833e-c578ac2abe5f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":293304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:56.716 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":42001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":52501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":682408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":62900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":399405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":142902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"97312a37-4ebf-4526-94e6-b29e90c2944a","description":"","id":"97312a37-4ebf-4526-94e6-b29e90c2944a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '97312a37-4ebf-4526-94e6-b29e90c2944a'","result":{"duration":30600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":858716018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '97312a37-4ebf-4526-94e6-b29e90c2944a'","result":{"duration":743109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1585920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":715009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":642408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":747509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":768910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":65001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":506307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":562807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":518406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":143201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":452005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:57.585 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":701209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":140402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:57.586 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":818711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":129801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:57.587 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":221403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":89901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:57.587 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":3072038,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":136902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:57.590 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":739710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:57.591 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":674408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"97312a37-4ebf-4526-94e6-b29e90c2944a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":348705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"97312a37-4ebf-4526-94e6-b29e90c2944a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":252303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:56.954 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":38400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":64500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":290304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":305104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":89501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"56093b94-7517-456d-a0d4-338aba3d8c74","description":"","id":"56093b94-7517-456d-a0d4-338aba3d8c74","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '56093b94-7517-456d-a0d4-338aba3d8c74'","result":{"duration":32301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":842281809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '56093b94-7517-456d-a0d4-338aba3d8c74'","result":{"duration":904412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":611908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":552607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":579907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":844711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":695009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":90501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":653909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":612507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":503106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":155202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":178502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:57.804 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":583108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":122201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:57.805 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":667108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":151302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:57.805 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":70901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":121702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:57.806 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":642608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":127801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:57.806 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":101201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:57.807 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":599807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"56093b94-7517-456d-a0d4-338aba3d8c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":358505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"56093b94-7517-456d-a0d4-338aba3d8c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":228003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":38501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:57.289 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":96701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":86301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":351905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":90101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":418905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":59401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":115302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c1fb5983-5642-4334-962a-a341cef8c8ff","description":"","id":"c1fb5983-5642-4334-962a-a341cef8c8ff","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":28700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":26101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":14000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c1fb5983-5642-4334-962a-a341cef8c8ff'","result":{"duration":13200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":29900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":844216232,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c1fb5983-5642-4334-962a-a341cef8c8ff'","result":{"duration":799410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":617508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":797910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":4332155,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":806410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":752210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":42201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":809410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":719109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":617608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":122902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":129001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:58.146 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":535606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":81801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:58.146 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":522306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":90501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:58.147 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":59301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:58.147 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":629508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":93601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:58.148 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":59201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:58.148 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":601508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c1fb5983-5642-4334-962a-a341cef8c8ff\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":435305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c1fb5983-5642-4334-962a-a341cef8c8ff\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":310904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":33401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:57.488 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":89601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":79601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":317204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":140502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":346904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":55801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":85401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217","description":"","id":"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":26101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":23900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":12900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":12201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217'","result":{"duration":12200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":11700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":857141394,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217'","result":{"duration":775910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":585608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":630308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":648908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":8413406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":846010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":66701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":511907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":616608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":481706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":235403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":201003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:58.361 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.28716afd-1e98-4623-9239-8abbd9249408_wms?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":586807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":186003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:58.362 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":678508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":151701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:58.363 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":105701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":117001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:58.363 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":648508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":152602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:58.364 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":102901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:58.364 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":666409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":442705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":267103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":35201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:57.594 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":96901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":99701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":313104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":135902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":339804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":56301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":116301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"12505d53-a942-467e-a462-ddbe5ac6467f","description":"","id":"12505d53-a942-467e-a462-ddbe5ac6467f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":45300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":22800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":13400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":11700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '12505d53-a942-467e-a462-ddbe5ac6467f'","result":{"duration":12500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":11900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":839006266,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '12505d53-a942-467e-a462-ddbe5ac6467f'","result":{"duration":1010213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":864711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":873711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":694409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":707109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":772910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":80301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":518407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":586807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":515207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":110301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":227203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:58.443 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.28716afd-1e98-4623-9239-8abbd9249408_wfs?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":603708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":105502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:58.443 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":604607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":166702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:58.444 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":102401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":144502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:58.444 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":631908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":205303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:58.445 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":166502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:58.445 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":600307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"12505d53-a942-467e-a462-ddbe5ac6467f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":367904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"12505d53-a942-467e-a462-ddbe5ac6467f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":245303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":34301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:57.810 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":109802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":83301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":412605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":142402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":356505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":68701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":156502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"8a772a52-d659-47b3-a131-82398fb78664","description":"","id":"8a772a52-d659-47b3-a131-82398fb78664","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":31700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":54300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '8a772a52-d659-47b3-a131-82398fb78664'","result":{"duration":12200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847450073,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8a772a52-d659-47b3-a131-82398fb78664'","result":{"duration":925812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":581407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":571708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":570107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":622008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":801210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":141102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":564607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":569107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":631708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":116801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":183302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:58.666 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/service\/atom\/id_predefined_dataset \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":688609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":143302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:58.666 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":638908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":174702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:58.667 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":69101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":113302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:58.667 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":720209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":143202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:58.668 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":111601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:58.668 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":641609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"8a772a52-d659-47b3-a131-82398fb78664\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":527906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"8a772a52-d659-47b3-a131-82398fb78664\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":484907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]}],"name":"src\/test\/java\/InspireTest\/ngr\/T02_Services.feature","description":"get details","id":"get-details","keyword":"Feature","uri":"src\/test\/java\/InspireTest\/ngr\/T02_Services.feature","tags":[{"name":"@step1","line":1}]}]