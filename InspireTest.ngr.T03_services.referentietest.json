[{"line":2,"elements":[{"line":4,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'https:\/\/inspire.ec.europa.eu\/validator\/v2\/'","result":{"duration":101112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"10:11:02.380 karate.env system property was:","line":5}}]},{"line":128,"name":"Conformance Class: Download Service - Pre-defined Atom,  Atom Invasieve Exoten (INSPIRE Geharmoniseerd) https:\/\/geodata.nationaalgeoregister.nl\/rvo\/inspire\/invasieve-exoten\/atom\/v1_0\/index.xml EID11571c92-3940-4f42-a6cd-5e2b1c6f4d93","description":"","id":"conformance-class:-download-service---pre-defined-atom,--atom-invasieve-exoten-(inspire-geharmoniseerd)-https:\/\/geodata.nationaalgeoregister.nl\/rvo\/inspire\/invasieve-exoten\/atom\/v1-0\/index.xml-eid11571c92-3940-4f42-a6cd-5e2b1c6f4d93","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def testRunRequest =","result":{"duration":2137144,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10,"doc_string":{"content_type":"","value":"{\n  \"label\": \"Conformance Class: Download Service - Pre-defined Atom,  Atom Invasieve Exoten (INSPIRE Geharmoniseerd)\",\n  \"executableTestSuiteIds\": [\n    \"EID11571c92-3940-4f42-a6cd-5e2b1c6f4d93\"\n  ],\n  \"arguments\": {},\n  \"testObject\": {\n    \"resources\": {\n      \"serviceEndpoint\": \"https:\/\/geodata.nationaalgeoregister.nl\/rvo\/inspire\/invasieve-exoten\/atom\/v1_0\/index.xml\"\n    }\n  }\n}","line":10}},{"name":"path 'TestRuns'","result":{"duration":15647883,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":26},{"name":"request testRunRequest","result":{"duration":41705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"method post","result":{"duration":10496401586,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":28},{"name":"assert responseStatus == 200 || responseStatus == 201","result":{"duration":12746075,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":29},{"name":"print response.EtfItemCollection.testRuns.TestRun.id","result":{"duration":12968297,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":30,"doc_string":{"content_type":"","value":"10:11:13.203 [print] EIDcc24b4ac-23db-4744-98b7-8e86e9e9be22","line":30}},{"name":"print response.EtfItemCollection.testRuns.TestRun.status","result":{"duration":4499750,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":31,"doc_string":{"content_type":"","value":"10:11:13.208 [print] UNDEFINED","line":31}},{"name":"print response.EtfItemCollection.testRuns.TestRun.label","result":{"duration":4599560,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":32,"doc_string":{"content_type":"","value":"10:11:13.213 [print] Conformance Class: Download Service - Pre-defined Atom,  Atom Invasieve Exoten (INSPIRE Geharmoniseerd)","line":32}},{"name":"print response.EtfItemCollection.ref","result":{"duration":3699170,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33,"doc_string":{"content_type":"","value":"10:11:13.217 [print] https:\/\/inspire.ec.europa.eu\/validator\/\/v2\/TestRuns\/cc24b4ac-23db-4744-98b7-8e86e9e9be22.json","line":33}},{"name":"print response.EtfItemCollection.testRuns.TestRun.logPath","result":{"duration":6708071,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34,"doc_string":{"content_type":"","value":"10:11:13.223 [print] https:\/\/inspire.ec.europa.eu\/validator\/\/v2\/TestRuns\/EIDcc24b4ac-23db-4744-98b7-8e86e9e9be22\/log","line":34}},{"name":"def statuspath = \"TestRuns\/\" + response.EtfItemCollection.testRuns.TestRun.id","result":{"duration":6047505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def progresspath = \"TestRuns\/\" + response.EtfItemCollection.testRuns.TestRun.id + \"\/progress\"","result":{"duration":4499150,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"print 'statuspath', statuspath","result":{"duration":8557156,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38,"doc_string":{"content_type":"","value":"10:11:13.243 [print] statuspath TestRuns\/EIDcc24b4ac-23db-4744-98b7-8e86e9e9be22","line":38}},{"name":"print 'progresspath ', progresspath","result":{"duration":4584258,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39,"doc_string":{"content_type":"","value":"10:11:13.248 [print] progresspath  TestRuns\/EIDcc24b4ac-23db-4744-98b7-8e86e9e9be22\/progress","line":39}},{"name":"path  progresspath","result":{"duration":16002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":46},{"name":"method GET","result":{"duration":525777685,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":47},{"name":"retry until response.val == response.max","result":{"duration":44705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"print response","result":{"duration":6285628,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49,"doc_string":{"content_type":"","value":"10:11:13.780 [print] {\n  \"val\": \"34\",\n  \"max\": \"35\",\n  \"log\": [\n    \"29.09.2020 10:11:08 - Preparing Test Run Conformance Class: Download Service - Pre-defined Atom,  Atom Invasieve Exoten (INSPIRE Geharmoniseerd) (initiated Tue Sep 29 10:11:08 UTC 2020)\",\n    \"29.09.2020 10:11:08 - Resolving Executable Test Suite dependencies\",\n    \"29.09.2020 10:11:08 - Preparing 1 Test Task:\",\n    \"29.09.2020 10:11:08 -  TestTask 1 (362eba3a-61d3-4389-b892-0283ddb2fbd7)\",\n    \"29.09.2020 10:11:08 -  will perform tests on Test Object 'index.xml' by using Executable Test Suite 'Conformance Class: Download Service - Pre-defined Atom (EID: 11571c92-3940-4f42-a6cd-5e2b1c6f4d93, V: 1.0.5 )'\",\n    \"29.09.2020 10:11:08 -  with parameters: \",\n    \"29.09.2020 10:11:08 - etf.testcases = *\",\n    \"29.09.2020 10:11:08 - Test Tasks prepared and ready to be executed. Waiting for the scheduler to start.\",\n    \"29.09.2020 10:11:08 - Setting state to CREATED\",\n    \"29.09.2020 10:11:08 - Changed state from CREATED to INITIALIZING\",\n    \"29.09.2020 10:11:09 - Starting TestRun.cc24b4ac-23db-4744-98b7-8e86e9e9be22 at 2020-09-29T10:11:11Z\",\n    \"29.09.2020 10:11:11 - Changed state from INITIALIZING to INITIALIZED\",\n    \"29.09.2020 10:11:11 - Project Properties: \",\n    \"29.09.2020 10:11:11 - etf.testcases - * \",\n    \"29.09.2020 10:11:11 - serviceEndpoint - https:\/\/geodata.nationaalgeoregister.nl\/rvo\/inspire\/invasieve-exoten\/atom\/v1_0\/index.xml \",\n    \"29.09.2020 10:11:11 - username -  \",\n    \"29.09.2020 10:11:11 - authUser -  \",\n    \"29.09.2020 10:11:11 - authMethod - basic \",\n    \"29.09.2020 10:11:11 - TestRunTask initialized\"\n  ]\n}","line":49}},{"name":"path  progresspath","result":{"duration":37804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":51},{"name":"method GET","result":{"duration":24119400970,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":52},{"name":"print response","result":{"duration":656151,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"10:11:37.901 [print] {\n  \"val\": \"241\",\n  \"max\": \"241\",\n  \"log\": [\n  ]\n}","line":54}},{"name":"path  statuspath","result":{"duration":19601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":56},{"name":"method GET","result":{"duration":4694681395,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":57},{"name":"print response.EtfItemCollection.testRuns.TestRun.id","result":{"duration":683350,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59,"doc_string":{"content_type":"","value":"10:11:42.597 [print] EIDcc24b4ac-23db-4744-98b7-8e86e9e9be22","line":59}},{"name":"print response.EtfItemCollection.testRuns.TestRun.status","result":{"duration":468934,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":60,"doc_string":{"content_type":"","value":"10:11:42.598 [print] FAILED","line":60}},{"name":"def status = response.EtfItemCollection.testRuns.TestRun.status","result":{"duration":269520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":61},{"name":"print status","result":{"duration":259419,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62,"doc_string":{"content_type":"","value":"10:11:42.598 [print] FAILED","line":62}},{"name":"print response.EtfItemCollection.testRuns.TestRun.label","result":{"duration":648748,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63,"doc_string":{"content_type":"","value":"10:11:42.599 [print] Conformance Class: Download Service - Pre-defined Atom,  Atom Invasieve Exoten (INSPIRE Geharmoniseerd)","line":63}},{"name":"print response.EtfItemCollection.ref","result":{"duration":1020274,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":64,"doc_string":{"content_type":"","value":"10:11:42.600 [print] https:\/\/inspire.ec.europa.eu\/validator\/\/v2\/TestRuns\/cc24b4ac-23db-4744-98b7-8e86e9e9be22.json","line":64}},{"name":"def ref = response.EtfItemCollection.ref","result":{"duration":203015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":65},{"name":"print ref","result":{"duration":237417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":66,"doc_string":{"content_type":"","value":"10:11:42.601 [print] https:\/\/inspire.ec.europa.eu\/validator\/\/v2\/TestRuns\/cc24b4ac-23db-4744-98b7-8e86e9e9be22.json","line":66}},{"name":"print response.EtfItemCollection.testRuns.TestRun.logPath","result":{"duration":374528,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":68,"doc_string":{"content_type":"","value":"10:11:42.601 [print] https:\/\/inspire.ec.europa.eu\/validator\/\/v2\/TestRuns\/EIDcc24b4ac-23db-4744-98b7-8e86e9e9be22\/log","line":68}},{"name":"def embedUrl =","result":{"duration":4110801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":71,"doc_string":{"content_type":"","value":"function(url, hyperlinkText)\n     { var html = '<a href=\\\"' + url + '\\\" >' + hyperlinkText + '<\/a>';\n     karate.embed(html,'text\/html'); }","line":71}},{"name":"def time = java.lang.System.currentTimeMillis()","result":{"duration":8674134,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":77},{"name":"def jsonPath = time + 'Conformance Class: Download Service - Pre-defined Atom,  Atom Invasieve Exoten (INSPIRE Geharmoniseerd).json'","result":{"duration":4970163,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":78},{"name":"def responsecontent = response","result":{"duration":14901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":79},{"name":"karate.write(responsecontent, jsonPath)","result":{"duration":41734848,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":80},{"name":"def a = embedUrl (ref.substring(0, ref.length - 5) + '.html' ,  status )","result":{"duration":39908814,"status":"passed"},"match":{"location":"karate","arguments":[]},"embeddings":[{"data":"PGEgaHJlZj0iaHR0cHM6Ly9pbnNwaXJlLmVjLmV1cm9wYS5ldS92YWxpZGF0b3IvL3YyL1Rlc3RSdW5zL2NjMjRiNGFjLTIzZGItNDc0NC05OGI3LThlODZlOWU5YmUyMi5odG1sIiA+RkFJTEVEPC9hPg==","mime_type":"text\/html"}],"keyword":"*","line":81},{"name":"def a = embedUrl (\"..\/..\/\" + jsonPath ,  status )","result":{"duration":13830310,"status":"passed"},"match":{"location":"karate","arguments":[]},"embeddings":[{"data":"PGEgaHJlZj0iLi4vLi4vMTYwMTM3NDMwMjYxNENvbmZvcm1hbmNlIENsYXNzOiBEb3dubG9hZCBTZXJ2aWNlIC0gUHJlLWRlZmluZWQgQXRvbSwgIEF0b20gSW52YXNpZXZlIEV4b3RlbiAoSU5TUElSRSBHZWhhcm1vbmlzZWVyZCkuanNvbiIgPkZBSUxFRDwvYT4=","mime_type":"text\/html"}],"keyword":"*","line":82},{"name":"def json = get[0] response.EtfItemCollection.referencedItems.testTaskResults","result":{"duration":257119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":86},{"name":"def jsonfailedStep = $json.TestTaskResult.testModuleResults.TestModuleResult[*].testCaseResults.TestCaseResult[*].testStepResults.TestStepResult[?(@.status=='FAILED')]","result":{"duration":16416499,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":87},{"name":"def jsonFailedStepmessages = $jsonfailedStep[*].messages.message.ref","result":{"duration":208315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":88},{"name":"print jsonFailedStepmessages","result":{"duration":1062378,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":89,"doc_string":{"content_type":"","value":"10:11:42.734 [print] [\n]","line":89}},{"name":"def jsonfailedAssert = $jsonfailedStep[*].testAssertionResults.TestAssertionResult[?(@.status=='FAILED')]","result":{"duration":1242190,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":90},{"name":"def jsonfailedMessages = $jsonfailedAssert[*].messages.message","result":{"duration":164312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":91},{"name":"def tmpref = $jsonfailedMessages[*].ref","result":{"duration":651547,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":92},{"name":"def refs = karate.append( jsonFailedStepmessages, tmpref )","result":{"duration":27192286,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":93},{"name":"def expectedresult = read('classpath:InspireTest\/ETFexpected\/atomerror.json')","result":{"duration":7771467,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":96},{"name":"def Collections = Java.type('java.util.Collections')","result":{"duration":6624284,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":97},{"name":"copy sortedrefs = refs","result":{"duration":127909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":98},{"name":"Collections.sort(sortedrefs)","result":{"duration":30322615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":99},{"name":"copy sortedexpectedrefs = $expectedresult[*].ref","result":{"duration":263019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":100},{"name":"Collections.sort(sortedexpectedrefs)","result":{"duration":6136148,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":101},{"name":"print refs","result":{"duration":426631,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":102,"doc_string":{"content_type":"","value":"10:11:42.816 [print] [\n  \"TR.missingAtLeastOneOpenSearchDescriptionUrl\",\n  \"TR.missingElement\",\n  \"TR.missingElement\",\n  \"TR.missingElement\",\n  \"TR.missingGenericSearchQueriesUrl\"\n]","line":102}},{"name":"print sortedrefs","result":{"duration":257319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":103,"doc_string":{"content_type":"","value":"10:11:42.816 [print] [\n  \"TR.missingAtLeastOneOpenSearchDescriptionUrl\",\n  \"TR.missingElement\",\n  \"TR.missingElement\",\n  \"TR.missingElement\",\n  \"TR.missingGenericSearchQueriesUrl\"\n]","line":103}},{"name":"print sortedexpectedrefs","result":{"duration":173512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":104,"doc_string":{"content_type":"","value":"10:11:42.816 [print] [\n  \"TR.missingAtLeastOneOpenSearchDescriptionUrl\",\n  \"TR.missingElement\",\n  \"TR.missingElement\",\n  \"TR.missingElement\",\n  \"TR.missingGenericSearchQueriesUrl\"\n]","line":104}},{"name":"match sortedrefs == sortedexpectedrefs","result":{"duration":139910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":105},{"name":"print jsonfailedMessages","result":{"duration":690550,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":107,"doc_string":{"content_type":"","value":"10:11:42.817 [print] [\n  {\n    \"ref\": \"TR.missingAtLeastOneOpenSearchDescriptionUrl\",\n    \"translationArguments\": {\n      \"argument\": [\n        {\n          \"$\": \"os:Url\",\n          \"token\": \"element\"\n        },\n        {\n          \"$\": \"\/os:OpenSearchDescription\/os:Url[@rel='results' and starts-with(@template,'http') and contains(@template,'crs') and contains(@template,'spatial_dataset_identifier_code') and contains(@template,'spatial_dataset_identifier_namespace') and contains(@template,'language')]\",\n          \"token\": \"xpath\"\n        }\n      ]\n    }\n  },\n  {\n    \"ref\": \"TR.missingElement\",\n    \"translationArguments\": {\n      \"argument\": [\n        {\n          \"$\": \"os:Query\",\n          \"token\": \"element\"\n        },\n        {\n          \"$\": \"\/os:OpenSearchDescription\/os:Query[@role='example' and @inspire_dls:crs]\",\n          \"token\": \"xpath\"\n        }\n      ]\n    }\n  },\n  {\n    \"ref\": \"TR.missingElement\",\n    \"translationArguments\": {\n      \"argument\": [\n        {\n          \"$\": \"os:Query\",\n          \"token\": \"element\"\n        },\n        {\n          \"$\": \"\/os:OpenSearchDescription\/os:Query[@role='example' and @inspire_dls:spatial_dataset_identifier_namespace and @inspire_dls:spatial_dataset_identifier_code]\",\n          \"token\": \"xpath\"\n        }\n      ]\n    }\n  },\n  {\n    \"ref\": \"TR.missingElement\",\n    \"translationArguments\": {\n      \"argument\": [\n        {\n          \"$\": \"os:Query\",\n          \"token\": \"element\"\n        },\n        {\n          \"$\": \"\/os:OpenSearchDescription\/os:Query[@role='example' and @inspire_dls:spatial_dataset_identifier_namespace and @inspire_dls:spatial_dataset_identifier_code]\",\n          \"token\": \"xpath\"\n        }\n      ]\n    }\n  },\n  {\n    \"ref\": \"TR.missingGenericSearchQueriesUrl\",\n    \"translationArguments\": {\n      \"argument\": [\n        {\n          \"$\": \"@template\",\n          \"token\": \"element\"\n        },\n        {\n          \"$\": \"\/os:OpenSearchDescription\/os:Url[@rel='results' and @type='text\/html']\/@template\",\n          \"token\": \"xpath\"\n        }\n      ]\n    }\n  }\n]","line":107}},{"name":"def tempdir = java.lang.System.getProperty('user.dir')","result":{"duration":2632792,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":111},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":9921925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":112},{"name":"def outputpath = tempdir + separator + 'output' + separator","result":{"duration":5610810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":113},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":2732499,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":114},{"name":"def db = new mystorage","result":{"duration":2577088,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":115},{"name":"def LocalDateTime = Java.type('java.time.LocalDateTime')","result":{"duration":2152157,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":116},{"name":"eval db.writeln('- Test: '+ karate.info.scenarioName+ '\\n  Time: '+ LocalDateTime.now() +'\\n  Errors: ' +  sortedrefs  ,  outputpath + karate.info.featureFileName + '.yaml')","result":{"duration":17491078,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":117}]}],"name":"InspireTest\/ngr\/T03_services\/referentietest.feature","description":"Service test Invasieve exoten","id":"service-test-invasieve-exoten","keyword":"Feature","uri":"InspireTest\/ngr\/T03_services\/referentietest.feature","tags":[{"name":"@step3","line":1}]}]