[{"line":2,"elements":[{"line":4,"name":"write header","description":"","id":"write-header","type":"scenario","keyword":"Scenario","steps":[{"name":"def callheaderresult = callonce read('classpath:InspireTest\/def\/writedatasetcsvheader.template.feature')","result":{"duration":103313061,"error_message":"com.intuit.karate.exception.KarateException: ngr-do-once.feature:5 - \nwritedatasetcsvheader.template.feature:11 - evaluation (js) failed: db.writeln( '\"datasetIdentifierCode\",\"title\",\"dataIdentificationCitationAnchor\",\"organisation\",\"electronicMailAddress\",\"metadataStandardVersion\",', outputpath + 'datasets.csv'), java.lang.RuntimeException: java.io.FileNotFoundException: \/home\/runner\/work\/nl-ngr-validation\/nl-ngr-validation\/output\/datasets.csv (No such file or directory)\nstack trace: jdk.scripting.nashorn\/jdk.nashorn.internal.runtime.ScriptRuntime.apply(ScriptRuntime.java:531)","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"12:17:16.552 feature call failed: classpath:InspireTest\/def\/writedatasetcsvheader.template.feature\narg: null\nwritedatasetcsvheader.template.feature:11 - evaluation (js) failed: db.writeln( '\"datasetIdentifierCode\",\"title\",\"dataIdentificationCitationAnchor\",\"organisation\",\"electronicMailAddress\",\"metadataStandardVersion\",', outputpath + 'datasets.csv'), java.lang.RuntimeException: java.io.FileNotFoundException: \/home\/runner\/work\/nl-ngr-validation\/nl-ngr-validation\/output\/datasets.csv (No such file or directory)\nstack trace: jdk.scripting.nashorn\/jdk.nashorn.internal.runtime.ScriptRuntime.apply(ScriptRuntime.java:531)","line":5}},{"name":"InspireTest\/def\/writedatasetcsvheader.template.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":5},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":13483617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6,"doc_string":{"content_type":"","value":"12:17:16.161 karate.env system property was:  \n12:17:16.473 >> lock acquired, begin callonce: read('classpath:InspireTest\/def\/writedatasetcsvheader.template.feature')","line":6}},{"name":"def db = new mystorage","result":{"duration":3278053,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def tempdir = java.lang.System.getProperty('user.dir')","result":{"duration":15786454,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":5296385,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def outputpath = tempdir + separator + 'output' + separator","result":{"duration":15988257,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"eval db.writeln( '\"datasetIdentifierCode\",\"title\",\"dataIdentificationCitationAnchor\",\"organisation\",\"electronicMailAddress\",\"metadataStandardVersion\",', outputpath + 'datasets.csv')","result":{"duration":10777673,"error_message":"com.intuit.karate.exception.KarateException: writedatasetcsvheader.template.feature:11 - evaluation (js) failed: db.writeln( '\"datasetIdentifierCode\",\"title\",\"dataIdentificationCitationAnchor\",\"organisation\",\"electronicMailAddress\",\"metadataStandardVersion\",', outputpath + 'datasets.csv'), java.lang.RuntimeException: java.io.FileNotFoundException: \/home\/runner\/work\/nl-ngr-validation\/nl-ngr-validation\/output\/datasets.csv (No such file or directory)\nstack trace: jdk.scripting.nashorn\/jdk.nashorn.internal.runtime.ScriptRuntime.apply(ScriptRuntime.java:531)","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"eval db.writeln( '\"serviceIdentifierCode\",\"title\",\"dataIdentificationCitationAnchor\",\"organisation\",\"electronicMailAddress\",\"metadataStandardVersion\",', outputpath + 'services.csv')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":12},{"name":"eval db.writeln( '\"serviceIdentifierCode\",\"title\",\"dataIdentificationCitationAnchor\",\"organisation\",\"electronicMailAddress\",\"metadataStandardVersion\",', outputpath + 'seriess.csv')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"eval db.writeln( '\"serviceIdentifierCode\",\"title\",\"dataIdentificationCitationAnchor\",\"organisation\",\"electronicMailAddress\",\"metadataStandardVersion\",', outputpath + 'services-Beheer PDOK.csv')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14}]},{"line":7,"name":"get id's","description":"","id":"get-id's","type":"scenario","keyword":"Scenario","steps":[{"name":"configure readTimeout = 240000","result":{"duration":7021513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8,"doc_string":{"content_type":"","value":"12:17:16.161 karate.env system property was:","line":8}},{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":2021433,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def callonesresult = callonce read('classpath:InspireTest\/def\/getcswbriefrecords.feature')","result":{"duration":6461592932,"error_message":"com.intuit.karate.exception.KarateException: ngr-do-once.feature:10 - \ngetcswbriefrecords.feature:29 - evaluation (js) failed: db.writeln(karate.pretty(list),idfile), java.lang.RuntimeException: java.io.FileNotFoundException: \/home\/runner\/work\/nl-ngr-validation\/nl-ngr-validation\/output\/ids.json (No such file or directory)\nstack trace: jdk.scripting.nashorn\/jdk.nashorn.internal.runtime.ScriptRuntime.apply(ScriptRuntime.java:531)","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10,"doc_string":{"content_type":"","value":"12:17:22.931 feature call failed: classpath:InspireTest\/def\/getcswbriefrecords.feature\narg: null\ngetcswbriefrecords.feature:29 - evaluation (js) failed: db.writeln(karate.pretty(list),idfile), java.lang.RuntimeException: java.io.FileNotFoundException: \/home\/runner\/work\/nl-ngr-validation\/nl-ngr-validation\/output\/ids.json (No such file or directory)\nstack trace: jdk.scripting.nashorn\/jdk.nashorn.internal.runtime.ScriptRuntime.apply(ScriptRuntime.java:531)","line":10}},{"name":"InspireTest\/def\/getcswbriefrecords.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":10},{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":1480324,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6,"doc_string":{"content_type":"","value":"12:17:16.552 >> lock acquired, begin callonce: read('classpath:InspireTest\/def\/getcswbriefrecords.feature')","line":6}},{"name":"path 'geonetwork\/srv\/dut\/inspire'","result":{"duration":2082133,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":8},{"name":"param service = 'CSW'","result":{"duration":1848729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":9},{"name":"param version = '2.0.2'","result":{"duration":5604390,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":10},{"name":"param request = 'GetRecords'","result":{"duration":1742628,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":11},{"name":"param propertyName = 'identifier'","result":{"duration":3866862,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":12},{"name":"param typeNames = 'csw:Record'","result":{"duration":3928163,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":13},{"name":"param elementsetname = \"brief\"","result":{"duration":3963464,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":14},{"name":"param resultType = 'results'","result":{"duration":6027597,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":15},{"name":"param startposition = 1","result":{"duration":1846329,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":16},{"name":"param maxRecords = 30","result":{"duration":1694327,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"method get","result":{"duration":6233649898,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":18},{"name":"status 200","result":{"duration":27001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":19},{"name":"def briefarray = get response \/GetRecordsResponse\/SearchResults\/BriefRecord[*]\/identifier","result":{"duration":26510868,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20},{"name":"def list = karate.mapWithKey(briefarray ,'datasetIdentifierCode')","result":{"duration":8408717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":21},{"name":"def json = karate.map(list, function(x, i){ return {} })","result":{"duration":15916422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":22},{"name":"def tempdir = java.lang.System.getProperty('user.dir')","result":{"duration":3428148,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":303204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":24},{"name":"def idfile = tempdir + separator + 'output' + separator + 'ids.json'","result":{"duration":8068212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":25},{"name":"print idfile","result":{"duration":4727366,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":26,"doc_string":{"content_type":"","value":"12:17:22.894 [print] \/home\/runner\/work\/nl-ngr-validation\/nl-ngr-validation\/output\/ids.json","line":26}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":624908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":27},{"name":"def db = new mystorage","result":{"duration":365705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":28},{"name":"eval db.writeln(karate.pretty(list),idfile)","result":{"duration":33385864,"error_message":"com.intuit.karate.exception.KarateException: getcswbriefrecords.feature:29 - evaluation (js) failed: db.writeln(karate.pretty(list),idfile), java.lang.RuntimeException: java.io.FileNotFoundException: \/home\/runner\/work\/nl-ngr-validation\/nl-ngr-validation\/output\/ids.json (No such file or directory)\nstack trace: jdk.scripting.nashorn\/jdk.nashorn.internal.runtime.ScriptRuntime.apply(ScriptRuntime.java:531)","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":29}]}],"name":"InspireTest\/ngr\/T01_ids\/ngr-do-once.feature","description":"run onces  automatically","id":"run-onces--automatically","keyword":"Feature","uri":"InspireTest\/ngr\/T01_ids\/ngr-do-once.feature","tags":[{"name":"@step0","line":1}]}]